"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1477],{10:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"/2022/Vue2-7-\u65b0\u589e\u7684Composition-API\u6e90\u7801\u89e3\u8bfb","metadata":{"permalink":"/blog/2022/Vue2-7-\u65b0\u589e\u7684Composition-API\u6e90\u7801\u89e3\u8bfb","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2022/Vue2-7-\u65b0\u589e\u7684Composition-API\u6e90\u7801\u89e3\u8bfb.md","source":"@site/blog/2022/Vue2-7-\u65b0\u589e\u7684Composition-API\u6e90\u7801\u89e3\u8bfb.md","title":"Vue2.7 \u65b0\u589e\u7684Composition API\u6e90\u7801\u89e3\u8bfb","description":"\u57282.7\u4e2d\u65b0\u589e\u4e86Composition API\uff0c\u89e3\u51b3\u4e86mixin\u7684\u95ee\u9898","date":"2022-11-21T23:00:36.000Z","formattedDate":"2022\u5e7411\u670821\u65e5","tags":[{"label":"Vue","permalink":"/blog/tags/vue"}],"readingTime":2.785,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Vue2.7 \u65b0\u589e\u7684Composition API\u6e90\u7801\u89e3\u8bfb","date":"2022-11-21T23:00:36.000Z","tags":["Vue"]},"nextItem":{"title":"\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7","permalink":"/blog/2021/\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7"}},"content":"\u57282.7\u4e2d\u65b0\u589e\u4e86Composition API\uff0c\u89e3\u51b3\u4e86mixin\u7684\u95ee\u9898\\n\\n\u5982\u679c\u662f\u8001\u9879\u76ee\u53ef\u4ee5\u5c1d\u8bd5\u5347\u7ea7\u4e00\u4e0b\uff0chook\u7684\u65b9\u5f0f\u6781\u5927\u7684\u63d0\u5347\u4e86\u4ee3\u7801\u8d28\u91cf\\n\\n\u4e0b\u9762\u5927\u6982\u8bf4\u4e00\u4e0b\u6e90\u7801\u7ec4\u5408\u5f0fAPI\u7684\u6d41\u7a0b\\n\\n\\n\\n\u5728\u6700\u65b0\u7684\u4ee3\u7801\u4e2d\u53ef\u4ee5\u770b\u5230vue\u5df2\u7ecf\u5168\u90e8\u4f7f\u7528ts\u8fdb\u884c\u4e86\u91cd\u5199\uff0c\u5728\u770b\u6e90\u7801\u65f6\u63d0\u4f9b\u4e86\u6781\u5927\u7684\u4fbf\u5229\u3002\\n\\n\u7ec4\u5408\u5f0fAPI\u4e3b\u8981\u96c6\u4e2d\u5728 `src/v3`\u6587\u4ef6\u5939\u5185\uff0c\u5b8c\u5168\u5bf9\u5e94vue3\u7684\u7684\u7ec4\u5408\u5f0fAPI\u7684\u5199\u6cd5\\n\\n\\n\x3c!--truncate--\x3e\\n\\n\u5728`v3/apiSetup`\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e86setup\u51fd\u6570\u7684\u6838\u5fc3`initSetup`\\n\\n\u8ddf\u7740initSetup\u770b\u770b\u8c03\u7528\u7684\u5730\u65b9\\n\\n\u5728Vue\u521d\u59cb\u5316\u65f6\u7684initState\u4e2d\u8c03\u7528\u4e86initSetup\u5e76\u628avm\u5b9e\u4f8b\u4f20\u5165setup\u4e2d\uff0c\u5c31\u8fd9\u6837\u7ec4\u5408\u5f0fAPI\u53ef\u4ee5\u5728vue\u4e2d\u4f7f\u7528\u4e86\\n\\n\\n\\n\u7b80\u5355\u4ecb\u7ecd\u4e0bsetup\u4f7f\u7528\u7684\u54cd\u5e94\u5f0f\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u53d1\u751f\u53cc\u5411\u6570\u636e\u7ed1\u5b9a\\n\\n\u5728setup\u4e2d\u5b9a\u4e49\u54cd\u5e94\u5f0f\u6570\u636ereactive\u4ee5\u53caref\\n\\n\u5728reactive\u6e90\u7801\u4e2d\uff0c\u5176\u5b9e\u5c31\u662f\u5bf9\u4f20\u5165\u7684\u5bf9\u8c61\u8fdb\u884c\u4e86\u4e00\u4e2a\u54cd\u5e94\u5f0f\u5904\u7406\uff0c\u5bf9\u6570\u636e\u8fdb\u884cobserve\u3002\u4e0e2.7\u524d\u7684\u7248\u672c\u4e2ddata\u5b9a\u4e49\u7684\u6570\u636e\u8fdb\u884c\u4e86\u4e00\u6837\u7684\u5904\u7406\uff0c\u6240\u4ee5reactive\u7684\u6570\u636e\u4e5f\u4f1a\u662f\u53cc\u5411\u6570\u636e\u7ed1\u5b9a\uff0cget\u7684\u65f6\u5019\u6dfb\u52a0\u4e86dep\u4f9d\u8d56\uff0cset\u7684\u65f6\u5019\u5bf9\u901a\u77e5\u4f9d\u8d56\u8fdb\u884c\u66f4\u65b0\uff0c\u89e6\u53d1\u9875\u9762\u7684render\\n\\nref\u4e2d\u4e5f\u662f\u7c7b\u4f3c\uff0c\u5982\u679c\u4f20\u5165\u7684\u503c\u662fref\u5219\u76f4\u63a5\u628aref\u7684\u5b9e\u4f8b\u8fdb\u884c\u590d\u5236\uff0c\u5426\u5219\u5728ref\u4e2d\u5b9a\u4e49\u4e00\u4e2avalue\u7684\u5c5e\u6027\uff0c\u5e76\u628a\u4f20\u5165\u7684\u503c\u8fdb\u884c\u54cd\u5e94\u5f0f\u5904\u7406observe\uff0c\u4e0ereactive\u7c7b\u4f3c\\n\\n\u5b9e\u9645\u7684\u539f\u7406\u5c31\u662f\u8131\u79bb\u4e0d\u4e86\u54cd\u5e94\u5f0f\u7684\u90e8\u5206\u4ee3\u7801\uff0c\u9488\u5bf9\u8fd9\u4e24\u4e2aapi\u8fdb\u884c\u5904\u7406\uff0c\u4e0e\u5728data\u4e2d\u5b9a\u4e49\u53d8\u91cf\u4e00\u6837\u3002\u5bf9\u4e8esetup\u4e2d\u4f7f\u7528\u7684\u5176\u4ed6api\u4e0d\u8fdb\u884c\u8fc7\u591a\u63cf\u8ff0\u3002\\n\\n\u53e6\u5916\u5728observe\u7684\u65f6\u5019\u52a0\u4e86\u5bf9ref\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u5c31\u662f\u89e3\u6784ref\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5982\u679cset\u7684\u6570\u636e\u662fref\u7c7b\u578b\u7684\u6570\u636e\u90a3\u4e48\u5bf9ref.value\u76f4\u63a5\u8d4b\u503c\uff0c\u5c31\u4e0d\u9700\u8981\u81ea\u5df1\u624b\u52a8\u7528.value\u7684\u65b9\u5f0f\u8fdb\u884c\u8d4b\u503c\uff0c\u5728\u6df1\u5c42\u54cd\u5e94\u5f0f\u5bf9\u8c61\u4f7f\u7528\u65f6\u53ef\u4ee5\u4f53\u73b0\u8fd9\u4e2a\u64cd\u4f5c\\n\\n\\n\\napiInject apiLifecycle\u8fd9\u4e9bapi\u6bd4\u8f83\u7b80\u5355\uff0c\u5c31\u662f\u5728\u5bf9vm\u5b9e\u4f8b\u4e0a\u6dfb\u52a0\u5bf9\u5e94\u5c5e\u6027\u5c31\u53ef\u4ee5\u4f7f\u7528\\n\\n\\n\\n\u9644\u4e0a\u7b80\u5355\u601d\u7ef4\u5bfc\u56fe\\n\\n\\n![image](../images/21669042788.jpg)"},{"id":"/2021/\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7","metadata":{"permalink":"/blog/2021/\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7.md","source":"@site/blog/2021/\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7.md","title":"\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7","description":"\u5f00\u53d1h5\u9875\u9762\u7684\u65f6\u5019\uff0c\u5728\u6d4b\u8bd5\u65f6\u9047\u5230bug\u5982\u679c\u5355\u51edvconsole\u8fd9\u7c7b\u5de5\u5177\u8fd8\u662f\u4f1a\u6bd4\u8f83\u5f31\u7684\u3002\u6709\u65f6\u5019\u60f3\u8981\u4fee\u6539\u9875\u9762\u5143\u7d20\uff0c\u6216\u8005\u67e5\u770b\u5143\u7d20\uff0c\u5728\u6d4f\u89c8\u5668\u4e0a\u67e5\u770b\u5c31\u4f1a\u5f88\u65b9\u4fbf\uff0c\u8fd9\u91cc\u5206\u4eab\u4e00\u4e0b\u5982\u4f55\u901a\u8fc7\u7535\u8111\u6765\u8c03\u8bd5\u771f\u673a\u7684\u9875\u9762","date":"2021-09-22T23:49:41.000Z","formattedDate":"2021\u5e749\u670822\u65e5","tags":[],"readingTime":2.55,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7","date":"2021-09-22T23:49:41.000Z"},"prevItem":{"title":"Vue2.7 \u65b0\u589e\u7684Composition API\u6e90\u7801\u89e3\u8bfb","permalink":"/blog/2022/Vue2-7-\u65b0\u589e\u7684Composition-API\u6e90\u7801\u89e3\u8bfb"},"nextItem":{"title":"react + typescript + vite\u5b9e\u6218","permalink":"/blog/2021/react-typescript-vite\u5b9e\u6218"}},"content":"\u5f00\u53d1h5\u9875\u9762\u7684\u65f6\u5019\uff0c\u5728\u6d4b\u8bd5\u65f6\u9047\u5230bug\u5982\u679c\u5355\u51edvconsole\u8fd9\u7c7b\u5de5\u5177\u8fd8\u662f\u4f1a\u6bd4\u8f83\u5f31\u7684\u3002\u6709\u65f6\u5019\u60f3\u8981\u4fee\u6539\u9875\u9762\u5143\u7d20\uff0c\u6216\u8005\u67e5\u770b\u5143\u7d20\uff0c\u5728\u6d4f\u89c8\u5668\u4e0a\u67e5\u770b\u5c31\u4f1a\u5f88\u65b9\u4fbf\uff0c\u8fd9\u91cc\u5206\u4eab\u4e00\u4e0b\u5982\u4f55\u901a\u8fc7\u7535\u8111\u6765\u8c03\u8bd5\u771f\u673a\u7684\u9875\u9762\\n\\n## \u5b89\u5353\\n\\n\u5728\u8c37\u6b4c\u6d4f\u89c8\u5668\u5b89\u88c5**ADB plugin**\\n\\n\u5b89\u5353\u624b\u673a\u901a\u8fc7\u6570\u636e\u7ebf\u8fde\u63a5\u5230\u7535\u8111\u4e0a\uff0c\u5f39\u51faUSB\u7528\u4e8e\u7684\u5f39\u6846\uff0c\u9009\u62e9\u4f20\u8f93\u6587\u4ef6\\n\\n\u624b\u673a\u5728\u5f00\u53d1\u8005\u9009\u9879\u4e2d\u627e\u5230USB\u8c03\u8bd5\uff0c\u6253\u5f00USB\u8c03\u8bd5\\n\\n\u7136\u540e\u5728**\u624b\u673a\u7684\u8c37\u6b4c\u6d4f\u89c8\u5668**\u4e2d\u6253\u5f00\u5bf9\u5e94\u7f51\u5740\uff0c\u5728\u7535\u8111\u7684\u8c37\u6b4c\u6d4f\u89c8\u5668\u4e0a\u8f93\u5165chrome://inspect/#devices\\n\\n\u5c31\u80fd\u770b\u5230\u624b\u673a\u8bbe\u5907\\n\x3c!--truncate--\x3e\\n\\n![image-20210918113449984](../images/webh5debug.png)\\n\\n\u70b9\u51fbinspect\u540e\\n\\n![image-20210918113517190](../images/webh5debug2.png)\\n\\n\u663e\u793a\u7684\u5c31\u662f\u624b\u673a\u4e0a\u7684\u9875\u9762\u7136\u540e\u53ef\u4ee5\u50cf\u5728pc\u4e0a\u4e00\u6837\u53bb\u8c03\u8bd5\u9875\u9762\u4e86\\n\\n### \u5185\u5d4capp\u7684h5\u9875\u9762\\n\\n\u5bf9\u4e8e\u5728\u516c\u53f8\u4ea7\u54c1\u7684app\u4e0a\u5185\u5d4ch5\u9875\u9762\uff0c\u53ef\u4ee5\u53eb\u5b89\u5353\u7684\u540c\u5b66\u6253\u5f00**webview\u7684\u8c03\u8bd5**\uff0c\u7136\u540e\u8fdb\u5165\u5bf9\u5e94\u7684\u9875\u9762\u540e\uff0c\u5728\u4e0a\u9762\u7684chrome://inspect/#devices\u5730\u5740\u4e5f\u80fd\u770b\u5230\uff0c\u4e0d\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u662f\u9700\u8981 **fan\u5899** \u7684\u652f\u6301\uff0c\u4e0d\u7136\u662f\u6ca1\u529e\u6cd5\u770b\u5230\u9875\u9762\u7684\\n\\n\\n\\n## iOS\\n\\n\u624b\u673a\u8fdb\u5165\u8bbe\u7f6e\uff0c\u627e\u5230safari\u6d4f\u89c8\u5668\uff0c\u8fdb\u5165\u627e\u5230\u9ad8\u7ea7\u9009\u9879\u7136\u540e\u6253\u5f00\u7f51\u9875\u68c0\u67e5\u5668\u9009\u9879\\n\\n\u5728\u7535\u8111\u7684safari\u4e0a\u627e\u5230\u5f00\u53d1\u9009\u9879\uff0c\u627e\u5230\u5bf9\u5e94\u7684ios\u8bbe\u5907\uff0c\u7136\u540e\u53f3\u4fa7\u4f1a\u5c55\u793a\u5bf9\u5e94\u7684\u94fe\u63a5\uff0c\u70b9\u51fb\u8fdb\u5165\u94fe\u63a5\uff0c\u5c31\u4f1a\u6253\u5f00\u8c03\u8bd5\u9762\u677f\\n\\n\u627e\u4e0d\u5230\u5f00\u53d1\u9009\u9879\u7684\uff0c\u9700\u8981\u5728\u504f\u597d\u8bbe\u7f6e\u4e2d\u300b\u9ad8\u7ea7\u300b\u52fe\u9009\u5728\u83dc\u5355\u680f\u4e2d\u663e\u793a\u5f00\u53d1\u83dc\u5355\\n\\n![image-20210918120326258](../images/webh5debug3.png)\\n\u7136\u540e\u5c31\u53ef\u4ee5\u50cf\u5728\u5f00\u53d1\u7684\u65f6\u5019\u4e00\u6837\u8c03\u8bd5\u4e86\\n\\n\\n\\n## \u5bf9\u4e8e\u5728\u5fae\u4fe1\u516c\u4f17\u53f7\u4e4b\u7c7b\u7684\u9875\u9762\\n\\n1. \u4f7f\u7528vconsole\uff0c\u57fa\u672c\u80fd\u591f\u6ee1\u8db3\u8c03\u8bd5\u76ee\u7684\uff0c\u80fd\u770b\u6570\u636e\uff0c\u4e5f\u80fd\u770b\u5143\u7d20\\n2. \u5bf9\u4e8e\u4e0a\u7ebf\u7684\u4ea7\u54c1\uff0c\u53ef\u4ee5\u8003\u8651fiddler\uff0cwireshark\uff0clightproxy\uff0cwhistle\u7b49\u6293\u5305\u5de5\u5177\\n3. \u4f7f\u7528\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\uff0c\u80fd\u591f\u6a21\u62df\u5728\u5fae\u4fe1\u4e2d\u6253\u5f00\u7684\u771f\u5b9e\u573a\u666f\uff0c\u5bf9\u5f00\u53d1\u8005\u4e5f\u76f8\u5f53\u53cb\u597d"},{"id":"/2021/react-typescript-vite\u5b9e\u6218","metadata":{"permalink":"/blog/2021/react-typescript-vite\u5b9e\u6218","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021/react-typescript-vite\u5b9e\u6218.md","source":"@site/blog/2021/react-typescript-vite\u5b9e\u6218.md","title":"react + typescript + vite\u5b9e\u6218","description":"create-react-app \u76f8\u4fe1\u5f00\u53d1\u8005\u5df2\u7ecf\u975e\u5e38\u719f\u6089\uff0c\u6700\u8fd1vite\u4e5f\u706b\u4e86\uff0c\u6211\u4e5f\u5728\u9879\u76ee\u4e2d\u7528\u4e86\u8d77\u6765\u3002","date":"2021-08-05T22:49:06.000Z","formattedDate":"2021\u5e748\u67085\u65e5","tags":[{"label":"react","permalink":"/blog/tags/react"},{"label":"vite","permalink":"/blog/tags/vite"}],"readingTime":5.51,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"react + typescript + vite\u5b9e\u6218","date":"2021-08-05T22:49:06.000Z","tags":["react","vite"]},"prevItem":{"title":"\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7","permalink":"/blog/2021/\u79fb\u52a8\u7aefH5\u9875\u9762\u8c03\u8bd5\u6280\u5de7"},"nextItem":{"title":"\u6d45\u8c08Vue\u6e90\u7801","permalink":"/blog/2020/\u6d45\u8c08Vue\u6e90\u7801"}},"content":"create-react-app \u76f8\u4fe1\u5f00\u53d1\u8005\u5df2\u7ecf\u975e\u5e38\u719f\u6089\uff0c\u6700\u8fd1vite\u4e5f\u706b\u4e86\uff0c\u6211\u4e5f\u5728\u9879\u76ee\u4e2d\u7528\u4e86\u8d77\u6765\u3002\\n\\n\u8bd5\u4e86\u4e00\u628avite\u5e26\u6765\u7684\u6781\u901f\u4f53\u9a8c\uff0c\u540c\u65f6\u4e5f\u8e29\u4e86\u5b83\u7684\u5751\\n\\n\u4e0b\u9762\u63cf\u8ff0\u4e0b\uff0c\u7528vite\u521b\u5efa\u4e00\u4e2areact\u7684\u9879\u76ee\u8fc7\u7a0b\\n\\n### \u521b\u5efa\u9879\u76ee\\n   \u6839\u636e\u5b98\u7f51\u63d0\u4f9b\u7684\uff0c\u4f7f\u7528\u4e86 react-ts \u6a21\u677f\uff0c\u521b\u5efa\u5b8c\u6210\u540e\uff0c\u9875\u9762\u8ddfcreate-react-app\u76f8\u5dee\u4e0d\u5927\\n\\n   ```\\n   npm init vite@latest my-react-app --template react-ts\\n   ```\\n\\n    \u770b\u5230index.html \u6a21\u677f\u7684\u65f6\u5019\uff0cscript\u6807\u7b7e\u53d8\u6210\u8fd9\u79cd\uff0ctype=\\"module\\"\uff0c\u5173\u952e\u5c31\u662f\u8fd9\u4e2a\\n\\n   ```html\\n   <script type=\\"module\\" src=\\"/src/main.tsx\\"><\/script>\\n   ```\\n\x3c!--truncate--\x3e\\n### \u4fee\u6539server\u670d\u52a1\uff0c\u9879\u76ee\u7aef\u53e3\u7b49\\n\\n   \u67e5\u770b\u6587\u6863\uff0c\u53ef\u4ee5\u770b\u5230server\u7684\u914d\u7f6e\u975e\u5e38\u7684\u7b80\u5355\u4e86\uff0c\u8fd9\u65f6\u5019\u5df2\u7ecf\u770b\u5230\u8fd9\u6837\uff0c\u611f\u89c9vite\u7528\u8d77\u6765\u5c31\u662f\u592a\u723d\u4e86\\n\\n   ``` js\\n   server: {\\n       port: 3000,\\n       host: \'0.0.0.0\'\\n     }\\n   ```\\n\\n   \u76f8\u6bd4\u8f83create-react-app\u7684\u914d\u7f6e\uff0ccreate-react-app\u7b80\u76f4\u592a\u9ebb\u70e6\uff0c\u8981\u5b89\u88c5\u4e00\u5806\u7684\u5916\u7f6enpm\u5305\uff0c\u7136\u540e\u60f3\u8981\u4fee\u6539\u4e2a\u9879\u76ee\u7aef\u53e3\u90fd\u662f\u5404\u79cd\u9ebb\u70e6\uff0c\u867d\u7136\u540e\u9762\u627e\u5230\u7b80\u5355\u7684\u529e\u6cd5\u53ef\u4ee5\u5728\u73af\u5883\u53d8\u91cf\u6587\u4ef6\u4e2d\u76f4\u63a5\u52a0\u5165\u7aef\u53e3\u5feb\u901f\u914d\u7f6e\uff0c\u4f46\u4e0d\u662f\u5f88\u53cb\u597d\\n\\n### \u914d\u7f6e\u9879\u76ee\u6587\u4ef6\u5939\u522b\u540d\\n\\n   \u5728vite.config.ts\u4e2d\u6dfb\u52a0alias\uff0c\u540c\u65f6tsconfig\u4e2d\u4e5f\u8981\u5bf9paths\u8fdb\u884c\u914d\u7f6e\\n    ```js\\n    resolve: {\\n        alias: {\\n          // \u952e\u5fc5\u987b\u4ee5\u659c\u7ebf\u5f00\u59cb\u548c\u7ed3\u675f\\n          \'@\': path.resolve(__dirname, \'./src\')\\n        }\\n      }\\n    ```\\n\\n### \u5bf9antd\u4e3b\u9898\u8272\u8fdb\u884c\u914d\u7f6e\\n    antd\u7684\u4e3b\u9898\u8272\u8fd9\u91cc\u5206\u51e0\u79cd\u60c5\u51b5\\n\\n    1. #### \u6837\u5f0f\u6309\u9700\u52a0\u8f7d\uff0c\u4f46\u4e0d\u652f\u6301\u4e3b\u9898\u8272\u53d8\u91cf\u914d\u7f6e\\n        \u4f7f\u7528`vite-plugin-importer`(\u9700\u8981\u901a\u8fc7npm\u5b89\u88c5)\u5728vite\u4e2d\u7684plugin\u914d\u7f6e\u5373\u53ef\uff0c\u9875\u9762\u4e5f\u65e0\u9700\u5f15\u5165antd\u7684css\\n        ```js\\n        usePluginImport({\\n          libraryName: \\"antd\\",\\n          libraryDirectory: \\"es\\",\\n          style: \\"css\\"\\n        })\\n        ```\\n\\n    2. #### \u6837\u5f0f\u5168\u90e8\u5f15\u5165\uff0c\u652f\u6301\u4e3b\u9898\u8272\u53d8\u91cf\u914d\u7f6e\\n        \u5728\u4e0a\u97621\u7684\u57fa\u7840\uff0c\u5728vite\u4e2d\u6dfb\u52a0\\n        ```js\\n        css: {\\n          preprocessorOptions: {\\n            less: {\\n              javascriptEnabled: true,\\n                modifyVars: {\\n                  \\"primary-color\\": \\"#1DA57A\\",\\n                  \\"link-color\\": \\"#1DA57A\\",\\n                  \\"border-radius-base\\": \\"2px\\"\\n                }\\n            }\\n          }\\n        } \\n        ```\\n        \u540c\u65f6\u5728main.tsx\u4e2d\u5f15\u5165antd\u7684\u6837\u5f0f`import \'antd/dist/antd.less\'  `\u6ce8\u610f\u662fless\uff0ccss\u65e0\u6548\uff0c\u56e0\u4e3a\u4e0a\u9762\u914d\u7f6e\u7684\u662fless\\n\\n    3. #### \u81ea\u5b9a\u4e49\u4e3b\u9898\u6837\u5f0f\u914d\u7f6e\uff0c\u652f\u6301\u6837\u5f0f\u6309\u9700\u52a0\u8f7d\\n        \u4f7f\u7528`vite-plugin-imp`\u5728plugin\u4e2d\u914d\u7f6e\\n        ```js\\n          import fs from \'fs\'\\n          import lessToJS from \'less-vars-to-js\'\\n          \\n          var themeVariables = lessToJS(\\n            fs.readFileSync(path.resolve(__dirname, \'src/styles/variables.less\'), \'utf8\')\\n          )\\n          \\n          defineConfig({\\n            plugins: [\\n              ...\\n              vitePluginImp({\\n                libList: [\\n                  {\\n                    libName: \\"antd\\",\\n                    style: (name) => \\\\`antd/es/${name}/style` // \u8fd9\u4e2a\u5730\u65b9\u6837\u5f0f\u5b9e\u73b0\u6309\u9700\u5f15\u5165\\n                  }\\n                ]\\n                })\\n              ...\\n            ]\\n          })\\n        ```\\n        css\u914d\u7f6e\u6539\u4e3a\\n        ```js\\n          css: {\\n            preprocessorOptions: {\\n              less: {\\n                javascriptEnabled: true,\\n                modifyVars: themeVariables\\n              }\\n            }\\n          }\\n        ```\\n\\n ### \u914d\u7f6e\u591a\u73af\u5883\u65f6\u4e5f\u662f\u6bd4\u8f83\u65b9\u4fbf\uff0c\u5728\u6dfb\u52a0.env.xxx\u7684\u6587\u4ef6\u5373\u53ef\uff0c\u7136\u540e\u5728build\u7684\u547d\u4ee4\u4e0a\u6dfb\u52a0--mode xxx\u7684\u65b9\u5f0f\\n\\n    \u53ea\u662f\u73af\u5883\u53d8\u91cf\u7684\u4f7f\u7528\u6709\u4e9b\u6539\u53d8\u547d\u540d\u9700\u8981\u662fVITE_APP\u5f00\u5934\uff0c\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u65f6`const url = import.meta.env.VITE_APP_URL`\u53d8\u4e3a\u8fd9\u6837\\n\\n #### build\\n   \u5728build\u7684\u65f6\u5019\u53d1\u73b0\u6253\u5305\u540e\u7684\u6587\u4ef6\u6bd4\u8f83\u5927\uff0c\u5728build\u914d\u7f6e\u4e2d\u6dfb\u52a0rollupOptions\\n    ```js\\n      // \u5ffd\u7565\u67d0\u4e9b\u6587\u4ef6\u4e0d\u5206\u5272\\n      var ignoreFile = []\\n      ...\\n      rollupOptions: {\\n            output: {\\n              manualChu0nks: (id) => {\\n                // \u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u5728\u9879\u76ee\u91cc\u786e\u5b9e\u9047\u5230\u8fc7\u56e0\u4e3a\u5206\u5272\u5305\u540e,\u56e0\u4e3a\u52a0\u8f7d\u95ee\u9898\u51fa\u73b0\u4e00\u4e9b\u62a5\u9519\u7684\u5f02\u5e38\u60c5\u51b5,\u6240\u4ee5\u58f0\u660e\u4e86ignoreFile\u5bf9\u6709\u95ee\u9898\u7684\u6587\u4ef6\u4e0d\u8fdb\u884c\u5206\u5272\u5904\u7406\\n                if (id.includes(\'node_modules\')) {\\n                  var fileName = id.toString().split(\'node_modules/\')[1].split(\'/\')[0].toString()\\n                  if (ignoreFile.indexOf(fileName) === -1) {\\n                    return fileName\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        ...\\n     ```\\n\\n   \u4f7f\u7528\u4e86\u4ee3\u7801\u5206\u5272\u540e\uff0creact\uff0c\\breact-dom\uff0cantd\u7b49\u90fd\u88ab\u5355\u72ec\u6253\u5305\u51fa\u6765\u4e86\\n\\n\\n\\n### \u4e00\u4e9b\u95ee\u9898\\n\\n1. \u6253\u5305\u540e\uff0c\u51fa\u73b0\u7684\u6587\u4ef6\u8fc7\u5927\uff0c\u76ee\u524d\u770b\u5230\u53ea\u6709\u901a\u8fc7rollupOptions\u6765\u8fdb\u884c\u5207\u7247\uff0c\u5b98\u65b9\u6ca1\u6709\u7ed9\u51fa\u76f8\u5e94demo\uff0c\u8fd8\u8981\u53bbrollup\u67e5\u770b\u5982\u4f55\u4f7f\u7528\uff0c\u7f51\u4e0a\u7684\u914d\u7f6e\u4ee3\u7801\u4e5f\u4e0d\u591a\uff0c\u53ef\u80fd\u5f88\u591a\u9879\u76ee\u5e76\u6ca1\u6709\u7528\u5230\u5207\u7247\u5e76\u6ca1\u6709\u50cfwebpack\u90a3\u79cd\u6709\u6210\u719f\u7684\u4ee3\u7801\u5206\u5272\u65b9\u6848SplitChunksPlugin\u3002\u6bd4\u5982\u9879\u76ee\u6bd4\u8f83\u5927\u65f6\uff0creact\uff0cantd\uff0clodash\u90fd\u4f1a\u6253\u5305\u6210vendor\u7684\u5927\u5305\uff0c\u8fd9\u6837\u9875\u9762\u52a0\u8f7d\u5bb9\u6613\u51fa\u73b0\u767d\u5c4f\u73b0\u8c61\\n\\n\\n\\n2. \u5f00\u53d1\u73af\u5883\u4e0b,\u5982\u679c\u5220\u6389\u4e86node_modules,\u6bcf\u6b21\u8fdb\u5165\u4e00\u4e2a\u65b0\u9875\u9762,\u56e0\u4e3a\u8981\u5728node_module\u6587\u4ef6\u4e2d\u7684.vite\u6587\u4ef6\u5939\u751f\u6210\u52a0\u8f7d\u7684\u6587\u4ef6,\u4f1a\u5bfc\u81f4\u8fdb\u5165\u4e00\u4e2a\u65b0\u9875\u9762\u5c31\u4f1a\u4e00\u76f4\u5237\u65b0,\u76f4\u5230\u9875\u9762\u7528\u5230\u7684\u6240\u6709\u6a21\u5757\u90fd\u52a0\u5165\u5230.vite\u6587\u4ef6\u5939\u4e2d\u4e3a\u6b62\uff0c\u9879\u76ee\u4f53\u91cf\u5c0f\u7684\u8bdd\u662f\u6ca1\u6709\u591a\u5927\u611f\u89c9\uff0c\u4f46\u662f\u9875\u9762\u591a\u7684\u8bdd,\u6709\u4e86\u51e0\u5341\u4e2a\u9875\u9762\uff0c\u5c31\u4f1a\u7ecf\u5e38\u51fa\u73b0\u8fd9\u79cd\u4f53\u9a8c\u4e0d\u597d\u7684\u95ee\u9898\\n\\n\\n\\n3. \u76ee\u524deslint\u7684\u62a5\u9519\u63d0\u9192\u6ca1\u6709\uff0c\u4e0d\u4f1a\u5728\u547d\u4ee4\u9762\u5305\u4e0a\u63d0\u793a\uff0c\u4ee3\u7801\u62a5\u9519\u4e5f\u53ea\u5728\u6d4f\u89c8\u5668\u4e0a\u624d\u6709\u63d0\u793a\uff0c\u6240\u4ee5\u52a0\u4e0ahusky\uff0c\u5728\u63d0\u4ea4\u4ee3\u7801\u524d\u505a\u4e00\u6b21eslint\u68c0\u6d4b\u5f88\u6709\u5fc5\u8981\\n\\n   \\n\\n**\u4ee3\u7801\u4ed3\u5e93  >>> https://github.com/LwcReber/react-vite**\\n\\n\\n### \u53c2\u8003\u6587\u7ae0\\n\\nhttps://blog.csdn.net/weixin_41277748/article/details/116431789 (rollupOptions \u5904\u7406)\\n\\nhttps://juejin.cn/post/6933562433264943111#heading-4\\n\\nhttps://juejin.cn/post/6938671679153373214#heading-6"},{"id":"/2020/\u6d45\u8c08Vue\u6e90\u7801","metadata":{"permalink":"/blog/2020/\u6d45\u8c08Vue\u6e90\u7801","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/\u6d45\u8c08Vue\u6e90\u7801.md","source":"@site/blog/2020/\u6d45\u8c08Vue\u6e90\u7801.md","title":"\u6d45\u8c08Vue\u6e90\u7801","description":"\u5982\u4f55\u9605\u8bfb","date":"2020-10-27T22:37:39.000Z","formattedDate":"2020\u5e7410\u670827\u65e5","tags":[{"label":"Vue","permalink":"/blog/tags/vue"}],"readingTime":18.51,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u6d45\u8c08Vue\u6e90\u7801","date":"2020-10-27T22:37:39.000Z","tags":["Vue"]},"prevItem":{"title":"react + typescript + vite\u5b9e\u6218","permalink":"/blog/2021/react-typescript-vite\u5b9e\u6218"},"nextItem":{"title":"\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","permalink":"/blog/2020/\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5"}},"content":"## \u5982\u4f55\u9605\u8bfb\\n\\n\u5728\u9605\u8bfb\u6e90\u7801\u65f6\uff0c\u6211\u7684\u4e2a\u4eba\u505a\u6cd5\u662f\\n1. \u7f51\u4e0a\u627e\u627e\u6709\u6ca1\u6709\u5bf9\u5e94\u535a\u5ba2\u5206\u4eab\uff0c\u5148\u53bb\u770b\u770b\u522b\u4eba\u662f\u5982\u4f55\u7406\u89e3\u7684\\n2. \u67e5\u627e\u6709\u6ca1\u6709\u5bf9\u5e94\u7684\u6e90\u7801\u6574\u4f53\u67b6\u6784\u56fe\uff0c\u5e76\u4e0d\u662f\u6587\u4ef6\u5939\u76ee\u5f55\u4ecb\u7ecd\uff0c\u662f\u8fd9\u4efd\u6e90\u7801\u7684\u5b9e\u73b0\u6d41\u7a0b\u56fe\\n3. \u4e0b\u8f7d\u6e90\u7801\u540e\uff0c\u9996\u5148\u8981\u627e\u7684\u5c31\u662f\u6e90\u7801\u5165\u53e3\\n4. \u5728\u9605\u8bfb\u6e90\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u8981\u7528\u601d\u7ef4\u5bfc\u56fe\uff0c\u5c06\u81ea\u5df1\u770b\u8fc7\u7684\u5730\u65b9\u8bb0\u5f55\u4e0b\u6765\u3002\u5e76\u4e0d\u662f\u8bb0\u5f55\u5177\u4f53\u4ee3\u7801\uff0c\u800c\u662f\u4ee3\u7801\u5757\u5b9e\u73b0\u7684\u4ec0\u4e48\u529f\u80fd\u6709\u4ec0\u4e48\u7528\uff0c\u8bb0\u5f55\u4e0b\u6765\u3002\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u5462\uff0c\u56e0\u4e3a\u540e\u9762\u518d\u56de\u53bb\u770b\u7684\u65f6\u5019\u53ef\u4ee5\u7ed3\u5408\u601d\u7ef4\u5bfc\u56fe\uff0c\u770b\u770b\u4ec0\u4e48\u5730\u65b9\u81ea\u5df1\u4e86\u89e3\u7684\uff0c\u8fd8\u6709\u4ec0\u4e48\u5730\u65b9\u81ea\u5df1\u4e0d\u660e\u767d\u7684\u3002\u505a\u5230\u770b\u8fc7\u4e5f\u80fd\u6709\u5370\u8c61\\n\\n## \u5165\u53e3\\n\\n### \\t\u627e\u5165\u53e3\u6587\u4ef6\\n\\n\u5728package.json\u4e2d\u76f4\u63a5\u627e\u5165\u53e3\uff0c\u5e76\u4e0d\u662fmain\u5c5e\u6027\u6307\u5b9a\u7684\u6587\u4ef6\u5730\u5740\uff0c\u56e0\u4e3amain\u5c5e\u6027\u662fproduction\u73af\u5883\u4e0b\u4f7f\u7528\u7684\u5305\u3002\\n\\n\\u0001![image](../images/vue-entry.png)\\n\\n\u5728scripts\u4e2d\u53ef\u4ee5\u770b\u5230dev\u7684\u73af\u5883\u533a\u5206\u4e86\u5f88\u591a\u4e2d\u73af\u5883\uff0c\u8fd9\u91cc\u6211\u4eec\u4e3b\u8981\u627e\u7684\u5230\u662fweb\u5168\u5e73\u53f0\u7684\uff0c\u4e5f\u5c31\u662f\u7b2c\u4e00\uff0c\u5728scripts/config.js\u4e2d\u6709\u914d\u7f6e\\n\\n\u6253\u5f00`scripts/config.js`\u627e\u5230\u5bf9\u5e94\u7684\u73af\u5883`web-full-dev`\\n\\n```js\\n\'web-full-dev\': {\\n    entry: resolve(\'web/entry-runtime-with-compiler.js\'),\\n    dest: resolve(\'dist/vue.js\'),\\n    format: \'umd\',\\n    env: \'development\',\\n    alias: { he: \'./entity-decoder\' },\\n    banner\\n  },\\n```\\n\\n\u53ef\u4ee5\u770b\u5230entry\u5df2\u7ecf\u627e\u5230\u4e86\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u6587\u4ef6\u6709\u5b9a\u4e49\u4e86resolve\u51fd\u6570\uff0c\u6240\u4ee5entry\u662f`src/platforms/web/entry-runtime-with-compiler.js`\\n\\n\u4ece\u8fd9\u91cc\u4e5f\u80fd\u770b\u51favue\u5904\u7406\u5404\u81ea\u4e0d\u540c\u73af\u5883\uff0c\u5206\u522b\u5b9a\u4e49\u4e0d\u540c\u5165\u53e3\uff0c\u5de5\u7a0b\u5316\u65b9\u9762\u505a\u7684\u975e\u5e38\u597d\\n\\n\x3c!--truncate--\x3e\\n### \\t\u5165\u53e3\u6587\u4ef6\u5185\u5bb9\\n\\n\u5728\u8fd9\u91cc\u80fd\u770b\u5230\u62ff\u51fa\u4e86Vue\u6784\u9020\u51fd\u6570\uff0c\u7136\u540e\u5bf9\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u539f\u578b\u7684$mount\u65b9\u6cd5\u8fdb\u884c\u4e86\u91cd\u65b0\u7684\u5b9a\u4e49\\n\\n\u200b\\t\u5177\u4f53\u903b\u8f91\u662f\\n\\n\\t1. \u5148\u62ff\u51faVue\u6784\u9020\u51fd\u6570\u539f\u578b\u4e2d\u7684$mount\u65b9\u6cd5\\n \\t2. \u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2a$mount\\n \\t3. \u5bf9$mount\u7684\u884c\u53c2\u8fdb\u884c\u5904\u7406\\n \\t4. \uff08\u5728\u6ca1\u6709\u5b9a\u4e49render\u65f6\uff09\u627e\u51fatemplate\\n      \\t1. \u5982\u679c\u662f\u5b57\u7b26\u4e32\uff0c\u53ef\u80fd\u662f\u5143\u7d20id\\n      \\t2. \u76f4\u63a5\u662f\u5143\u7d20\uff0c\u5219\u62ff\u5143\u7d20\u7684innerHTML\\n      \\t3. \u5982\u679c\u6709el\u5c5e\u6027\uff0c\u5219\u83b7\u53d6el\u7684html\\n \\t5. \u901a\u8fc7compileToFunctions\u51fd\u6570\u7ed9\u7ed9options\u4e2d\u5b9a\u4e49\u4e2arender\u51fd\u6570\\n\\n\u53ef\u89c1new Vue\u7684\u65f6\u5019\uff0c\u6839\u636e\u53c2\u6570\uff0c\u53ef\u5f97\u51fa\u4e0d\u540c\u53c2\u6570\u7684\u987a\u5e8f\uff0crender  ->   template - > el\\n\\n\u6700\u540e\u5bfc\u51faVue\u6784\u9020\u51fd\u6570\\n\\n\u4e0a\u9762entry-runtime-with-compiler.js\u5728 `src/platforms/web/runtime/index.js`\u5bfc\u5165\u4e86Vue\uff0c\u6240\u4ee5\u7ee7\u7eed\u5728\u8fd9\u4e2ajs\u770b\\n\\n\u5728\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\u4e00\u4e9b\u6bd4\u8f83\u6709\u7528\u7684\u4e1c\u897f\\n\\n```js\\n// install platform runtime directives & components\\nextend(Vue.options.directives, platformDirectives)\\nextend(Vue.options.components, platformComponents)\\n// install platform patch function\\nVue.prototype.__patch__ = inBrowser ? patch : noop\\n\\n// public mount method\\nVue.prototype.$mount = function () {...}\\n```\\n\\n\u5bf9Vue\u7684\u6307\u4ee4\u4ee5\u53ca\u7ec4\u4ef6\u8fdb\u884c\u4e86\u62d3\u5c55\uff0c__patch__\u6682\u65f6\u4e0d\u77e5\u9053\u662f\u4ec0\u4e48\u7528\uff0c\u5b9e\u9645\u662f\u5b83\u865a\u62dfDOM patch\u51fd\u6570\uff0c\u6700\u540e\u5b9a\u4e49\u4e86$mount\u65b9\u6cd5,\\n\\n\u6700\u540e\u627e\u5230\u771f\u6b63\u7684\u5165\u53e3`src/core/instance/index.js`\uff0c\u5728\u8fd9\u91cc\u5b9a\u4e49\u4e86vue\u7684\u6784\u9020\u51fd\u6570\uff0c\u4ee5\u53ca\u5404\u79cd\u521d\u59cb\u5316\\n\\n## \u521d\u59cb\u5316\u505a\u4e86\u54ea\u4e9b\u4e8b\u60c5\\n\\n\u770b\u770b\u521d\u59cb\u5316\u7684\u4ee3\u7801\\n\\n```js\\nfunction Vue (options) {\\n  this._init(options)\\n}\\ninitMixin(Vue)\\nstateMixin(Vue)\\neventsMixin(Vue)\\nlifecycleMixin(Vue)\\nrenderMixin(Vue)\\n```\\n\\n\u6784\u9020\u51fd\u6570\u7684\u5b9a\u4e49\u7684_init\u51fd\u6570\u6ca1\u6709\u770b\u5230\u5b9a\u4e49\u7684\u5730\u65b9\uff0c\u6682\u65f6\u5f80\u4e0b\u770b\\n\\n#### initMixin\\n\\ninitMixin \u5728`src/core/instance/init.js`\u4e2d\u5b9a\u4e49\uff0c\u5c31\u662f\u5b9a\u4e49\u4e86\u5728vue\u539f\u578b\u4e2d\u52a0\u4e86_init\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u91cc\u9762\u603b\u7ed3\u4e3b\u8981\u5c31\u662f\\n\\n```js\\ninitLifecycle(vm)\\ninitEvents(vm)\\ninitRender(vm)\\ncallHook(vm, \'beforeCreate\')\\ninitInjections(vm) // \u5728data\uff0c\u4ee5\u53caprops\u4e4b\u524d\u5904\u7406inject\u7684\u6570\u636e\uff0c resolve injections before data/props\\ninitState(vm)\\ninitProvide(vm) // resolve provide after data/props\\ncallHook(vm, \'created\')\\n```\\n\\ninitLifecycle\uff1a\u521d\u59cb\u5316\u4e00\u4e9b\u57fa\u672c\u751f\u547d\u5468\u671f\u72b6\u6001\uff0c\u5b50\u5143\u7d20\u6570\u7ec4\uff0c\u627e\u5230\u7236\u5143\u7d20\\n\\ninitEvents\uff1a \u521d\u59cb\u5316\u7236\u7ea7\u5143\u7d20\u5b9a\u4e49\u7684\u4e8b\u4ef6\\n\\ninitRender\uff1a \u5b9a\u4e49$slots,slotScopes \u63d2\u69fd\u7684\u5185\u5bb9\uff0c\u5e76\u5728vue\u4e0a\u91cd\u5b9a\u4e49$createElement \u51fd\u6570\uff0c\u5bf9$attrs\uff0c $listeners\u8fd9\u4e9b\u5c5e\u6027\u5b9a\u4e49\u4e3a\u54cd\u5e94\u5f0f\u6570\u636e\\n\\ncallHook\uff1a \u89e6\u53d1\u5bf9\u5e94\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\uff0c\u8fd9\u91cc\u9762\u5982\u679c\u5b9a\u4e49\u4e86hook\u4e8b\u4ef6\uff0cvue\u4f1a\u89e6\u53d1\u4e00\u4e2ahook\u4e8b\u4ef6\u901a\u77e5\\n\\ninitInjections\uff1a\u5bf9inject\u5c5e\u6027\u7684\u5904\u7406\\n\\ninitState\uff1a \u5bf9options\u4e2d\u7684\u5404\u5c5e\u6027\u8fdb\u884c\u6570\u636e\u521d\u59cb\u5316\uff0c\u5982props\uff0cmethods\uff0cdatacomputed\uff0cwatch\u8fdb\u884c\u521d\u59cb\u5316\u5904\u7406\\n\\ninitProvide\uff1a \u5bf9provide\u5c5e\u6027\u7684\u5904\u7406\\n\\n#### stateMixin\\n\\n\u5bf9$data\u3001$props,\u4f7f\u7528\u5bf9\u8c61\u7684get\u65b9\u6cd5\u91cd\u65b0\u5b9a\u4e49\uff0c\u4f8b\u5982data\u4e2d\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7$data\u6765\u4ee3\u7406\u8bbf\u95ee\\n\\n\u5b9a\u4e49\u4e86$set\u3001$delete\u3001$watch \u8fd9\u4e9b\u65b9\u6cd5\u7ed1\u5b9a\u5230\u539f\u578b\u4e0a\\n\\n#### eventsMixin\\n\\n\u5b9a\u4e49\u76d1\u542c\u4e8b\u4ef6\u5373\u7ecf\u5e38\u8bf4\u7684\u4e8b\u4ef6\u603b\u7ebf\uff0c\u8ba2\u9605\u53d1\u5e03\u6a21\u5f0f\\n\\n#### lifecycleMixin\\n\\n\u5b9a\u4e49\u4e86_update\u3001$forceUpdate\u3001$destroy\u65b9\u6cd5\\n\\n#### renderMixin\\n\\n\u5b9a\u4e49\u4e86$nextTick\u3001_render\u65b9\u6cd5\\n\\n## \u6570\u636e\u54cd\u5e94\u5316\\n\\n\u54cd\u5e94\u5f0f\u5229\u7528\u4e86js\u5bf9\u8c61\u7684Object.defineProperty\u4e2d\u7684getter\uff0c\u4ee5\u53casetter\u7684\u62e6\u622a\uff0c\u5bf9\u6570\u636e\u66f4\u65b0\u8fdb\u884c\u4e86\u91cd\u65b0\u7684\u5b9a\u4e49\\n\\n\u5148\u8981\u5bf9\u54cd\u5e94\u5f0f\u8fc7\u7a0b\u6709\u4e00\u4e2a\u4e86\u89e3\\n\\n![WX20200920](../images/vue-process.png)\\n\\n\u5728\u7ec4\u4ef6\u5f00\u59cbrender\u65f6\uff0c\u5148\u5bf9\u6570\u636e\u8fdb\u884c\u4e86\u4e00\u6b21\u62e6\u622a\u5904\u7406\uff0c\u6bcf\u6b21getter\u5c5e\u6027\u8bbf\u95ee\u7684\u65f6\u5019\u8fdb\u884c\u4e86\u4e00\u6b21Dep\u4f9d\u8d56\u6536\u96c6\uff0c\u6536\u96c6\u7740\u5bf9\u5e94\u7684watcher\u3002\u6bcf\u6b21setter\u89e6\u53d1\u7684\u65f6\u5019\u5c31\u901a\u77e5watcher\u8fdb\u884c\u4e86\u91cd\u65b0\u7684\u6e32\u67d3\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5199\u5728initState\u4e2d\u3002\u8981\u60f3\u7406\u89e3\u8fd9\u4e2a\u8fc7\u7a0b\u5148\u8981\u5bf9\u51e0\u4e2a\u5173\u952e\u8bcd\u6982\u5ff5\u6709\u8ba4\u8bc6\\n\\n1. Observer \u89c2\u5bdf\u8005\uff0c\u5bf9data\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u521d\u59cb\u5316\u7684\u5165\u53e3\\n2. Dep \u4f9d\u8d56\u6536\u96c6\uff0c\u6bcf\u6b21data\u4e2d\u7684\u5c5e\u6027\u6709getter\u65f6\uff0c\u5c31\u8fdb\u884c\u4e00\u6b21\u4f9d\u8d56\u6536\u96c6\uff0c\u6536\u96c6\u5bf9\u5e94\u7684watcher\\n3. Watcher \u7ec4\u4ef6data\u5b9e\u4f8b\u5316\u65f6\u4f1a\u5b9e\u4f8b\u4e00\u4e2awatcher\uff0c\u6709\u4e00\u4e2aupdate\u51fd\u6570\u653e\u7740VDOM\u7684\u66f4\u65b0\u51fd\u6570\uff0c\u5728\u89e6\u53d1\u6570\u636esetter\u65f6\uff0c\u4f1a\u89e6\u53d1watcer\u7684update\u51fd\u6570\\n\\n\u73b0\u5728\u5f00\u59cb\u5728\u4ee3\u7801\u8be6\u7ec6\u770b\u770b\u4ed6\u4eec\u662f\u5982\u679c\u8fd0\u884c\u7684\\n\\n\u9996\u9875\u5728\u521d\u59cb\u5316data\u7684\u65f6\u5019`src/core/instance/state.js`\uff0cinitData\u8fd9\u4e2a\u65b9\u6cd5\u505a\u4e86\u4e24\u4ef6\u4e8b\u9996\u5148\u628adata\u4e2d\u6240\u6709\u7684\u5c5e\u6027\u901a\u8fc7proxy\u4ee3\u7406\u5230_data\\n\\n\u5bf9\u8c61\u4e2d\uff0c\u63d0\u4f9b\u7ed9\u5185\u90e8\u4f7f\u7528\u3002\u7136\u540e\u5728observe\u4e2d\u65b0\u5efa\u4e00\u4e2aObserver\u7684\u5b9e\u4f8b\\n\\n#### Observer\\n\\n\u5728Observer\u4e2d\u628adata\u8fdb\u884c\u5206\u7c7b\u5904\u7406\uff0cobserveArray\u5904\u7406\u6570\u7ec4\u7c7b\u578b\uff0cwalk\u5904\u7406\u5bf9\u8c61\u7c7b\u578b\\n\\n\u5148\u770b\u770b\u5bf9\u8c61\u7c7b\u578b\u7684\u5904\u7406\uff0c\u5173\u952e\u51fd\u6570defineReactive\uff0c\u628adata\u4e2d\u6240\u6709\u7684\u6570\u636e\u90fd\u5728\u8fd9\u4e2a\u51fd\u6570\u4e2d\u4f7f\u7528Object.defineProperty\u8fdb\u884c\u91cd\u65b0\u5b9a\u4e49,\\n\\n```js\\nfunction defineReactive () {\\n\\t let childOb = !shallow && observe(val)\\n   Object.defineProperty(obj, key, {\\n  \\tget: function reactiveGetter () {\\n      // \u5982\u679c\u6709Dep.target\uff08target\u5b9e\u9645\u4e0a\u662fwatcher\uff09\\n  \\t\\tif (Dep.target) {\\n       // \u8fdb\u884c\u4f9d\u8d56\u6536\u96c6\\n  \\t\\t dep.depend()\\n  \\t\\t\\t...\\n  \\t\\t}\\n  \\t\\treturn value\\n  \\t},\\n    set: function reactiveSetter (newVal) { \\n    \\tif (setter) {\\n        setter.call(obj, newVal)\\n      } else {\\n        val = newVal\\n      }\\n      // \u8bbe\u7f6e\u65b0\u503c\u65f6\uff0c\u9012\u5f52\u5b50\u5bf9\u8c61\\n      childOb = !shallow && observe(newVal)\\n      // \u8bbe\u7f6e\u5c5e\u6027\uff0c\u89e6\u53d1dep\u4e2dwatcer\u7684update\u51fd\u6570\u66f4\u65b0\\n      dep.notify()\\n    }\\n  })\\n}\\n```\\n\\n\u5bf9defineReactive\u8fdb\u884c\u4e86\u7cbe\u7b80\uff0c\u5bf9data\u7684\u5c5e\u6027\u8fdb\u884c\u4e86\u4e00\u4e2a\u9012\u5f52\uff0c\u5982\u679c\u5c5e\u6027\u503c\u662f\u5bf9\u8c61\u4f1a\u7ee7\u7eed\u5f80\u4e0b\u9012\u5f52\\n\\n#### Dep\\n\\nDep\u7684\u5b9a\u4e49\u5176\u5b9e\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0csubs\u5b58\u653e\u6240\u6709\u7684\u4f9d\u8d56\uff0c\u5b9a\u4e49addSub\uff0cremoveSub\u6dfb\u52a0\u79fb\u9664\u4f9d\u8d56\u51fd\u6570\uff0cnotify\u901a\u77e5\u6240\u6709\u7684\u4f9d\u8d56\u8fdb\u884c\u66f4\u65b0\\n\\ndepend\u5728Watcher\u4e2d\u6765\u89e6\u53d1\u6dfb\u52a0\u4f9d\u8d56\u7684\u52a8\u4f5c\\n\\n#### Watcher\\n\\n\u5148\u770b\u770b\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u505a\u4e86\u54ea\u4e9b\u4e8b\u60c5\\n\\n```js\\nthis.vm = vm\\n// \u5728vue\u4e2d\u7684_watchers\u6dfb\u52a0\u5f53\u524dwatcher\u5b9e\u4f8b\\nvm._watchers.push(this)\\n// options\uff0cwatcher\u7684option\u5904\u7406\\nif (options) {\\n\\t...\\n} else {\\nthis.deep = this.user = this.lazy = this.sync = false\\n}\\nthis.deps = [] // \u5728\u4f9d\u8d56\u6536\u96c6\u7684\u540c\u65f6\uff0c\u4e5f\u628adep\u8bb0\u5f55\u4e0b\u6765\\n// parse expression for getter\\nif (typeof expOrFn === \'function\') {\\n    this.getter = expOrFn\\n  } else {\\n    this.getter = parsePath(expOrFn)\\n  }\\n}\\nthis.value = this.lazy\\n? undefined\\n: this.get() // \u89e6\u53d1\u4e00\u6b21get\u51fd\u6570\\n```\\n\\n\u4e3b\u8981\u662fget\u51fd\u6570\\n\\n```js\\npushTarget(this)\\nvalue = this.getter.call(vm, vm)\\n```\\n\\n\u8fd9\u91cc\u5c06Dep\u7684target\u7ed1\u5b9a\u4e3awatcher\\n\\n\u7136\u540e\u89e6\u53d1\u4e86\u4e00\u4e2agetter\u51fd\u6570\uff0c\u8fd9\u4e2agetter\u51fd\u6570\u662f\u5728\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u4f5c\u4e3aexpOrFn\u53c2\u6570\u4f20\u8fdb\u6765\u7684\uff0c\u6240\u4ee5\u8981\u627e\u7684Watcher\u5b9e\u4f8b\u5316\u7684\u5730\u65b9\\n\\n\u5c31\u5728`src/core/instance/lifecycle.js`mountComponent\u4e2dupdateComponent\u51fd\u6570\\n\\n\u5728new Watcher\u7684\u65f6\u5019\uff0c\u5b9a\u4e49updateComponent\u51fd\u6570\u6267\u884c`vm._update(vm._render(), hydrating)`\u8fd9\u6bb5\u4ee3\u7801\uff0c\u4e5f\u5c31\u662fVue\u7684\u539f\u578b\u4e2d\u5b9a\u4e49\u7684_update\uff0c\u5bf9\u65b0\u65e7\u7684vnode\u8fdb\u884c\u4e86diff\u7b97\u6cd5\u7684\u5bf9\u6bd4\uff0c\u6267\u884c\u5b8c`__patch__`\u540e\uff0c$el\u7684\u5143\u7d20\u5c31\u6709\u4e86\u521d\u59cb\u5316\u7684\u5b50\u5143\u7d20\uff0c\u6302\u8f7d\u5230\u4e86el\u4e0a\u3002\u7136\u540e\u89e6\u53d1\u4e86mounted\u94a9\u5b50\\n\\n## \u865a\u62dfDOM\\n\\n\u865a\u62dfdom\u7684diff\u5c31\u5728\u521a\u521a\u7684`__patch__`\u4e2d\\n\\n\u6700\u7ec8\u51fd\u6570\u5b9a\u4e49\u5728`src/core/vdom/patch.js`\u7684 createPatchFunction\u4e2d\uff0c\u73b0\u5728\u8fd9\u4e2a\u51fd\u6570\u4e3b\u8981\u662f\u628a\u865a\u62dfdom\u8f6c\u5316\u4e3a\u771f\u5b9edom\\n\\n\u4e5f\u5c31\u662f\u8fd4\u56de\u7684patch\u51fd\u6570\\n\\n```js\\nreturn function patch (oldVnode, vnode, hydrating, removeOnly) {\\n    // \u6ca1\u6709\u65b0vnode\uff0c\u53ea\u6709\u8001\u7684\uff0c\u662f\u5220\u9664\u64cd\u4f5c\uff0c\u76f4\u63a5\u628a\u8001\u8282\u70b9\u5220\u6389\\n    if (isUndef(vnode)) {\\n      if (isDef(oldVnode)) invokeDestroyHook(oldVnode)\\n      return\\n    }\\n\\n    let isInitialPatch = false\\n    const insertedVnodeQueue = []\\n    // \u6ca1\u6709\u8001vnode\uff0c\u521b\u5efavnode\u64cd\u4f5c\\n    if (isUndef(oldVnode)) {\\n      // empty mount (likely as component), create new root element\\n      isInitialPatch = true\\n      createElm(vnode, insertedVnodeQueue)\\n    } else {      \\n      const isRealElement = isDef(oldVnode.nodeType)\\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\\n        // patch existing root node\\n        // \u4e0d\u662f\u771f\u5b9edom\uff0c\u5bf9\u6bd4\u4e24\u4e2avnode\u662f\u5426\u76f8\u540c\uff0c\u6267\u884c\u8865\u4e01\u7b97\u6cd5\uff0cdiff\uff0cpatchVnode\u662f\u771f\u6b63\u7684diff\u7b97\u6cd5\u6838\u5fc3\\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly)\\n      } else {\\n        // \u5bf9\u771f\u5b9edom\u7684\u5904\u7406\\n        if (isRealElement) {\\n          // mounting to a real element\\n          // check if this is server-rendered content and if we can perform\\n          // a successful hydration.\\n          // \u670d\u52a1\u7aef\u6e32\u67d3\u7684\u5904\u7406\\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\\n            oldVnode.removeAttribute(SSR_ATTR)\\n            hydrating = true\\n          }\\n          if (isTrue(hydrating)) {\\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\\n              invokeInsertHook(vnode, insertedVnodeQueue, true)\\n              return oldVnode\\n            } else if (process.env.NODE_ENV !== \'production\') {\\n             ...\\n            }\\n          }\\n          // either not server-rendered, or hydration failed.\\n          // create an empty node and replace it\\n          oldVnode = emptyNodeAt(oldVnode)\\n        }\\n\\n        // replacing existing element\\n        const oldElm = oldVnode.elm\\n        const parentElm = nodeOps.parentNode(oldElm)\\n\\n        // create new node\\n        // \u521b\u5efa\u65b0\u7684dom\\n        createElm(\\n          vnode,\\n          insertedVnodeQueue,\\n          oldElm._leaveCb ? null : parentElm,\\n          nodeOps.nextSibling(oldElm)\\n        )\\n        // update parent placeholder node element, recursively\\n          // \u5982\u679cvnode\u5b9a\u4e49\u4e86parent\uff0c\u5219\u9012\u5f52\u5f80\u4e0a\u7ea7\u66f4\u65b0\\n        if (isDef(vnode.parent)) {\\n          let ancestor = vnode.parent\\n          const patchable = isPatchable(vnode)\\n          while (ancestor) {\\n            for (let i = 0; i < cbs.destroy.length; ++i) {\\n              cbs.destroy[i](ancestor)\\n            }\\n            ancestor.elm = vnode.elm\\n            if (patchable) {\\n              for (let i = 0; i < cbs.create.length; ++i) {\\n                cbs.create[i](emptyNode, ancestor)\\n              }\\n              // #6513\\n              // invoke insert hooks that may have been merged by create hooks.\\n              // e.g. for directives that uses the \\"inserted\\" hook.\\n              const insert = ancestor.data.hook.insert\\n              if (insert.merged) {\\n                // start at index 1 to avoid re-invoking component mounted hook\\n                for (let i = 1; i < insert.fns.length; i++) {\\n                  insert.fns[i]()\\n                }\\n              }\\n            } else {\\n              registerRef(ancestor)\\n            }\\n            ancestor = ancestor.parent\\n          }\\n        }\\n\\n        // destroy old node\\n        // \u5728\u66ff\u6362\u64cd\u4f5c\u524d\uff0c\u627e\u5230\u7236\u7ea7\u5143\u7d20\uff0c\u628a\u5f53\u524d\u7684\u8001\u8282\u70b9\u5220\u9664\u6389\\n        if (isDef(parentElm)) {\\n          removeVnodes([oldVnode], 0, 0)\\n        } else if (isDef(oldVnode.tag)) {\\n          invokeDestroyHook(oldVnode)\\n        }\\n      }\\n    }\\n   // \u89e6\u53d1vnode\u7236\u7ea7\u7684hook\u94a9\u5b50\\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch)\\n    return vnode.elm\\n  }\\n```\\n\\n\u518d\u770b\u770bcreateElm\u51fd\u6570\u505a\u4e86\u4ec0\u4e48\u4e8b\u60c5\\n\\n```js\\nfunction createElm () {\\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\\n      // This vnode was used in a previous render!\\n      // now it\'s used as a new node, overwriting its elm would cause\\n      // potential patch errors down the road when it\'s used as an insertion\\n      // reference node. Instead, we clone the node on-demand before creating\\n      // associated DOM element for it.\\n      vnode = ownerArray[index] = cloneVNode(vnode)\\n    }\\n\\n    vnode.isRootInsert = !nested // for transition enter check\\n  \\t// \u5982\u679c\u662f\u5b9a\u4e49\u7684\u7ec4\u4ef6\u5219return\\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\\n      return\\n    }\\n\\n    const data = vnode.data\\n    const children = vnode.children\\n    const tag = vnode.tag\\n    if (isDef(tag)) {\\n      if (process.env.NODE_ENV !== \'production\') {\\n        if (data && data.pre) {\\n          creatingElmInVPre++\\n        }\\n      }\\n\\t\\t\\t// \u901a\u8fc7createElementNS \u6216\u8005createElement\u521b\u5efa\u51fa\u771f\u5b9edom\\n      vnode.elm = vnode.ns\\n        ? nodeOps.createElementNS(vnode.ns, tag)\\n        : nodeOps.createElement(tag, vnode)\\n      // \u5bf9\u5143\u7d20\u8fdb\u884ccss\u7684scoped\u6807\u8bb0 set scope id attribute for scoped CSS.\\n      setScope(vnode)\\n\\n      /* istanbul ignore if */\\n      if (__WEEX__) {\\n       ...\\n      } else {\\n        // \u5bf9children\u8fdb\u884c\u9012\u5f52\u904d\u5386\u4e0d\u65ad\\n        createChildren(vnode, children, insertedVnodeQueue)\\n        if (isDef(data)) {\\n          invokeCreateHooks(vnode, insertedVnodeQueue)\\n        }\\n        insert(parentElm, vnode.elm, refElm)\\n      }\\n\\n      if (process.env.NODE_ENV !== \'production\' && data && data.pre) {\\n        creatingElmInVPre--\\n      }\\n    } else if (isTrue(vnode.isComment)) {\\n      // \u5bf9\u6ce8\u91ca\u8282\u70b9\u7684\u521b\u5efa\\n      vnode.elm = nodeOps.createComment(vnode.text)\\n      insert(parentElm, vnode.elm, refElm)\\n    } else {\\n      // \u521b\u5efa\u7eaf\u6587\u672c\u7c7b\u578b\\n      vnode.elm = nodeOps.createTextNode(vnode.text)\\n      insert(parentElm, vnode.elm, refElm)\\n    }\\n  }\\n```\\n\\n\u5728\u65b0\u8001vnode\u90fd\u5b58\u5728\u7684\u65f6\u5019\u5c31\u8981\u8fdb\u884cdom diff\u7b97\u6cd5\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e2apatchVnode\uff0c\u505a\u4e09\u79cd\u64cd\u4f5c \u5c5e\u6027\u66f4\u65b0Props\u3001\u6587\u672c\u66f4\u65b0TEXT\u3001\u5b50\u8282\u70b9\u66f4\u65b0 peorder\u3002\u9700\u8981\u63d0\u5230\u7684\u662f\u865a\u62dfdom\u7684\u6570\u636e\u7ed3\u6784 {text: \'\', children: []}, \u8981\u4e48text\uff08\u4ee3\u8868\u7eaf\u6587\u672c\uff09\u6709\u503c\uff0c\u8981\u4e48children\uff08\u6709\u5b50\u5143\u7d20\uff09\u6709\u503c\uff0c\u4e0d\u4f1a\u4e24\u8005\u540c\u65f6\u5b58\u5728\\n\\n```js\\nfunction patchVnode () {\\n    if (oldVnode === vnode) {\\n      return\\n    }\\n\\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\\n      // clone reused vnode\\n      vnode = ownerArray[index] = cloneVNode(vnode)\\n    }\\n\\n    const elm = vnode.elm = oldVnode.elm\\n\\n    if (isTrue(oldVnode.isAsyncPlaceholder)) {\\n      if (isDef(vnode.asyncFactory.resolved)) {\\n        hydrate(oldVnode.elm, vnode, insertedVnodeQueue)\\n      } else {\\n        vnode.isAsyncPlaceholder = true\\n      }\\n      return\\n    }\\n\\n    // reuse element for static trees.\\n    // note we only do this if the vnode is cloned -\\n    // if the new node is not cloned it means the render functions have been\\n    // reset by the hot-reload-api and we need to do a proper re-render.\\n    if (isTrue(vnode.isStatic) &&\\n      isTrue(oldVnode.isStatic) &&\\n      vnode.key === oldVnode.key &&\\n      (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))\\n    ) {\\n      vnode.componentInstance = oldVnode.componentInstance\\n      return\\n    }\\n\\n  \\t// \u5c5e\u6027\u66f4\u65b0\\n    let i\\n    const data = vnode.data\\n    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {\\n      i(oldVnode, vnode)\\n    }\\n    // \u83b7\u53d6\u65b0\u65e7\u8282\u70b9\\n    const oldCh = oldVnode.children\\n    const ch = vnode.children\\n\\n    if (isDef(data) && isPatchable(vnode)) {\\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode)\\n      if (isDef(i = data.hook) && isDef(i = i.update)) i(oldVnode, vnode)\\n    }\\n    // \u8282\u70b9\u66f4\u65b0\\n    if (isUndef(vnode.text)) {\\n      // \u65b0\u8001\u5b69\u5b50\u90fd\u6709\uff0cdiff\u64cd\u4f5c\\n      if (isDef(oldCh) && isDef(ch)) {\\n        if (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly)\\n      } else if (isDef(ch)) {\\n        // \u53ea\u6709\u65b0\u5b69\u5b50\u5b58\u5728\\n        if (process.env.NODE_ENV !== \'production\') {\\n          checkDuplicateKeys(ch)\\n        }\\n        // \u628a\u8001\u8282\u70b9\u6e05\u7a7a\uff0c\u653e\u5165\u65b0\u589e\u7684\u5b69\u5b50\\n        // \u5148\u6e05\u6389\u6587\u672c\\n        if (isDef(oldVnode.text)) nodeOps.setTextContent(elm, \'\')\\n        // \u518d\u589e\u52a0\u6587\u672c\\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue)\\n      } else if (isDef(oldCh)) {\\n        // \u8001\u5b58\u5728\uff0c\u65b0\u4e0d\u5b58\u5728\uff0c\u6ca1\u6709\u65b0\u7684\u5b69\u5b50\uff0c\u5220\u9664\u64cd\u4f5c\\n        removeVnodes(oldCh, 0, oldCh.length - 1)\\n      } else if (isDef(oldVnode.text)) {\\n        // \u8001\u7684\u6709\u6587\u672c\uff0c\u65b0\u7684\u6ca1\u6709\uff0c\u6e05\u695a\u6587\u672c\\n        nodeOps.setTextContent(elm, \'\')\\n      }\\n    } else if (oldVnode.text !== vnode.text) {\\n      // \u90fd\u6709\u6587\u672c\uff0c\u66ff\u6362\u4e3a\u65b0\u6587\u672c\\n      nodeOps.setTextContent(elm, vnode.text)\\n    }\\n    if (isDef(data)) {\\n      if (isDef(i = data.hook) && isDef(i = i.postpatch)) i(oldVnode, vnode)\\n    }\\n  }\\n```\\n\\n\u590d\u6742diff \u7b97\u6cd5 updateChildren\\n\\n```js\\nfunction updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\\n\\tlet oldStartIdx = 0 // \u8001\u5f00\u59cb\\n  let newStartIdx = 0 // \u65b0\u5f00\u59cb\\n  let oldEndIdx = oldCh.length - 1 // \u8001\u7ed3\u675f\\n  let oldStartVnode = oldCh[0]\\n  let oldEndVnode = oldCh[oldEndIdx]\\n  let newEndIdx = newCh.length - 1 // \u65b0\u7ed3\u675f\\n  let newStartVnode = newCh[0]\\n  let newEndVnode = newCh[newEndIdx]\\n  let oldKeyToIdx, idxInOld, vnodeToMove, refElm\\n\\n  // removeOnly is a special flag used only by <transition-group>\\n  // to ensure removed elements stay in correct relative positions\\n  // during leaving transitions\\n  const canMove = !removeOnly\\n  // \u5faa\u73af\u6761\u4ef6\uff0c\u8001\u5f00\u5c0f\u4e8e\u8001\u7ed3\u675f\u540c\u65f6\u65b0\u5f00\u5c0f\u4e8e\u65b0\u7ed3\u675f\\n  while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\\n    if (isUndef(oldStartVnode)) {\\n      oldStartVnode = oldCh[++oldStartIdx] // Vnode has been moved left\\n    } else if (isUndef(oldEndVnode)) {\\n      oldEndVnode = oldCh[--oldEndIdx]\\n      // \u8001\u5f00\u8ddf\u65b0\u5f00\u4e00\u6837\uff0c\u5219\u5e73\u79fb\u4e00\u4f4d\u6e38\u6807\uff0c\u65b0\u7684\u8001\u5f00\u8282\u70b9\u548c\u65b0\u5f00\u8282\u70b9\u91cd\u65b0\u8d4b\u503c\\n    } else if (sameVnode(oldStartVnode, newStartVnode)) {\\n      patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)    \\n      oldStartVnode = oldCh[++oldStartIdx]\\n      newStartVnode = newCh[++newStartIdx]\\n    } else if (sameVnode(oldEndVnode, newEndVnode)) {\\n      // \u8001\u7ed3\u675f\u4e5f\u662f\u540c\u6837\u7684\u5904\u7406\\n      patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx)\\n      oldEndVnode = oldCh[--oldEndIdx]\\n      newEndVnode = newCh[--newEndIdx]\\n    } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\\n      // \u8001\u5f00\u8ddf\u65b0\u7ed3\u675f\u76f8\u540c\\n      patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx)\\n      canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))\\n      oldStartVnode = oldCh[++oldStartIdx]\\n      newEndVnode = newCh[--newEndIdx]\\n    } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\\n      // \u8001\u7ed3\u675f\u8ddf\u65b0\u5f00\u59cb\u76f8\u540c\\n      patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)\\n      canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm)\\n      oldEndVnode = oldCh[--oldEndIdx]\\n      newStartVnode = newCh[++newStartIdx]\\n    } else {\\n      if (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx)\\n      idxInOld = isDef(newStartVnode.key)\\n        ? oldKeyToIdx[newStartVnode.key]\\n      : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx)\\n      // \u521b\u5efa\u8282\u70b9\uff0c\u5982\u679c\u65b0\u8282\u70b9\u4e0b\u6807\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u521b\u5efa\u65b0\u5143\u7d20\\n      if (isUndef(idxInOld)) { // New element\\n        createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx)\\n      } else {\\n        vnodeToMove = oldCh[idxInOld]\\n        // \u5982\u679c\u4e0b\u6807\u5b58\u5728\uff0c\u5bf9\u6bd4\u662f\u4e0d\u662f\u76f8\u540c\u8282\u70b9\\n        if (sameVnode(vnodeToMove, newStartVnode)) {\\n          patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)\\n          oldCh[idxInOld] = undefined\\n          canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm)\\n        } else {\\n          // key\u4e00\u6837\uff0c\u4e0d\u540c\u7684\u5143\u7d20\uff0c\u521b\u5efa\u65b0\u5143\u7d20\\n          // same key but different element. treat as new element\\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx)\\n        }\\n      }\\n      newStartVnode = newCh[++newStartIdx]\\n    }\\n  }\\n  // \u90fd\u4e0d\u7b26\u5408\u4e0a\u9762\u731c\u60f3\u7684\u60c5\u51b5\u6216\u8005\u9488\u5bf9\u904d\u5386\u5b8c\u5269\u4e0b\u7684\u5143\u7d20\\n  if (oldStartIdx > oldEndIdx) {\\n    refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm\\n    // \u8001\u5f00\u59cb\u5927\u4e8e\u8001\u7ed3\u675f\uff0c\u5148\u904d\u5386\u5b8c\u8001\u7684\uff0c\u5219\u662f\u65b0\u589e\u64cd\u4f5c\uff0c\u628a\u5269\u4e0b\u7684\u65b0\u8282\u70b9\u8fdb\u884c\u63d2\u5165\u8ffd\u52a0\\n    addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue)\\n  } else if (newStartIdx > newEndIdx) {\\n    // \u904d\u5386\u5b8c\u4e00\u6b21\u540e\uff0c\u65b0\u5f00\u5927\u4e8e\u65b0\u7ed3\u675f\uff0c\u5219\u5220\u6389\u8001\u7684\u8282\u70b9\\n    removeVnodes(oldCh, oldStartIdx, oldEndIdx)\\n  }\\n}\\n```\\n\\nvue\u7684\u57fa\u672c\u6d41\u7a0b\u5c31\u8d70\u5b8c\u4e86\uff0c\u8fd8\u6709\u5404\u79cdapi\u7684\u6e90\u7801\u4ecd\u7136\u9700\u8981\u7ee7\u7eed\u5b66\u4e60\uff0c\u90fd\u5728initGlobalAPI\uff08src/core/index.js\uff09\u91cc\u9762"},{"id":"/2020/\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","metadata":{"permalink":"/blog/2020/\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5.md","source":"@site/blog/2020/\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5.md","title":"\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","description":"bable 6.x\u7248\u672c","date":"2020-07-19T15:44:53.000Z","formattedDate":"2020\u5e747\u670819\u65e5","tags":[],"readingTime":0.385,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","date":"2020-07-19T15:44:53.000Z"},"prevItem":{"title":"\u6d45\u8c08Vue\u6e90\u7801","permalink":"/blog/2020/\u6d45\u8c08Vue\u6e90\u7801"},"nextItem":{"title":"egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8","permalink":"/blog/2020/egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8"}},"content":"bable 6.x\u7248\u672c\\n\\n\u6309\u7167\u6587\u6863\u88c5\u5b8cjest\u540e\uff0c\u4e00\u76f4\u62a5\u9519\u3002\u53d1\u73b0\u662f\u5728.vue\u6587\u4ef6\u4e2d\uff0cscript\u5f15\u5165\u4e86\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u7684css\u6587\u4ef6\u3002\\n\u4e00\u756a\u5ea6\u5a18\u540e\uff0c\u7ec8\u4e8e\u627e\u5230\u89e3\u51b3\u529e\u6cd5\\n1. \u5148npm install --save-dev identity-obj-proxy\\n2. \u7136\u540e\u5728package.json\u4e2d,Jest\u7684\u914d\u7f6e\u4e2d\u52a0\u5165\u5373\u53ef\\n ```\\n \\"moduleNameMapper\\": {\\n    \\"\\\\\\\\.(s?css|less)$\\": \\"identity-obj-proxy\\"\\n  }\\n```"},{"id":"/2020/egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8","metadata":{"permalink":"/blog/2020/egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8.md","source":"@site/blog/2020/egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8.md","title":"egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8","description":"\u6700\u8fd1\u4f7f\u7528egg\u505a\u4e86\u4e00\u4e2a\u5b66\u4e60\u9879\u76ee\uff0c\u6574\u4e2a\u8fc7\u7a0b\u4e0b\u6765\uff0c\u5bf9egg\u4e5f\u5df2\u7ecf\u6bd4\u8f83\u719f\u6089\u3002","date":"2020-06-22T22:37:25.000Z","formattedDate":"2020\u5e746\u670822\u65e5","tags":[{"label":"egg","permalink":"/blog/tags/egg"}],"readingTime":5.445,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8","date":"2020-06-22T22:37:25.000Z","tags":["egg"]},"prevItem":{"title":"\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5","permalink":"/blog/2020/\u4f7f\u7528jest\uff0c\u5728vue\u7684script\u4e2d\u5f15\u5165css\u62a5\u9519\u89e3\u51b3\u529e\u6cd5"},"nextItem":{"title":"Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization","permalink":"/blog/2020/Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization"}},"content":"\u6700\u8fd1\u4f7f\u7528egg\u505a\u4e86\u4e00\u4e2a[\u5b66\u4e60\u9879\u76ee](https://github.com/LwcReber/bookLink)\uff0c\u6574\u4e2a\u8fc7\u7a0b\u4e0b\u6765\uff0c\u5bf9egg\u4e5f\u5df2\u7ecf\u6bd4\u8f83\u719f\u6089\u3002\\n\\n\u4e0a\u624begg\u5176\u5b9e\u5f88\u7b80\u5355\\n\\n**\u4e09\u8981\u7d20\uff1a \u8def\u7531\uff08Router\uff09\u3001\u63a7\u5236\u5668\uff08Controller\uff09\u3001\u670d\u52a1\uff08Service\uff09**\\n\x3c!--truncate--\x3e\\n\u53ea\u8981\u5bf9\u8fd9\u4e09\u4e2a\u6709\u4e86\u57fa\u672c\u7684\u4e86\u89e3\u4e5f\u5c31\u77e5\u9053egg\u600e\u4e48\u73a9\u4e86\\n\\n\\n\\n### \u8def\u7531\uff08Router\uff09\\n\\n\u6240\u8c13\u7684\u8def\u7531\u5176\u5b9e\u5c31\u662f\u8bf4\u540e\u7aef\u63a5\u53e3\uff0c\u5728app/router.js\u6587\u4ef6\u5939\u4e2d\u5b9a\u4e49\uff0c\\n\\n\u4e3b\u8981\u662f\u5b66\u4f1a\u5b98\u7f51\u4e2d\u7684RESTful\u98ce\u683c\u7684\u5b9a\u4e49\uff0c\u4f60\u5c31\u5df2\u7ecf\u5b66\u4f1a\u5199\u8def\u7531\u5566\\n\\n\u5176\u5b9e\u5c31\u662fC(create) R(read)  U(update) D(delete)\uff0c \u9488\u5bf9\u8d44\u6e90\u8fdb\u884c\u589e\u5220\u6539\u67e5\uff08`router.resources(xxx)`\uff09\\n\\n```javascript\\n// app/router.js\\nmodule.exports = app => {\\n  const { router, controller } = app;\\n  router.resources(\'posts\', \'/api/posts\', controller.posts);\\n  router.resources(\'users\', \'/api/v1/users\', controller.v1.users); // app/controller/v1/users.js\\n};\\n```\\n\\n\u53e6\u5916\u8fd8\u53ef\u4ee5\u5728\u8def\u7531\u4e2d\u52a0\u5165\u4e2d\u95f4\u4ef6, \u6bd4\u5982\u4f7f\u7528\u4e86\u67d0\u4e2a\u4e2d\u95f4\u4ef6jwt\\n\\n\\n\\n```javascript\\n// app/router.js\\nmodule.exports = app => {\\n  const { router, controller, jwt } = app;\\n  router.resources(\'posts\', \'/api/posts\', jwt, controller.posts);\\n  router.resources(\'users\', \'/api/v1/users\', controller.v1.users); // app/controller/v1/users.js\\n};\\n```\\n\\n\u5c31\u662f\u76f4\u63a5\u5728\u8def\u7531\u4e2d\u53bb\u52a0\u5165\u5373\u53ef\\n\\n\u4e0d\u8fc7\u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u7528\u7684router.resources\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5728\u5f00\u53d1\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u9047\u5230\u5bf9\u67d0\u4e2a\u8d44\u6e90\uff0c\u53ea\u60f3\u8981\u67d0\u51e0\u4e2a\u63a5\u53e3\u662f\u52a0\u5165\u4e2d\u95f4\u4ef6\u7684\uff0c\u90a3\u4e48\u8fd9\u4e2a\u60c5\u51b5\u53ef\u4ee5\u4f7f\u7528\u539f\u59cb\u7684\u65b9\u5f0f\uff0c\u5c31\u53ef\u4ee5\u5bf9\u6bcf\u4e2a\u63a5\u53e3\u90fd\u8fdb\u884c\u4e86\u89e3\u85d5\uff0c\u6839\u636e\u9700\u6c42\u662f\u5426\u4f7f\u7528\u4e2d\u95f4\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528[egg-router-plus](https://github.com/eggjs/egg-router-plus)\u6765\u5b9a\u4e49\uff0c\u4ee3\u7801\u770b\u8d77\u6765\u66f4\u52a0\u8212\u670d\\n\\n```javascript\\n// app/router.js\\nmodule.exports = app => {\\n  const { router, controller, jwt } = app;\\n  app.router.get(\'/news/list\', jwt, app.controller.news.list);\\n  app.router.get(\'/news/detail\', app.controller.news.detail);\\n};\\n```\\n\\n### \u63a7\u5236\u5668\uff08Controller\uff09\\n\\n\u56e0\u4e3a\u662f\u524d\u7aef\u6765\u5199\u540e\u7aef\u63a5\u53e3\uff0c\u53ef\u80fd\u6709\u5f88\u591a\u4eba\u5bf9\u63a7\u5236\u5668\u4e0d\u662f\u5f88\u4e86\u89e3\u3002\u5176\u5b9e\u5b83\u5c31\u662f\u5904\u7406\u7528\u6237\u53c2\u6570\uff0c\u7ecf\u8fc7\uff08service\uff09\u5904\u7406\u540e\uff0c\u628a\u7ed3\u679c\u518d\u5c01\u88c5\u8fd4\u56de\\n\uff0c\u901a\u4fd7\u7684\u8bf4\u5b83\u5c31\u662f\u63a7\u5236\u4f60\u8fd9\u4e2a\u63a5\u53e3\u7684\u5927\u903b\u8f91\uff0c\u628a\u6570\u636e\u8fdb\u884c\uff0c\u81f3\u4e8e\u6570\u636e\u7684\u7ec6\u8282\u65b9\u9762\u7684\u5904\u7406\u7684\uff0c\u5b83\u5c31\u4e0d\u7ba1\u3002\\n\\n\u4ece\u4e0a\u9762\u7684\u8def\u7531\u53ef\u4ee5\u4e86\u89e3\u5230\uff0c\u6bcf\u4e2a\u8def\u7531\u5bf9\u5e94\u7740\u67d0\u4e2a\u63a7\u5236\u5668\u7684\u67d0\u4e2a\u65b9\u6cd5\uff0c\u90a3\u5c31\u597d\u529e\u4e86\uff0c\u65e0\u975e\u5c31\u662f\u628a\u8fd9\u4e2a\u63a5\u53e3\u7684\u6570\u636e\u4e22\u5230\u8fd9\u4e2a\u63a7\u5236\u5668\u91cc\u9762\u7684\u67d0\u4e2a\u65b9\u6cd5\u8fdb\u884c\u5904\u7406\uff0c\u7136\u540e\u8fd4\u56de\u7ed3\u679c\u5c31\u884c\\n\\n```javascript\\n// app/router.js\\nmodule.exports = app => {\\n  const { router, controller, jwt } = app;\\n  app.router.get(\'/news/list\', jwt, app.controller.news.list);\\n  app.router.get(\'/news/detail\', app.controller.news.detail);\\n};\\n\\n// app/controller/news.js\\n// \u5f15\u5165egg\u7684controller\\nconst Controller = require(\'egg\').Controller;\\n// \u65b0\u5efa\u4e00\u4e2a\u7c7b\uff0c\u7ee7\u627fegg\u7684controller\\nclass newsController extends Controller {\\n  // \u5bf9\u5e94\u8def\u7531\u4e2d\u5199\u7684app.controller.news.list\\n  list () {\\n    const { ctx, service } = this;\\n    // \u67e5\u8be2\u5217\u8868\u6570\u636e\\n    // \u83b7\u53d6\u8bf7\u6c42\u53c2\u6570\\n    const req = ctx.params\\n    // \u8c03\u7528 Service \u8fdb\u884c\u4e1a\u52a1\u5904\u7406\\n    const res = await service.news.getList(req);\\n    // \u8bbe\u7f6e\u54cd\u5e94\u5185\u5bb9\u548c\u54cd\u5e94\u72b6\u6001\u7801\\n    ctx.body = { data: res };\\n    ctx.status = 200;\\n  }\\n}\\n```\\n\\n\u4e00\u4e2a\u57fa\u672c\u7684controller\u5c31\u662f\u8fd9\u4e48\u7b80\u5355\uff01\uff01\u53e6\u5916\u8fd8\u53ef\u4ee5\u5bf9\u53c2\u6570\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u6709\u5185\u7f6e\u63d2\u4ef6`egg-validate`\\n\\n### \u670d\u52a1\uff08Service\uff09\\n\\n\u670d\u52a1\u4ece\u5b57\u9762\u610f\u601d\u4e0a\u5f88\u5bb9\u6613\u7ed9\u4eba\u9020\u6210\u56f0\u6270\uff0c\u4ee5\u4e3a\u8fd9\u91cc\u662f\u5199\u63a5\u53e3\u7684\u5730\u65b9\uff0c\u5176\u5b9e\u8fd9\u4e2aService\u5c31\u662f\u4f60\u63a5\u6536\u5230\u4e86Controller\u7684\u53c2\u6570\uff0c\u8fdb\u884c\u590d\u6742\u903b\u8f91\u5904\u7406\u7684\u5730\u65b9\uff0c\u6bd4\u5982\u62ff\u5230\u4e00\u4e9b\u53c2\u6570\u8fdb\u884c\u4e86\uff0c\u64cd\u4f5c\u6570\u636e\u5e93\uff0c\u589e\u5220\u6539\u67e5\u8fd9\u4e9b\uff0c\u6216\u8005\u662f\u628a\u53c2\u6570\u91cd\u65b0\u4fee\u6539\u540e\uff0c\u628a\u8fd9\u4e2a\u53c2\u6570\u518d\u62ff\u53bb\u8bf7\u6c42\u7b2c\u4e09\u65b9\u670d\u52a1\uff0c\u5c31\u662f\u505a\u903b\u8f91\u5904\u7406\u7684\u90fd\u653e\u8fd9\u91cc\u3002\\n\\n\u5982\u679c\u8bf7\u6c42\u7b2c\u4e09\u65b9\u7684\u670d\u52a1\u53ef\u4ee5\u4f7f\u7528curl\uff0c\u8fd9\u79cd\u7684\u8bdd\uff0cegg\u7528\u6765\u505a\u4e2d\u95f4\u4ef6\u670d\u52a1\u4e5f\u5c31\u53ef\u4ee5\u5f88\u5bb9\u6613\u7406\u89e3\u4e86\u3002\u628a\u7b2c\u4e09\u65b9\u7684\u63a5\u53e3\u5168\u90e8\u5c01\u88c5\u4e86\u4e00\u6b21\uff0c\u628a\u53c2\u6570\u5904\u7406\u4e00\u4e0b\uff0c\u7136\u540e\u4f7f\u7528curl\u8bf7\u6c42\u7b2c\u4e09\u65b9\u670d\u52a1\uff0c\u5e76\u628a\u8fd4\u56de\u7ed3\u679c\u76f4\u63a5\u8fd4\u56de\u524d\u7aef\\n\\n\\n\\n\u81f3\u6b64\uff0c\u4e86\u89e3\u5b8c\u8fd9\u4e09\u4e2a\u529f\u80fd\u540e\uff0c\u7ec3\u4e60\u4e00\u4e0b\u5c31\u5df2\u7ecf\u53ef\u4ee5\u4e0a\u624begg\u5566\u3002\\n\\n\\n\\n\u7b49\u7b49\u3002\u3002\u3002\u8fd8\u6709\uff1f\uff1f\\n\\n\u719f\u6089\u5f88\u7b80\u5355\uff0c\u5f53\u7136\u5f00\u53d1\u771f\u6b63\u9879\u76ee\u8fd8\u662f\u9700\u8981\u4e00\u4e9b\u8f85\u52a9\u7684\\n\\nextend \u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e2d\u5c01\u88c5\u4e00\u4e9b\u5e38\u7528\u51fd\u6570\uff0c\u6216\u8005\u516c\u5171\u6237\u5904\u7406\u65b9\u6cd5\uff0c\u8c03\u7528\u4e5f\u5f88\u7b80\u5355`ctx.helper.xxx`\u5373\u53ef\\n\\n\u5728config\u6587\u4ef6\u5939\u4e2d\\n\\nconfig.default.js: \u9879\u76ee\u7684\u57fa\u672c\u914d\u7f6e\uff0c\u662f\u5426\u4f7f\u7528\u67d0\u4e2a\u4e2d\u95f4\u4ef6\u3001\u8de8\u57df\u914d\u7f6e\u7b49\u7b49\\n\\nplugin.js \u4f7f\u7528\u7684\u63d2\u4ef6\u5217\u8868\uff0c\u5b89\u88c5\u4e86\u5bf9\u5e94\u7684\u63d2\u4ef6\u540e\uff0c\u5728\u8fd9\u4e2a\u5730\u65b9\u5199\u4e0a\uff0c\u63d2\u4ef6\u5c31\u52a0\u8fdb\u5165\u9879\u76ee\u91cc\u9762\u4e86\uff0c\u975e\u5e38\u65b9\u4fbf\uff01\uff01\uff08\u5f3a\u70c8\u63a8\u8350\u51e0\u4e2a\u597d\u7528\u7684\u63d2\u4ef6 egg-validate \u3001 egg-jwt\u3001 egg-cors\u3001 egg-swagger-doc\uff09\\n\\n\u8fd8\u6709\u6dfb\u52a0\u9879\u76ee\u7684logger\u65e5\u5fd7\\n\\n\u81f3\u4e8e\u5176\u4ed6\u7684\u529f\u80fd\u5c31\u8981\u770b\u9879\u76ee\u7684\u9700\u6c42\u8fdb\u884c\u6309\u9700\u5b66\u4e60\u4f7f\u7528\u4e86"},{"id":"/2020/Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization","metadata":{"permalink":"/blog/2020/Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization.md","source":"@site/blog/2020/Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization.md","title":"Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization","description":"1. \u5728config.defautl.js\u4e2d","date":"2020-06-02T23:53:12.000Z","formattedDate":"2020\u5e746\u67082\u65e5","tags":[{"label":"egg","permalink":"/blog/tags/egg"}],"readingTime":0.76,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization","date":"2020-06-02T23:53:12.000Z","tags":["egg"]},"prevItem":{"title":"egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8","permalink":"/blog/2020/egg\u5b9e\u8df5\uff0c\u6559\u4f60\u5982\u4f55\u5165\u95e8"},"nextItem":{"title":"\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar","permalink":"/blog/2020/\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar"}},"content":"1. \u5728config.defautl.js\u4e2d\\n\\n   ```javascript\\n   config.swaggerdoc = {\\n     ...\\n     securityDefinitions: {\\n         Bearer: {\\n           type: \'apiKey\',\\n           name: \'Authorization\',\\n           in: \'header\',\\n         }\\n     }\\n      ...\\n   }\\n   ```\\n\\n   \u5728securityDefinitions\u4e2d\u5b9a\u4e49Bearer\u5c5e\u6027\uff08\u4efb\u610f\u5b57\u6bb5\u90fd\u53ef\u4ee5\uff0cBearer\u662f\u56e0\u4e3aAuthorization\u4e2d\u7684\u914d\u7f6e\u9700\u8981\u4e66\u5199\uff0c\u6240\u4ee5\u7528\u8be5\u5b57\u6bb5\u6bd4\u8f83\u597dcv\uff09\\n\\n2. \u5728\u63a5\u53e3controller\u5b9a\u4e49\u91cc\u9762\uff0cswagger\u7684\u4e66\u5199\u6dfb\u52a0\u4e0a\u9762\u5b9a\u4e49\u90a3\u4e2a\u5c5e\u6027\u5373\u53ef,  \u5982\u4e0b\\n\\n   ```javascript\\n   /**\\n      * @summary \u65b0\u589earticle\\n      * @description \u65b0\u589earticle\\n      * @router post /api/v1/article\\n      * @Bearer\\n      * @response 200 baseResponse\\n      */\\n   ```\\n\\n   \u53ea\u8981\u5728\u63a5\u53e3\u5b9a\u4e49\u4e2d\u52a0\u4e0a`@Bearer`\u5373\u53ef\\n\\n\u8fd9\u6837\u5728swagger-ui\u4e2d\u914d\u7f6e\u4e86Authorization\u503c\u540e\uff0c\u8bf7\u6c42header\u7684Authorization\u5c5e\u6027\u90fd\u4f1a\u5e26\u6709\u914d\u7f6e\u7684\u503c"},{"id":"/2020/\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar","metadata":{"permalink":"/blog/2020/\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar.md","source":"@site/blog/2020/\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar.md","title":"\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar","description":"\u6700\u8fd1\u6574\u7406\u9879\u76ee\u4e2d\u53d1\u73b0\uff0c\u5934\u50cf\u8fd9\u4e2a\u5e94\u7528\u7684\u573a\u666f\u5f88\u591a\uff0c\u800c\u4e14\u8fd8\u8981\u4e00\u4e9b\u9700\u8981\u7279\u6b8a\u5904\u7406\u7684\u6bd4\u5982\u60f3\u6709\u751f\u6210\u5934\u50cf\u7684\u8fd9\u79cd\u64cd\u4f5c\u3002\u4e8e\u662f\u4fbf\u7740\u624b\u641e\u4e86\u4e00\u4e2a\u5934\u50cf\u7684\u7ec4\u4ef6\u53d1\u5e03\u5230npm\u4e2d view-avatar","date":"2020-05-12T00:17:15.000Z","formattedDate":"2020\u5e745\u670812\u65e5","tags":[{"label":"\u7ec4\u4ef6","permalink":"/blog/tags/\u7ec4\u4ef6"}],"readingTime":2.94,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar","date":"2020-05-12T00:17:15.000Z","tags":["\u7ec4\u4ef6"]},"prevItem":{"title":"Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization","permalink":"/blog/2020/Egg-swagger-doc\u5982\u4f55\u5728\u8bf7\u6c42\u4e2d\u914d\u7f6eheader\u7684Authorization"},"nextItem":{"title":"Element-ui Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528","permalink":"/blog/2020/Element-ui-Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528"}},"content":"\u6700\u8fd1\u6574\u7406\u9879\u76ee\u4e2d\u53d1\u73b0\uff0c\u5934\u50cf\u8fd9\u4e2a\u5e94\u7528\u7684\u573a\u666f\u5f88\u591a\uff0c\u800c\u4e14\u8fd8\u8981\u4e00\u4e9b\u9700\u8981\u7279\u6b8a\u5904\u7406\u7684\u6bd4\u5982\u60f3\u6709\u751f\u6210\u5934\u50cf\u7684\u8fd9\u79cd\u64cd\u4f5c\u3002\u4e8e\u662f\u4fbf\u7740\u624b\u641e\u4e86\u4e00\u4e2a\u5934\u50cf\u7684\u7ec4\u4ef6\u53d1\u5e03\u5230npm\u4e2d [view-avatar](https://github.com/LwcReber/view-avatar)\\n\\n\\n\\n1. \u4e3a\u4ec0\u4e48\u8981\u6709\u8fd9\u4e2a\u7ec4\u4ef6\uff1f\\n\x3c!--truncate--\x3e\\n\\n   \u56e0\u4e3a\u9879\u76ee\u4e2d\u4f7f\u7528\u5934\u50cf\u7684\u5730\u65b9\uff0c\u7ecf\u5e38\u9700\u8981\u5904\u7406\u56fe\u7247\u51fa\u9519\u7684\u60c5\u51b5\u3002\u5176\u4ed6\u60c5\u51b5\u8fd8\u6709\u5c31\u662f\u9700\u8981\u6709\u751f\u6210\u5934\u50cf\u8fd9\u79cd\u529f\u80fd\uff0c\u53ea\u9700\u8981\u751f\u6210\u7c7b\u4f3c\u5e26\u6709\u6587\u5b57\u7684\u5934\u50cf\u5373\u53ef\u3002\\n\\n2. \u6709\u6ca1\u6709\u7c7b\u4f3c\u7684\u7ec4\u4ef6\uff1f\\n\\n   \u5f53\u7136\u662f\u6709\u524d\u671f\u8c03\u7814\u8fc7\u7684\uff0c\u6bd4\u5982vue-avatar\uff0cstar\u6570\u4e5f\u5f88\u591a\u3002\u4f46\u662f\u4e3a\u4ec0\u4e48\u65e0\u6cd5\u6ee1\u8db3\u9700\u6c42\u5462\uff0c\u7b2c\u4e00\u751f\u6210\u5934\u50cf\u7684\u6587\u5b57\u989c\u8272\u503c\u548c\u5e95\u8272\u503c\u9700\u8981\u81ea\u5df1\u53bb\u914d\u7f6e\uff0c\u4f5c\u4e3a\u5f00\u53d1\u8005\u6765\u8bf4\u8fd9\u70b9\u5f88\u9ebb\u70e6\uff0c\u56e0\u4e3a\u6709\u65f6\u81ea\u5df1\u4e5f\u4e0d\u77e5\u9053\u8be5\u7528\u4ec0\u4e48\u989c\u8272\u3002\\n\\n   \u7b2c\u4e8c\u5b83\u751f\u6210\u7684\u56fe\u7247\u663e\u793a\u7684\u6587\u6848\u65e0\u6cd5\u901a\u8fc7slot\u7684\u65b9\u5f0f\u8fdb\u884c\u81ea\u5b9a\u4e49\uff0c\u65e0\u6cd5\u81ea\u5b9a\u4e49\u914d\u7f6e\u60f3\u663e\u793a\u7684\u56fe\u7247\u6587\u5b57\u5185\u5bb9\uff0c\u7b2c\u4e09\u6ca1\u6709src\u51fa\u73b0\u9519\u8bef\u65f6\u7684\u5904\u7406\\n\\n\\n\\n   \u7531\u6b64\u51b3\u5b9a\u5f00\u53d1\u4e00\u4e2a\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684\uff0c\u5404\u79cd\u65b9\u5f0f\u53ef\u4ee5\u81ea\u5df1\u914d\u7f6e\u7684\u5934\u50cf\u7ec4\u4ef6\\n\\n   \u548cvue-avatar\u5bf9\u6bd4\\n\\n   |                                      | view-avatar | vue-avatar |\\n   | ------------------------------------ | ----------- | ---------- |\\n   | \u53ef\u4ee5\u6839\u636esrc\u663e\u793a\u56fe\u7247                  | Y           | Y          |\\n   | \u6839\u636e\u6587\u6848\u5185\u5bb9\u751f\u6210\u56fe\u7247                 | Y           | Y          |\\n   | \u751f\u6210\u56fe\u7247\u7684\u6587\u6848\u5185\u5bb9\u53ef\u4ee5\u81ea\u5b9a\u4e49         | Y           | Y          |\\n   | \u53ef\u4ee5\u81ea\u5b9a\u4e49\u6587\u6848\u6587\u5b57\u989c\u8272\u548c\u5e95\u8272         | Y           | Y          |\\n   | \u53ef\u4ee5\u8bbe\u7f6e\u56fe\u7247\u7684\u5bbd\u9ad8                   | Y           | Y          |\\n   | \u53ef\u4ee5\u8bbe\u7f6e\u56fe\u7247\u7684\u6837\u5f0f\uff0c\u5b8c\u5168\u81ea\u5b9a\u4e49       | Y           | Y          |\\n   | \u6587\u5b57\u989c\u8272\u548c\u5e95\u8272\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u968f\u673a\u4f7f\u7528   | Y           | N          |\\n   | \u53ef\u4ee5\u5728\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u7684\u60c5\u51b5\u4e0b\u81ea\u5b9a\u4e49\u5904\u7406 | Y           | N          |\\n   | \u5177\u5907tooltips\u663e\u793a\u5934\u50cf\u540d\u5b57\u7684\u8f85\u52a9\u529f\u80fd   | Y           | N          |\\n\\n   \u4e0a\u9762\u662f\u5927\u4f53\u7684\u5bf9\u6bd4\uff0c\u5f53\u7136vue-avatar\u7684\u4e5f\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u4f18\u70b9\uff0c\u6bd4\u5982\u4f7f\u7528username\uff0c\u5b83\u7684\u66f4\u52a0\u667a\u80fd\u4e9b\u3002view-avatar\u7684\u5904\u7406\u65b9\u5f0f\u662f\u62bd\u53d6\u4e86\u6700\u540e\u4e24\u4e2a\u5b57\u7b26\u8fdb\u884c\u663e\u793a\uff0c\u7b80\u5355\u4e00\u4e9b\u3002\u7136\u800cview-avatar\u6709\u51e0\u4e2aslot\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u6bd4\u5982 imgError\uff08\u56fe\u7247\u9519\u8bef\u5904\u7406\uff09\u3001text\uff08\u6587\u5b57\u81ea\u5b9a\u4e49\u663e\u793a\uff09\u3001\u9ed8\u8ba4\u7684slot\uff08\u76f4\u63a5\u81ea\u5b9a\u4e49\u56fe\u7247\uff09\u7b49"},{"id":"/2020/Element-ui-Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528","metadata":{"permalink":"/blog/2020/Element-ui-Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/Element-ui-Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528.md","source":"@site/blog/2020/Element-ui-Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528.md","title":"Element-ui Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528","description":"\u770b\u4e86\u5b98\u7f51\u7684demo\uff0c\u5728\u4f7f\u7528Popover\u7684\u65f6\u5019\u9700\u8981\u5728\u7ec4\u4ef6\u5185\u901a\u8fc7\u5177\u540d\u63d2\u4ef6\u5199\u51fareference\uff0c\u4e5f\u5c31\u662f\u5728\u54ea\u4e2a\u5143\u7d20\u4e0a\u9762\u663e\u793aPopover\u3002\u53c8\u6216\u8005\u901a\u8fc7\u5b9a\u4e49ref\u7684\u65b9\u5f0f\uff0c\u518d\u518d\u6307\u5b9a\u7684\u5143\u7d20\u4e0a\u9762\u901a\u8fc7v-popover:xxx(ref\u503c)\u7684\u65b9\u5f0f\u4f7f\u7528Popover","date":"2020-04-01T21:32:23.000Z","formattedDate":"2020\u5e744\u67081\u65e5","tags":[],"readingTime":3.02,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Element-ui Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528","date":"2020-04-01T21:32:23.000Z"},"prevItem":{"title":"\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar","permalink":"/blog/2020/\u4e00\u4e2avue\u7684\u5934\u50cf\u7ec4\u4ef6 view-avatar"},"nextItem":{"title":"\u8bbe\u8ba1\u6a21\u5f0f","permalink":"/blog/2020/\u8bbe\u8ba1\u6a21\u5f0f"}},"content":"\u770b\u4e86\u5b98\u7f51\u7684demo\uff0c\u5728\u4f7f\u7528Popover\u7684\u65f6\u5019\u9700\u8981\u5728\u7ec4\u4ef6\u5185\u901a\u8fc7\u5177\u540d\u63d2\u4ef6\u5199\u51fareference\uff0c\u4e5f\u5c31\u662f\u5728\u54ea\u4e2a\u5143\u7d20\u4e0a\u9762\u663e\u793aPopover\u3002\u53c8\u6216\u8005\u901a\u8fc7\u5b9a\u4e49ref\u7684\u65b9\u5f0f\uff0c\u518d\u518d\u6307\u5b9a\u7684\u5143\u7d20\u4e0a\u9762\u901a\u8fc7v-popover:xxx(ref\u503c)\u7684\u65b9\u5f0f\u4f7f\u7528Popover\\n\\n\\n\\n\u4f46\u662f\u5982\u679c\u9700\u8981\u4f7f\u7528\u7684\u663e\u793aPopover\u5143\u7d20\u662f\u7b2c\u4e09\u65b9\u7684\u7ec4\u4ef6\u5e93\uff0c\u5e76\u4e14\u4e5f\u6ca1\u6709\u63d0\u4f9bslot\u6765\u4f7f\u7528\u6307\u4ee4\u7684\u65b9\u5f0f\u8be5\u5982\u4f55\u6765\u4f7f\u7528Popover\u5462\uff1f\u5b98\u65b9\u6587\u6863\u4e5f\u6ca1\u6709\u8fd9\u79cd\u4f7f\u7528\u65b9\u5f0f\u7684\u8bf4\u660e\u3002\u3002\u3002\u53ef\u80fd\u4e00\u822c\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u79cd\u8c03\u7528\u65b9\u5f0f\u5427\\n\\n\\n\\n\u4e0b\u9762\u8bf4\u660e\u89e3\u51b3\u529e\u6cd5\uff0c\u5148\u4e0a\u89e3\u51b3\u7684\u94fe\u63a5https://codepen.io/lwcreber/pen/QWbYpqe\\n\\n\u5728Element-ui\u6e90\u7801\u4e2d\\n\x3c!--truncate--\x3e\\n\\n```javascript\\n mounted() {\\n    let reference = this.referenceElm = this.reference || this.$refs.reference;\\n    const popper = this.popper || this.$refs.popper;\\n\\n    if (!reference && this.$slots.reference && this.$slots.reference[0]) {\\n      reference = this.referenceElm = this.$slots.reference[0].elm;\\n    }\\n   ....\\n\\n```\\n\\n\u7ec4\u4ef6\u5728mounted\u65f6\u5019\u4f1a\u627e\u51fareference\uff0c\u5176\u4e2d\u5728props\u91cc\u9762\u53d1\u73b0\u6709reference\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5728\u6302\u8f7d\u7684\u65f6\u5019\u4f1a\u627e\u51fareference\u7684\u5143\u7d20\uff0c\u7136\u540e\u4e3a\u8fd9\u4e2a\u505a\u4e00\u7cfb\u5217\u7684\u4e8b\u4ef6\u7ed1\u5b9a\u7b49\u7b49\u3002\\n\\n\u90a3\u4e48\u8fd9\u6837\u7684\u8bdd\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7props\u76f4\u63a5\u4f20\u9012reference\u7684\u5143\u7d20\u8fdb\u6765\u5e94\u8be5\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\uff0cbut\uff0c\u76f4\u63a5\u8fd9\u6837\u505a\u7684\u8bdd\u4f1a\u53d1\u73b0Popover\u4ecd\u7136\u662f\u4e0d\u4f1a\u51fa\u73b0\u5728\u5143\u7d20\u7684\u56db\u5468\uff0c\u56e0\u4e3a\u7ec4\u4ef6\u5728mouted\u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u7ed1\u5b9a\u6240\u6709\u4e8b\u4ef6\uff0c\u6240\u4ee5\u8bf4\u4e0d\u80fd\u7b49\u6302\u8f7d\u540e\u5728\u4f20\u9012reference\u7684\u5143\u7d20\u7ed9\u7ec4\u4ef6\\n\\nhtml\u90e8\u5206\\n\\n```html\\n<el-popover\\n    v-if=\\"showPopver\\"\\n    @hide=\\"showPopver = false\\"\\n    ref=\\"popover\\"\\n    placement=\\"bottom\\"\\n    title=\\"\u6807\u9898\\"\\n    width=\\"200\\"\\n    trigger=\\"click\\"\\n    :reference=\\"popoverElm\\"\\n    content=\\"\u8fd9\u662f\u4e00\u6bb5\u5185\u5bb9,\u8fd9\u662f\u4e00\u6bb5\u5185\u5bb9,\u8fd9\u662f\u4e00\u6bb5\u5185\u5bb9,\u8fd9\u662f\u4e00\u6bb5\u5185\u5bb9\u3002\\"\\n   >\\n  </el-popover>\\n   <el-button id=\\"btn\\" @click=\\"showPop\\">\u65e0\u6307\u5b9areference</el-button>\\n```\\n\\nJs\u90e8\u5206\\n\\n```js\\ndata() {\\n  return {\\n    popoverElm: {},\\n    showPopver: false\\n  };\\n},\\nmethods: {\\n\\tshowPop () {\\n    this.showPopver = true\\n    this.popoverElm = document.querySelector(\'#btn\')\\n    this.$nextTick(() => {\\n      this.$refs.popover && this.$refs.popover.doShow()\\n      console.log(this.popoverElm)\\n    })\\n  }\\n}\\n\\n```\\n\\n\u901a\u8fc7v-if\u7684\u65b9\u5f0f\u63a7\u5236\u4e86\u5143\u7d20\u7684\u663e\u793a\uff0c\u6bcf\u6b21\u8bbe\u7f6e this.showPopver \uff0c\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3\u5e76mounted\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u52a8\u6001\u7684\u8bbe\u7f6e\u6307\u5b9areference\u7684\u5143\u7d20\u4e86\uff0c\u7136\u540e\u901a\u8fc7 this.$nextTick\uff0c\u5728\u4e0b\u6b21\u5b9e\u56fe\u66f4\u65b0\u65f6\uff0c`this.$refs.popover.doShow()`\u64cd\u4f5c\u663e\u793apopover\u5373\u53ef\uff0c\u53e6\u5916\u8fd8\u9700\u8981\u5728\u9690\u85cf\u7684\u65f6\u5019\u8bbe\u7f6ethis.showPopver \u4e3afalse\uff0c\u4ece\u800c\u4f7f\u4e0b\u6b21\u53ef\u4ee5\u7ee7\u7eed\u663e\u793a\u3002\\n\\n\u8fd9\u79cd\u65b9\u5f0f\u4f18\u70b9\u662f\u89e3\u51b3\u4e86\u4e0d\u6307\u5b9areference\u5143\u7d20\u65f6\u663e\u793apopover\u7ec4\u4ef6\\n\\n\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\uff0c\u5c31\u662f\u53cd\u590d\u7684\u663e\u793a\u4f1a\u4e0d\u65ad\u91cd\u65b0\u6e32\u67d3Dom\uff0c\u6027\u80fd\u6709\u4e00\u5b9a\u5f71\u54cd\uff0c\u4f46\u662f\u5bf9\u4e8e\u5b9e\u73b0\u7684\u529f\u80fd\u6765\u8bf4\uff0c\u8fd9\u4e2a\u6027\u80fd\u6d88\u8017\u662f\u53ef\u4ee5\u63a5\u53d7\u7684"},{"id":"/2020/\u8bbe\u8ba1\u6a21\u5f0f","metadata":{"permalink":"/blog/2020/\u8bbe\u8ba1\u6a21\u5f0f","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020/\u8bbe\u8ba1\u6a21\u5f0f.md","source":"@site/blog/2020/\u8bbe\u8ba1\u6a21\u5f0f.md","title":"\u8bbe\u8ba1\u6a21\u5f0f","description":"\u8bbe\u8ba1\u6a21\u5f0f","date":"2020-03-29T21:37:16.000Z","formattedDate":"2020\u5e743\u670829\u65e5","tags":[],"readingTime":4.44,"hasTruncateMarker":true,"authors":[],"frontMatter":{"layout":"w","title":"\u8bbe\u8ba1\u6a21\u5f0f","date":"2020-03-29T21:37:16.000Z"},"prevItem":{"title":"Element-ui Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528","permalink":"/blog/2020/Element-ui-Popover\u7ec4\u4ef6\u5728\u4e0d\u786e\u5b9areference\u65f6\u7684\u4f7f\u7528"},"nextItem":{"title":"Vuex \u6e90\u7801\u89e3\u8bfb","permalink":"/blog/2019/Vuex-\u6e90\u7801\u89e3\u8bfb"}},"content":"### \u8bbe\u8ba1\u6a21\u5f0f\\n\\n  #### \u5355\u4f8b\u6a21\u5f0f\\n\\n   \u5b9a\u4e49\uff1a\u4fdd\u8bc1\u4e00\u4e2a\u7c7b\u4ec5\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u5b83\u7684\u5168\u5c40\u8bbf\u95ee\u70b9\\n\\n   \u5b9e\u73b0\u65b9\u6cd5\\n\\n   \u5224\u65ad\u5b9e\u4f8b\u662f\u5426\u5b58\u5728\uff0c\u5b58\u5728\u5219\u76f4\u63a5\u8fd4\u56de\uff0c\u4e0d\u5b58\u5728\u5c31\u521b\u5efa\u518d\u8fd4\u56de\uff0c\u786e\u4fdd\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\\n\\n   \u573a\u666f\uff1a \u767b\u5f55\u7684\u5f39\u7a97\uff0celementui \u7684messge-box\u7ec4\u4ef6\\n\\n\\n\\n   \u60f0\u6027\u5355\u4f8b\\n\\n   \u521b\u5efa\u5bf9\u8c61\u548c\u7ba1\u7406\u5355\u4f8b\u6a21\u5f0f\u7684\u804c\u8d23\u88ab\u5206\u5e03\u5728\u4e24\u4e2a\u4e0d\u540c\u7684\u65b9\u6cd5\u4e2d\uff0c\u7ec4\u5408\u8d77\u6765\u624d\u5177\u6709\u5355\u4f8b\u6a21\u5f0f\u7684\u5a01\u529b\\n\\n   \u521b\u5efa\u5bf9\u8c61\uff0c\u5373\u4e1a\u52a1\u903b\u8f91\uff1b\u7ba1\u7406\u5355\u4f8b\u6a21\u5f0f\uff0c\u5373\u5982\u4f55\u6765\u521b\u5efa\u5e76\u7ba1\u7406\u5b9e\u4f8b\\n\\n   \u7ba1\u7406\u5355\u4f8b\u6a21\u5f0f\u4ee3\u7801\\n\x3c!--truncate--\x3e\\n\\n   ```javascript\\n   // \u7ba1\u7406\u5355\u4f8b\u6a21\u5f0f\\n   var getSingle = function(fn) {\\n   \\tvar result\\n   \\treturn function () {\\n   \\t\\treturn result || (result = fn.apply(this, arguments))\\n   \\t}\\n   }\\n\\n   var createLoginLayer = function () {\\n   \\tvar login = document.createElement(\'div\')\\n   \\tlogin.innerHTML = \'login\'\\n   \\tdiv.style.display = \'none\'\\n   \\treturn div\\n   }\\n\\n   var createSingleLogin = getSingle(createLoginLayer)\\n   // \u6bcf\u6b21\u70b9\u51fb\u53ea\u521b\u5efa\u4e00\u4e2a\u767b\u9646\u7a97\u53e3\u5355\u4f8b\\n   document.getElementById(\'btn\').onclick = function () {\\n   \\tvar loginDiv = createSingleLogin()\\n   \\tloginDiv.style.display = \'block\'\\n   }\\n\\n   ```\\n\\n   getSingle\u51fd\u6570\u63a5\u6536\u7684\u662ffn\uff0c\u6240\u4ee5\u53ef\u4ee5\u5728\u5176\u4ed6\u573a\u666f\u7ee7\u7eed\u4f7f\u7528\u7ba1\u7406\u5355\u4f8b\u6a21\u5f0f\u7684\u51fd\u6570\\n\\n   \u6bd4\u5982\u7ee7\u7eed\u521b\u5efa\u5355\u4e00\u7684iframe\u6216\u8005\u6d88\u606f\u5f39\u6846\u7684\u65b9\u6cd5\\n\\n\\n\\n  #### \u7b56\u7565\u6a21\u5f0f\\n\\n   \u5b9a\u4e49\uff1a\u5b9a\u4e49\u4e00\u7cfb\u5217\u7684\u77ed\u53d1\uff0c\u628a\u4ed6\u4eec\u4e00\u4e2a\u4e2a\u5c01\u88c5\u8d77\u6765\uff0c\u5e76\u4e14\u4f7f\u4ed6\u4eec\u53ef\u4ee5\u76f8\u4e92\u66ff\u6362\\n\\n   \u5c06\u7b97\u6cd5\u7684\u4f7f\u7528\u548c\u7b97\u6cd5\u7684\u5b9e\u73b0\u5206\u79bb\u5f00\\n\\n   \u6bd4\u5982\u5728\u5bf9\u8c61\u4e2d\u5b9a\u4e49\u4e0d\u540c\u7684\u5c5e\u6027\u5bf9\u5e94\u4e0d\u540c\u7684\u7b56\u7565\uff0c\u5728\u4f7f\u7528\u65f6\u901a\u8fc7\u4f20\u5165\u8bbf\u95ee\u5bf9\u8c61\u7684\u7684\u5c5e\u6027\u62ff\u5230\u8be5\u7b56\u7565\u6765\u8fdb\u884c\u8c03\u7528\\n\\n   ```javascript\\n   var state = {\\n   \\t\'a\': function () { return \'a\'},\\n   \\t\'b\': function () { return \'b\' }\\n   }\\n   var calcFn = function (level) {\\n     return state[level]\\n   }\\n   console.log(calcFn(\'a\'))\\n   ```\\n\\n   \u8868\u5355\u9a8c\u8bc1\u89c4\u5219\u5206\u79bb\\n\\n   \u628a\u6821\u9a8c\u7684\u89c4\u5219\u5c01\u88c5\u5728\u7b56\u7565\u5bf9\u8c61\u4e2d\uff0c\u8fd9\u662f\u7b97\u6cd5\u7684\u5b9e\u73b0\\n\\n   \u5728\u7b97\u6cd5\u7684\u4f7f\u7528\u4e2d\uff0c \u62ff\u51fa\u7b56\u7565\u5bf9\u8c61\u4e2d\u9700\u8981\u7684\u89c4\u5219\uff0c\u7136\u540e\u8fdb\u884c\u540e\u9762\u7684\u903b\u8f91\u5904\u7406\\n\\n\\n\\n  #### \u4ee3\u7406\u6a21\u5f0f\\n\\n   \u5b9a\u4e49\uff1a\u662f\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7528\u54c1\u6216\u8005\u5360\u4f4d\u7b26\uff0c\u4ee5\u4fbf\u63a7\u5236\u5bf9\u5b83\u7684\u8bbf\u95ee\\n\\n   \u865a\u62df\u4ee3\u7406\u5b9e\u73b0\u56fe\u7247\u9884\u52a0\u8f7d\\n\\n   ```javascript\\n   var myImage = (function () {\\n   \\tvar imgNode = document.createElement(\'img\')\\n     document.boyd.appendChild(imgNode)\\n     return {\\n       setSrc: function (src) {\\n         imgNOde.src = src\\n       }\\n     }\\n   })()\\n   var proxyImg = (function () {\\n     var img = new Image\\n     img.onload = function () {\\n       myImage.src = this.src\\n     }\\n     return {\\n       setSrc: function (src) {\\n       \\tmyImage.setSrc(\'http://aaa.gif\')\\n         img.src = src\\n       }\\n     }\\n   })()\\n   proxyImg.setSrc(\'http://eeee.png\')\\n   ```\\n\\n   \u7f13\u5b58\u4ee3\u7406\\n\\n   \u53ef\u4ee5\u4e3a\u4e00\u4e9b\u5f00\u9500\u5927\u7684\u8fd0\u7b97\u7ed3\u679c\u63d0\u4f9b\u6682\u65f6\u7684\u5b58\u50a8\uff0c\u5728\u4e0b\u6b21\u8fd0\u7b97\u65f6\uff0c\u5982\u679c\u4f20\u9012\u7684\u53c2\u6570\u4e0e\u4e4b\u524d\u7684\u4e00\u81f4\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u8fd4\u56de\u5b58\u50a8\u7684\u8fd0\u7b97\u7ed3\u679c\\n\\n   ```javascript\\n   var mult = function () {\\n     var a = 1\\n     for (var i = 0; l = arguments.lengt; i < l; i++) {\\n       a = a * arguments[i]\\n     }\\n     return a\\n   }\\n   var proxyMult = (function () {\\n     var cache = {}\\n     return function () {\\n       var args = Array.prototype.join.call(arguments, \',\')\\n       if (args in cache) {\\n         return cache[args]\\n       }\\n       return cache[args] = mult.apply(this, arguments)\\n     }\\n   })()\\n   proxyMult(1,,2,3)\\n   proxyMult(1,,2,3)\\n\\n\\n   ```\\n\\n   mult\u51fd\u6570\u53ea\u4e13\u6ce8\u81ea\u8eab\u7684\u804c\u8d23\uff0c\u800c\u7f13\u5b58\u529f\u80fd\u662f\u7531\u4ee3\u7406\u5bf9\u8c61\u5b9e\u73b0\u7684\uff0c\u4f53\u73b0\u4e86\u5355\u4e00\u804c\u8d23\u539f\u5219\\n\\n   \u51fd\u6570\u7684\u9632\u6296\u8282\u6d41\u4e5f\u662f\u4ee3\u7406\u6a21\u5f0f\u7684\u5e94\u7528\\n\\n\\n\\n  #### \u88c5\u9970\u8005\u6a21\u5f0f\\n\\n   \u5b9a\u4e49\uff1a \u5728\u4e0d\u6539\u53d8\u5bf9\u8c61\u81ea\u8eab\u7684\u57fa\u7840\u4e0a\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u7ed9\u5bf9\u8c61\u52a8\u6001\u5730\u6dfb\u52a0\u804c\u8d23\\n\\n   \u5e94\u7528\uff1areact \u9ad8\u9636\u7ec4\u4ef6\uff0creact-redux\u4e2d\u7684@connect\\n\\n   \u7528AOP\u88c5\u9970\u51fd\u6570\\n\\n   \u6570\u636e\u7edf\u8ba1\u4e0a\u62a5\\n\\n   ```javascript\\n   Function.prototype.before = function (beforeFn) {\\n   \\tvar self = this\\n   \\treturn function () {\\n   \\t\\tbeforeFn.apply(this, arguments)\\n   \\t\\treturn self.apply(this, arguments)\\n   \\t}\\n   }\\n   Function.prototype.after = function (afterFn) {\\n   \\tvar self = this\\n   \\treturn function () {\\n   \\t\\tvar ret = after.apply(this, arguments)\\n   \\t\\tself.apply(this, arguments)\\n       return ret\\n   \\t}\\n   }\\n   var showLogin = function () {\\n     console.log(\'login\')\\n   }\\n   var log = function () {\\n     console.log(\'\u4e0a\u62a5\')\\n   }\\n   showLogin = showLogin.after(log)\\n   ```"},{"id":"/2019/Vuex-\u6e90\u7801\u89e3\u8bfb","metadata":{"permalink":"/blog/2019/Vuex-\u6e90\u7801\u89e3\u8bfb","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/Vuex-\u6e90\u7801\u89e3\u8bfb.md","source":"@site/blog/2019/Vuex-\u6e90\u7801\u89e3\u8bfb.md","title":"Vuex \u6e90\u7801\u89e3\u8bfb","description":"1 src\u76ee\u5f55\u7ed3\u6784","date":"2019-12-01T15:35:29.000Z","formattedDate":"2019\u5e7412\u67081\u65e5","tags":[{"label":"vuex","permalink":"/blog/tags/vuex"}],"readingTime":8.445,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Vuex \u6e90\u7801\u89e3\u8bfb","date":"2019-12-01T15:35:29.000Z","tags":["vuex"]},"prevItem":{"title":"\u8bbe\u8ba1\u6a21\u5f0f","permalink":"/blog/2020/\u8bbe\u8ba1\u6a21\u5f0f"},"nextItem":{"title":"Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58","permalink":"/blog/2019/Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58"}},"content":"1 src\u76ee\u5f55\u7ed3\u6784\\n\\n```\\n.\\n\u251c\u2500\u2500 helpers.js\\n\u251c\u2500\u2500 index.esm.js\\n\u251c\u2500\u2500 index.js\\n\u251c\u2500\u2500 mixin.js\\n\u251c\u2500\u2500 module\\n\u2502\xa0\xa0 \u251c\u2500\u2500 module-collection.js\\n\u2502\xa0\xa0 \u2514\u2500\u2500 module.js\\n\u251c\u2500\u2500 plugins\\n\u2502\xa0\xa0 \u251c\u2500\u2500 devtool.js\\n\u2502\xa0\xa0 \u2514\u2500\u2500 logger.js\\n\u251c\u2500\u2500 store.js\\n\u2514\u2500\u2500 util.js\\n\\n\\n```\\n\\n2 \u6ce8\u5165\u5230vue\u4e2d\\n\\n\u4eceindex.js\u4e2d\u770b\u51fa\u5c31\u662fvue\u63d2\u4ef6\u7684\u8f93\u51fa\u683c\u5f0f\\n\\n```javascript\\nexport default {\\n  Store, // \u72b6\u6001\u7ba1\u7406\\n  install,\\n  version: \'__VERSION__\',\\n  mapState,\\n  mapMutations,\\n  mapGetters,\\n  mapActions,\\n  createNamespacedHelpers\\n}\\n```\\n\\n\u5148\u770binstall\uff0c\u5728mixin.js\u4e2d\uff0c\u5176\u5b9e\u5c31\u662f\u517c\u5bb9\u5904\u7406vue\u7684\u7248\u672c\uff0c\u4f7f\u5f97\u5404\u4e2a\u7248\u672c\u90fd\u53ef\u4ee5\u4f7f\u7528vuex\u3002\u5728vuexInit\u4e2d\u5f80vue\u4e2d\u6ce8\u5165 `$store` \u8fd9\u4e2a\u5c5e\u6027\uff0c\u5c31\u662fvuex\u7684\u5b9e\u4f8b\u4e86\uff0c\u73b0\u5728\u53ef\u4ee5\u77e5\u9053\u5e73\u65f6\u4f7f\u7528vuex\u7684\u65f6\u5019\u90fd\u662f`this.$store`\u7684\u65b9\u5f0f\u6765\u8c03\u7528\u4e86\\n\x3c!--truncate--\x3e\\n3 \u6838\u5fc3store\u6784\u9020\u51fd\u6570\\n\\n```javascript\\nif (!Vue && typeof window !== \'undefined\' && window.Vue) {\\n  install(window.Vue)\\n}\\n\\nif (process.env.NODE_ENV !== \'production\') {\\n  assert(Vue, `must call Vue.use(Vuex) before creating a store instance.`)\\n  assert(typeof Promise !== \'undefined\', `vuex requires a Promise polyfill in this browser.`)\\n  assert(this instanceof Store, `store must be called with the new operator.`)\\n}\\n```\\n\\n\u8fd9\u4e00\u6bb5\u90fd\u662f\u5224\u65ad\u6709\u6ca1\u6709\u5728vue\u4e2d\u4f7f\u7528\uff0c\u81ea\u52a8\u5e2e\u4f60\u5b89\u88c5\uff0c\u4ee5\u53ca\u4e00\u4e9b\u73af\u5883\u7684\u9519\u8bef\u5904\u7406\\n\\n```javascript\\nconst {\\n  plugins = [],\\n  strict = false\\n} = options\\n\\n// store internal state\\nthis._committing = false\\nthis._actions = Object.create(null)\\nthis._actionSubscribers = []\\nthis._mutations = Object.create(null)\\nthis._wrappedGetters = Object.create(null)\\nthis._modules = new ModuleCollection(options)\\nthis._modulesNamespaceMap = Object.create(null)\\nthis._subscribers = []\\nthis._watcherVM = new Vue()\\nthis._makeLocalGettersCache = Object.create(null)\\n\\n```\\n\\n\u62ff\u5230\u4f20\u5165vuex\u7684option\uff0c\u7136\u540e\u521b\u5efa_modules\u6a21\u5757\u6536\u96c6\u5668\uff0c\u5176\u4ed6\u7684\u90fd\u662f\u4e00\u4e9b\u51c6\u5907\u8981\u7528\u7684\u521d\u59cb\u5316\u53c2\u6570\uff0c\u5176\u4e2d`this._watcherVM`\u5012\u662f\u4e00\u4e2a\u503c\u5f97\u5173\u6ce8\u7684\u70b9\uff0c\u8fd9\u91cc\u662f\u4e00\u4e2avue\u7684\u5bf9\u8c61\uff0c\u6309\u7167\u5b9a\u4e49\u53d8\u91cf\u7684\u5b57\u9762\u610f\u601d\uff0c\u5e94\u8be5\u662f\u4e00\u4e2a\u76d1\u542c\u5668\uff0c\u662f\u7528\u5230vuex\u4e2dwatch\u8fd9\u4e2aapi\u7684\u3002\u8fd9\u4e2aapi\u5176\u5b9e\u4e5f\u662f\u5229\u7528\u4e86vue\u4e2d\u7684$watch\u8fd9\u4e2a\u76d1\u542c\u5668\\n\\n```javascript\\nconst store = this\\nconst { dispatch, commit } = this\\n\\nthis.dispatch = function boundDispatch (type, payload) {\\n  return dispatch.call(store, type, payload)\\n}\\n\\nthis.commit = function boundCommit (type, payload, options) {\\n  return commit.call(store, type, payload, options)\\n}\\n\\n```\\n\\n\u4fee\u6539commit\u3001dispatch\u7684this\u6307\u5411\uff0c\u4f7f\u7528\u8c03\u7528\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u65f6\uff0c\u4e00\u76f4\u6307\u5411store\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u9632\u6b62\u7528\u6237\u5728\u8c03\u7528\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u65f6\uff0c\u624b\u52a8\u4fee\u6539\u4e86this\u7684\u6307\u5411\u3002\\n\\n\\n\\n```javascript\\n this.strict = strict\\n\\n const state = this._modules.root.state\\n// init root module.\\n// this also recursively registers all sub-modules\\n// and collects all module getters inside this._wrappedGetters\\ninstallModule(this, state, [], this._modules.root)\\n\\n// initialize the store vm, which is responsible for the reactivity\\n// (also registers _wrappedGetters as computed properties)\\nresetStoreVM(this, state)\\n\\n// apply plugins\\nplugins.forEach(plugin => plugin(this))\\n\\nconst useDevtools = options.devtools !== undefined ? options.devtools : Vue.config.devtools\\nif (useDevtools) {\\ndevtoolPlugin(this)\\n}\\n```\\n\\n\u63a5\u4e0b\u6765\u5c31\u662f\u6838\u5fc3\u4ee3\u7801`installModule`, `resetStoreVM`,\u8fd9\u91cc\u521d\u59cb\u5316\u4e86\u6a21\u5757\uff0c\u540c\u65f6\u521d\u59cb\u5316store\u7684vm\uff0c\u7136\u540e\u662fvuex\u7684plugins\u63d2\u4ef6\u6ce8\u518c\u3002\\n\\n```javascript\\nget state () {\\n  return this._vm._data.$$state\\n}\\n\\nset state (v) {\\n  if (process.env.NODE_ENV !== \'production\') {\\n    assert(false, `use store.replaceState() to explicit replace store state.`)\\n  }\\n}\\n```\\n\\n\u8fd9\u91cc\u4f7f\u7528\u5bf9\u8c61\u7684get \u4ee5\u53caset\u7684\u6765\u83b7\u53d6\u6216\u8005\u8bbe\u7f6estate\uff0c\u53ef\u4ee5\u770b\u5230\u83b7\u53d6state\u7684\u65f6\u5019\u662f\u5176\u5b9e\u5728vm\u4e2d\u7684_data\u91cc\u9762\u7684$$state\u53bb\u83b7\u53d6\u7684\u3002set state \u4e5f\u80fd\u770b\u51fa\u6765\u4e0d\u5141\u8bb8\u4f60\u76f4\u63a5\u53bb\u4fee\u6539state\u91cc\u9762\u5b9a\u4e49\u7684\u53d8\u91cf\u503c\u3002\u8fd9\u6837\u4e5f\u5c31\u80fd\u77e5\u9053\u4e3a\u4f55\u4e0d\u80fd\u901a\u8fc7this.$store.state.xx = xxx \u7684\u65b9\u5f0f\u6765\u76f4\u63a5\u4fee\u6539state\u91cc\u9762\u7684\u503c\u4e86\u3002\\n\\n\u540e\u9762\u7684\u51fd\u6570\u591a\u6570\u90fd\u662fvuex\u4e2d\u7684api\u4e86\uff0c\u4e5f\u5c31\u4e0d\u518d\u8fd9\u91cc\u63d0\u3002\u4e3b\u8981\u662f\u5206\u6790store\u7684\u539f\u7406\\n\\n\u4ee5\u4e0a\u5c31\u662fstore\u7684\u5927\u4f53\u6838\u5fc3\u5185\u5bb9\u3002\u63a5\u4e0b\u6765\u5f00\u59cb\u8be6\u7ec6\u5206\u6790\u5177\u4f53\u4ee3\u7801\\n\\ninstallModule\uff1a\\n\\n```javascript\\nfunction installModule (store, rootState, path, module, hot) {\\nconst isRoot = !path.length\\nconst namespace = store._modules.getNamespace(path)\\n\\n// register in namespace map\\nif (module.namespaced) {\\n  if (store._modulesNamespaceMap[namespace] && process.env.NODE_ENV !== \'production\') {\\n    console.error(`[vuex] duplicate namespace ${namespace} for the namespaced module ${path.join(\'/\')}`)\\n  }\\n  store._modulesNamespaceMap[namespace] = module\\n}\\n\\n// set state\\nif (!isRoot && !hot) {\\n  const parentState = getNestedState(rootState, path.slice(0, -1))\\n  const moduleName = path[path.length - 1]\\n  store._withCommit(() => {\\n    if (process.env.NODE_ENV !== \'production\') {\\n      if (moduleName in parentState) {\\n        console.warn(\\n          `[vuex] state field \\"${moduleName}\\" was overridden by a module with the same name at \\"${path.join(\'.\')}\\"`\\n        )\\n      }\\n    }\\n    Vue.set(parentState, moduleName, module.state)\\n  })\\n}\\n```\\n\\n\u8fd9\u91cc\u90fd\u662f\u9488\u5bf9\u6709`namespaced`\u7684\u6a21\u5757\u8fdb\u884c\u5904\u7406\uff0cnamespace\uff1a\u627e\u5230\u6a21\u5757\u7684\u8def\u5f84\uff0c\u5982\u679c\u662froot\u5c31\u662f\'\',\u5982\u679c\u662f\u6a21\u5757\uff0c\u6bd4\u5982app\u91cc\u9762\u7684user\uff0c\u90a3\u4e48\u5c31\u5e94\u8be5\'app/user\'\uff0c\u8fd9\u4e2a\u5176\u5b9e\u5c31\u662fcommit\u6216\u8005disptch\u4e00\u4e2a\u6a21\u5757\u7684\u65f6\u5019\u5199\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002\u4e4b\u540e\u5f80`store._modulesNamespaceMap`\u547d\u540d\u7a7a\u95f4\u8868\u6ce8\u518c\u5b58\u5165\u5f53\u524d\u7684\u6a21\u5757\\n\\n\u5982\u679c\u662f\u6a21\u5757\u7684\u5c5e\u6027\uff0c\u5219\u4f7f\u7528vue\u7684set\uff0c\u5f80parentState\u5bf9\u8c61\u4e2d\u6dfb\u52a0moduleName\u7684\u5c5e\u6027\uff0c\u5176\u5bf9\u5e94\u7684\u503c\u5c31\u662fmodule\u81ea\u5df1\u7684state\u5c5e\u6027\u503c\uff0c\u4f7f\u5f97parentState\u5bf9\u8c61\u7684moduleName\u5c5e\u6027\u662f\u54cd\u5e94\u5f0f\u7684\\n\\n\\n\\n```javascript\\n\\nconst local = module.context = makeLocalContext(store, namespace, path)\\n\\nmodule.forEachMutation((mutation, key) => {\\n  const namespacedType = namespace + key\\n  registerMutation(store, namespacedType, mutation, local)\\n})\\n\\nmodule.forEachAction((action, key) => {\\n  const type = action.root ? key : namespace + key\\n  const handler = action.handler || action\\n  registerAction(store, type, handler, local)\\n})\\n\\nmodule.forEachGetter((getter, key) => {\\n  const namespacedType = namespace + key\\n  registerGetter(store, namespacedType, getter, local)\\n})\\n\\nmodule.forEachChild((child, key) => {\\n  installModule(store, rootState, path.concat(key), child, hot)\\n})\\n```\\n\\n\u8fd9\u91cc\u5206\u522b\u662f\u6ce8\u518cstore\u7684mutation\u3001action\u3001getter\uff0c\u6709\u6a21\u5757\u7684\u4f7f\u7528\u9012\u5f52\u7ee7\u7eed\u91cd\u590d\u4e0a\u9762\u7684\u521d\u59cb\u5316\\n\\nregisterMutation\uff1a\\n\\n```javascript\\nfunction registerMutation (store, type, handler, local) {\\n  const entry = store._mutations[type] || (store._mutations[type] = [])\\n  entry.push(function wrappedMutationHandler (payload) {\\n    handler.call(store, local.state, payload)\\n  })\\n}\\n```\\n\\n\u628amutation\u5b9a\u4e49\u7684\u51fd\u6570\u90fd\u653e\u5230\u4e00\u4e2aentry\u5165\u53e3\u6570\u7ec4\u4e2d\uff0clocal\u5176\u5b9e\u5c31\u662f\u62ff\u5230state\u5bf9\u5e94\u7684\u8def\u5f84\u3002 handler\u4e5f\u5c31\u662f\u81ea\u5df1\u5b9a\u4e49\u7684mutation\u51fd\u6570\uff0cmutation\u7684\u5b9a\u4e49\u7684\u65b9\u6cd5\u53c2\u6570\u4e5f\u662f\uff08state, payload\uff09\u521a\u597d\u5bf9\u5e94\u4e0a\\n\\n\u90a3\u4e48\u6267\u884cmutation\u662f\u5982\u4f55\u5b9e\u73b0\u4fee\u6539state\u7684\u503c\u5462\uff1f\\n\\n\u73b0\u5728\u5c31\u9700\u8981\u53bb\u770bcommit\u65b9\u6cd5\u91cc\u9762\u7684\u4ee3\u7801\u4e86\\n\\n```javascript\\n const {\\n      type,\\n      payload,\\n      options\\n    } = unifyObjectStyle(_type, _payload, _options)\\n```\\n\\n\u628a\u4f20\u5165\u7684\u53c2\u6570\u90fd\u91cd\u65b0\u5904\u7406\u4e86\u4e00\u4e0b\uff0c\u56e0\u4e3a\u4f7f\u7528commit\u7684\u65f6\u5019\uff0c\u662f\u652f\u6301\u5bf9\u8c61\u6216\u8005\u662f\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u7684\u3002\u8fd9\u91cc\u628a\u5b57\u7b26\u4e32\u6216\u8005\u5bf9\u8c61\u7684\u5f62\u5f0f\u91cd\u65b0\u5904\u7406\uff0c\u62ff\u5230\u6700\u7ec8\u7684type\u3001payload\u3001options\\n\\n```javascript\\nconst mutation = { type, payload }\\nconst entry = this._mutations[type]\\nif (!entry) {\\n  if (process.env.NODE_ENV !== \'production\') {\\n    console.error(`[vuex] unknown mutation type: ${type}`)\\n  }\\n  return\\n}\\n```\\nresetStoreVM:\\n\\n```javascript\\nconst oldVm = store._vm\\n\\n// bind store public getters\\nstore.getters = {}\\n// reset local getters cache\\nstore._makeLocalGettersCache = Object.create(null)\\nconst wrappedGetters = store._wrappedGetters\\nconst computed = {}\\nforEachValue(wrappedGetters, (fn, key) => {\\n // use computed to leverage its lazy-caching mechanism\\n // direct inline function use will lead to closure preserving oldVm.\\n // using partial to return function with only arguments preserved in closure environment.\\n computed[key] = partial(fn, store)\\n Object.defineProperty(store.getters, key, {\\n   get: () => store._vm[key],\\n   enumerable: true // for local getters\\n })\\n})\\n\\n// use a Vue instance to store the state tree\\n// suppress warnings just in case the user has added\\n// some funky global mixins\\nconst silent = Vue.config.silent\\nVue.config.silent = true\\nstore._vm = new Vue({\\n  data: {\\n    $$state: state\\n  },\\n  computed\\n})\\n\\n```\\n\u518d\u770b\u770bvuex\u662f\u5982\u4f55\u5b9e\u73b0\u6570\u636e\u54cd\u5e94\u5f0f\u7684\uff0c\u8fd9\u91cc\u5176\u5b9e\u662f\u5bf9vuex\u5bf9getter\u8fdb\u884c\u4e00\u4e2a\u5904\u7406\uff0c\u53ef\u4ee5\u770b\u5230\u628agetter\u53d8\u6210vue\u4e2d\u5bf9computed\uff0c\u4e5f\u5c31\u662f\u8ba1\u7b97\u5c5e\u6027\u3002\u7136\u540e\u5229\u7528`Object.defineProperty`get\u5c5e\u6027\u8bbf\u95ee`store.getter.xx`\u5176\u5b9e\u5c31\u662f\u5c31\u662f\u62ff\u5230\u5bf9\u5c31\u662fvue\u4e2d\u5bf9computed\u4e2d\u5bf9\u5c5e\u6027\uff0c\u8fd9\u91cc\u8fd8\u662f\u975e\u5e38\u5de7\u5999\u7684\u3002\u7136\u540e\u628avuex\u4e2d\u5b9a\u4e49\u7684state\u90fd\u653e\u5230vue\u4e2d\u7684data\uff0c\u8fd9\u6837\u6570\u636e\u4e5f\u5c31\u53d8\u6210\u4e86\u54cd\u5e94\u5f0f\u53d8\u5316\u3002\\n\\n```javascript\\nif (oldVm) {\\n  if (hot) {\\n    // dispatch changes in all subscribed watchers\\n    // to force getter re-evaluation for hot reloading.\\n    store._withCommit(() => {\\n      oldVm._data.$$state = null\\n    })\\n  }\\n  Vue.nextTick(() => oldVm.$destroy())\\n}\\n\\n```\\n\u6700\u540e\u662fregisterModule\u3001  unregisterModule\u90fd\u4f1a\u8c03\u7528\u5230resetStoreVM\uff0c\u5176\u5b9e\u5c31\u662f\u4fdd\u8bc1store\u4e2dvm\u6bcf\u6b21\u90fd\u662f\u6700\u65b0\u7684\uff0c\u7136\u540e\u628a\u65e7\u7684vm\u5378\u8f7d\uff0c\u4e5f\u628a\u6570\u636e\u76f4\u63a5\u6e05\u7a7a\u8c03\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u6027\u80fd\u4f18\u5316\u7684\u65b9\u9762"},{"id":"/2019/Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58","metadata":{"permalink":"/blog/2019/Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58.md","source":"@site/blog/2019/Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58.md","title":"Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58","description":"\u57fa\u7840\u4ee3\u7406\u914d\u7f6e","date":"2019-08-21T22:36:45.000Z","formattedDate":"2019\u5e748\u670821\u65e5","tags":[{"label":"nginx","permalink":"/blog/tags/nginx"}],"readingTime":1.995,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58","date":"2019-08-21T22:36:45.000Z","tags":["nginx"]},"prevItem":{"title":"Vuex \u6e90\u7801\u89e3\u8bfb","permalink":"/blog/2019/Vuex-\u6e90\u7801\u89e3\u8bfb"},"nextItem":{"title":"html lang\u5c5e\u6027","permalink":"/blog/2019/html-lang\u5c5e\u6027"}},"content":"### \u57fa\u7840\u4ee3\u7406\u914d\u7f6e\\n\u4e0b\u8f7dnginx\u5230\u7535\u8111\u4e0a\u540e\uff0c\u627e\u5230nginx.conf\u6587\u4ef6\\n\u6dfb\u52a0server\\n```\\nserver {\\n  listen 80;\\n  server_name testb.com;\\n  location / {\\n    proxy_pass http://127.0.0.1:8887;\\n    proxy_set_header Host $host;\\n  }\\n}\\n```\\nlisten\uff1a \u76d1\u542c\u7aef\u53e3\uff0c\u73b0\u5728\u7684\u65b9\u5f0f\u662f\u76d1\u542c\u5230\u57df\u540d\uff0c\u7136\u540e\u5230http://127.0.0.1:8887\u8fd9\u4e2a\u5730\u5740\uff0c\u6240\u4ee5\u9ed8\u8ba480\u7aef\u53e3\\nserver_name\uff1a \u5c31\u662f\u57df\u540d\u5730\u5740\uff0c\\n\\nlocation\uff1a \u5339\u914d\u7684\u8def\u5f84\\n\\nproxy_pass\uff1a\u4ee3\u7406\u5230\u54ea\u4e2a\u5730\u5740\uff0c \u8fd9\u91cc\u662f\u672c\u5730\u8d77\u7684node\u670d\u52a1\uff0c\u6240\u4ee5\u662f127.0.0.1\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u672c\u5730\u4f7f\u7528\u57df\u540d\uff0c\u9700\u8981\u8bbe\u7f6e\u7535\u8111\u7684hosts\u6587\u4ef6\uff0c\u6dfb\u52a0\u8fd9\u4e2a\u57df\u540d\u5230hosts\u4e2d\uff0c\u6bd4\u5982`127.0.0.1  www.testb.com`\\n\\nproxy_set_header\uff1a\u8bbe\u7f6e\u4ee3\u7406\u5934\u4fe1\u606f\uff0c\u8fd9\u91cc\u8bbe\u7f6ehost\u5f53\u524d\u7684\u57df\u540d\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u662f\u4ee3\u7406\u7684\u5730\u5740\\n\\n\x3c!-- more --\x3e\\n## \u4ee3\u7406\u7f13\u5b58\\n\\n\u5728nginx\u4e2d\uff0c\u53ea\u8981\u6709\u4e00\u6b21\u7f13\u5b58\uff0c\u5176\u4ed6\u7528\u6237\u518d\u6b21\u8bf7\u6c42\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7f13\u5b58\\n\\nnginx\u7f13\u5b58\u914d\u7f6e\\n\\n```\\nproxy_cache_path cache levels=1:2 keys_zone=my_cache:10m;\\n```\\nproxy_cache_path \u914d\u7f6e\u5b58\u653e\u5730\u5740\\n\\ncache \u76ee\u5f55\\n\\nlevels \u662f\u5426\u8981\u521b\u5efa\u4e8c\u7ea7\u6587\u4ef6\u5939\\n\\nkeys_zone \u540d\u79f0\u4ee5\u53ca\u7f13\u5b58\u5927\u5c0f\\n\\n\u5728server\u4e2d\u914d\u7f6e\\n```\\nserver {\\n  listen 80;\\n  server_name test.com;\\n  location / {\\n    proxy_cache my_cache;\\n    proxy_pass http://127.0.0.1:8887;\\n    proxy_set_header Host $host;\\n  }\\n}\\n\\n```\\n\\n\u5728\u670d\u52a1\u7aef\u8bbe\u7f6e\'max-age\'\u542f\u7528\u7f13\u5b58\\n\'s-max-age\'\u4ee3\u7406\u670d\u52a1\u5668\u4e2d\u6709\u6548\\n\\n\u5982\u679c\u540c\u65f6\u8bbe\u7f6e\u4e86\'max-age\'\'s-max-age\'\uff0c\u4ee3\u7406\u7f13\u5b58\u4f1a\u4f7f\u7528\'s-max-age\'\uff0c\u6d4f\u89c8\u5668\u4f1a\u4f7f\u7528\'max-age\'\\n\\n\'private\'\uff1a \u53ea\u6709\u6d4f\u89c8\u5668\u80fd\u7f13\u5b58\uff0c\u4ee3\u7406\u670d\u52a1\u5668\u7684\u7f13\u5b58\u4e0d\u751f\u6548\uff0c\u4e5f\u5c31\u662f\'s-max-age\'\u65e0\u4f5c\u7528\\n\\n\'no-store\' \u90fd\u4e0d\u7f13\u5b58\\n\\n\'Vary\'\uff1a\u8bf7\u6c42\u5934\u7684Vary\u503c\u76f8\u540c\u7684\u65f6\u5019\u624d\u4f7f\u7528\u7f13\u5b58\uff0c\u4e5f\u5c31\u662f\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u8be5Vary\u503c\u4e0d\u7f13\u5b58\uff0c\u7b2c\u4e8c\u6b21\u8bf7\u6c42\u65f6\uff0c\u53d1\u73b0Vary\u503c\u5df2\u7ecf\u8bf7\u6c42\u8fc7\uff0c\u5219\u4f7f\u7528\u7f13\u5b58"},{"id":"/2019/html-lang\u5c5e\u6027","metadata":{"permalink":"/blog/2019/html-lang\u5c5e\u6027","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/html-lang\u5c5e\u6027.md","source":"@site/blog/2019/html-lang\u5c5e\u6027.md","title":"html lang\u5c5e\u6027","description":"\u6700\u8fd1\u5728\u9879\u76ee\u4e2d\u9047\u5230\u5f00\u53d1\u7684\u7f51\u7ad9\u4e0d\u65ad\u5f39\u7ffb\u8bd1\u7684\u63d2\u4ef6\u51fa\u6765\uff0c\u8fd9\u6837\u7684\u4f53\u9a8c\u662f\u975e\u5e38\u7cdf\u7cd5\u7684\uff0c\u4e00\u822c\u8fd9\u79cd\u60c5\u51b5\u90fd\u662f\u5728\u82f1\u6587\u7f51\u7ad9\u6bd4\u8f83\u591a\u89c1\u3002","date":"2019-08-18T19:28:23.000Z","formattedDate":"2019\u5e748\u670818\u65e5","tags":[{"label":"html","permalink":"/blog/tags/html"}],"readingTime":1.37,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"html lang\u5c5e\u6027","date":"2019-08-18T19:28:23.000Z","tags":["html"]},"prevItem":{"title":"Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58","permalink":"/blog/2019/Nginx\u4ee3\u7406\u548c\u4ee3\u7406\u7f13\u5b58"},"nextItem":{"title":"http\u7279\u6027","permalink":"/blog/2019/http\u7279\u6027"}},"content":"\u6700\u8fd1\u5728\u9879\u76ee\u4e2d\u9047\u5230\u5f00\u53d1\u7684\u7f51\u7ad9\u4e0d\u65ad\u5f39\u7ffb\u8bd1\u7684\u63d2\u4ef6\u51fa\u6765\uff0c\u8fd9\u6837\u7684\u4f53\u9a8c\u662f\u975e\u5e38\u7cdf\u7cd5\u7684\uff0c\u4e00\u822c\u8fd9\u79cd\u60c5\u51b5\u90fd\u662f\u5728\u82f1\u6587\u7f51\u7ad9\u6bd4\u8f83\u591a\u89c1\u3002\\n\\n\u7f51\u4e0a\u641c\u7d22\u4e5f\u6ca1\u770b\u5230\u6709\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u591a\u6570\u662f\u6559\u4f60\u5982\u4f55\u5173\u95ed\u8fd9\u4e2achrome\u7684\u63d2\u4ef6\uff0c\u8fd9\u4e2a\u80af\u5b9a\u4e0d\u80fd\u5728\u7f51\u7ad9\u91cc\u9762\u63d0\u793a\u53eb\u7528\u6237\u624b\u52a8\u53bb\u5173\u95ed\u63d2\u4ef6\u8fd9\u79cd\u64cd\u4f5c\u7684\u3002\\n\\n\u5bf9\u6bd4\u4e86\u51e0\u4e2a\u7f51\u7ad9\u4ee5\u540e\uff0c\u6700\u540e\u53d1\u73b0\u4ed6\u4eec\u7684html\u6807\u7b7e\u4e0a\u7684`lang`\u5c5e\u6027\u4e0d\u4e00\u6837\uff0c\u53d1\u73b0\u81ea\u5df1\u7684\u9879\u76ee\u91cc\u9762html\u7684`lang`\u5c5e\u6027\u7adf\u7136\u662fen\uff0c\u53bb\u6389\u8fd9\u4e2a\u5c5e\u6027\u540e\uff0c\u679c\u7136\uff0c\u4e0d\u518d\u5f39\u51fa\u70e6\u4eba\u7684\u7ffb\u8bd1\u63d2\u4ef6\u4e86\\n\\n\\n\u4e2a\u4eba\u7406\u89e3\u662f\u6d4f\u89c8\u5668\u68c0\u6d4b\u5230\u81ea\u8eab\u7684\u8bed\u8a00\u4e0e\u7f51\u9875\u7684\u8bed\u8a00\u4e0d\u4e00\u6837\u65f6\u5c31\u4f1a\u5f39\u51fa\u7ffb\u8bd1\u7684\u63d2\u4ef6\uff0c\u7ffb\u8bd1\u6210\u6d4f\u89c8\u5668\u8bbe\u7f6e\u7684\u8bed\u8a00\u3002\u5927\u578b\u7684\u7f51\u7ad9\u4e00\u822c\u90fd\u6709\u5207\u6362\u8bed\u8a00\u7684\u9009\u62e9\uff0c\u6240\u4ee5\u5e76\u4e0d\u9700\u8981\u8bbe\u7f6e`lang`\u5c5e\u6027\u3002\u6216\u8005\u662f\u7f51\u7ad9\u4e3b\u8981\u8bed\u8a00\u662f\u4ec0\u4e48\u8bed\u8a00\u5c31\u8bbe\u7f6e\u5bf9\u5e94\u7684\u8bed\u8a00\\n\\n\\n[\u8d44\u6599\u94fe\u63a5](https://www.w3.org/International/questions/qa-lang-why)"},{"id":"/2019/http\u7279\u6027","metadata":{"permalink":"/blog/2019/http\u7279\u6027","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/http\u7279\u6027.md","source":"@site/blog/2019/http\u7279\u6027.md","title":"http\u7279\u6027","description":"\u7f13\u5b58\u5934\u7684\u542b\u4e49","date":"2019-08-10T21:23:09.000Z","formattedDate":"2019\u5e748\u670810\u65e5","tags":[{"label":"http","permalink":"/blog/tags/http"}],"readingTime":2.695,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"http\u7279\u6027","date":"2019-08-10T21:23:09.000Z","tags":["http"]},"prevItem":{"title":"html lang\u5c5e\u6027","permalink":"/blog/2019/html-lang\u5c5e\u6027"},"nextItem":{"title":"http\u534f\u8bae\u57fa\u7840","permalink":"/blog/2019/http\u534f\u8bae\u57fa\u7840"}},"content":"## \u7f13\u5b58\u5934\u7684\u542b\u4e49\\n\\n#### \u53ef\u7f13\u5b58\u6027\\npublic: \u5728http\u7ecf\u8fc7\u7684\u4efb\u4f55\u5730\u65b9\uff08\u5305\u62ec\u4ee3\u7406\u670d\u52a1\u5668\uff09\u90fd\u53ef\u7f13\u5b58\\n\\nprivate: \u53d1\u8d77\u8bf7\u6c42http\u8bf7\u6c42\u7684\u6d4f\u89c8\u5668\\n\\nno-cache \u4efb\u4f55\u8282\u70b9\u90fd\u4e0d\u7f13\u5b58\uff0c\u4f46\u662f\u8981\u53bb\u670d\u52a1\u5668\u9a8c\u8bc1\u540e\u624d\u80fd\u91cd\u65b0\u8bf7\u6c42\\n\x3c!--truncate--\x3e\\n#### \u5230\u671f\\nmax-age \u7f13\u5b58\u591a\u957f\u65f6\u95f4\uff08\u79d2\uff09\u5230\u671f\\n\\ns-maxage \u5728\u4ee3\u7406\u670d\u52a1\u5668\u7aef\u624d\u6709\u4f5c\u7528\\nmax-stale \u8fc7\u671f\u540e\uff0c\u5728max-stale\u7684\u671f\u9650\u5185\u4f7f\u7528\u8fc7\u671f\u7684\u7f13\u5b58\uff0c\u670d\u52a1\u7aef\u65e0\u6548\uff0c\u5728\u53d1\u8d77\u7aef\u7528\\n\\n#### \u91cd\u65b0\u9a8c\u8bc1\\nmust-revadate \u8bbe\u7f6emax-age\uff0c\u8fc7\u671f\u540e\uff0c\u5728\uff08\u539f\uff09\u670d\u52a1\u7aef\u91cd\u65b0\u53d1\u8d77\u8bf7\u6c42\uff0c\u518d\u9a8c\u8bc1\u7f13\u5b58\u662f\u5426\u771f\u7684\u8fc7\u671f\\nproxy-validate \u7528\u5728\u7f13\u5b58\u670d\u52a1\u5668\u4e2d\uff0c\u8fc7\u671f\u540e\u5148\u53bb\u7f13\u5b58\u670d\u52a1\u5668\u4e2d\u8bf7\u6c42\uff0c\u518d\u9a8c\u8bc1\u7f13\u5b58\\n\\n#### \u5176\u4ed6\\nno-store \u5b8c\u5168\u4e0d\u7f13\u5b58\\n\\nno-transform \u544a\u77e5\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u4e0d\u8981\u66f4\u6539\u7f13\u5b58\u7aef\u5185\u5bb9\uff0c\u6bd4\u5982\u4e0d\u5141\u8bb8\u538b\u7f29\\n\\n\u9632\u6b62\u670d\u52a1\u7aef\u6587\u4ef6\u66f4\u65b0\u540e\uff0c\u5ba2\u6237\u7aef\u8fd8\u7ee7\u7eed\u6709\u7f13\u5b58\uff0c\u4fee\u6539\u6587\u4ef6\u540dhash\u7801\\n\\n## \u7f13\u5b58\u9a8c\u8bc1\\nlast-Modified \u4e0a\u6b21\u4fee\u6539\u65f6\u95f4\\n\\n\u914d\u5408if-Moified-Since \u6216\u8005if-Unmodified-Since\u4f7f\u7528\uff0c\u5bf9\u6bd4\u4e0a\u6b21\u4fee\u6539\u65f6\u95f4\uff0c\u9a8c\u8bc1\u8d44\u6e90\u662f\u5426\u9700\u8981\u66f4\u65b0\\n\\netag\\n\u6570\u636e\u7b7e\u540d\\n\u914d\u5408if-Match\u6216\u8005if-Non-Match\u4f7f\u7528\uff0c\u5bf9\u6bd4\u8d44\u6e90\u7b7e\u540d\u662f\u5426\u4e00\u81f4\\n\\n\u670d\u52a1\u7aef\u5f53\u524d\u5224\u65adetag\u4e3a\u672c\u6b21\u7684etag\uff0c\u5f53\u9700\u8981\u53d1\u5e03\u65b0\u8d44\u6e90\u65f6\uff0c\u4fee\u6539\u5224\u65ad\u7684etag\u503c\u5373\u53ef\u3002\u5ba2\u6237\u8bf7\u6c42\u8fc7\u6765\u65f6\u662f\u4e0a\u6b21\u7684etag\u503c\uff0c\u7ecf\u8fc7\u670d\u52a1\u7aef\u5224\u65ad\u540e\uff0c\u6821\u9a8c\u662f\u65e7\u7684etag\u3002\u5c31\u4f1a\u8fd4\u56de\u65b0\u7684\u8d44\u6e90\\n\\n## CSP\\n\u9650\u5236\u8d44\u6e90\u83b7\u53d6,\u62a5\u544a\u8d44\u6e90\u83b7\u53d6\u8d8a\u6743\\n\\n\u9650\u5236\u65b9\u5f0f\\nDefault-src \u9650\u5236\u5168\u5c40\\n\u5236\u5b9a\u8d44\u6e90\u7c7b\u578b connect-src img-src style-src script-src font-src\u7b49\\n\\n#### \u9650\u5236\u52a0\u8f7d\\n`\'Content-Security-Policy\':  \'default-src  \\\\\'self\\\\\'   http\uff1a https:\'`\\n\\ndefault-src\u7981\u7528\u7c7b\u578b\uff0c\u9ed8\u8ba4\u6240\u6709\u7684src\u7c7b\u578b\u9650\u5236src\u8def\u7ecf\uff0c\u53ef\u914d\u7f6e\u767d\u540d\u5355\uff0c\u81ea\u5df1\u7684\u670d\u52a1\u5668self\uff0c\u6216\u8005http\uff0chttps\u7684\u8def\u5f84\u624d\u5141\u8bb8\u4f7f\u7528\u3002\u4e0d\u5141\u8bb8\u63d2\u5165\u7684script\u6807\u7b7ejs\u4ee3\u7801\u76f4\u63a5\u6267\u884c\uff0c\u9632\u6b62xss\u653b\u51fb\\n\\n\u6dfb\u52a0\u4e00\u4e2a\u53c2\u6570 \u53ef\u8fdb\u884c\u4e00\u4e2a\u4e0a\u62a5\u7533\u8bf7\uff0c\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\\n\\n`\'Content-Security-Policy\':  \'default-src  \\\\\'self\\\\\'   http\uff1a https:; report-uri /report\'`\\n\\n#### \u5141\u8bb8\u52a0\u8f7d\uff0c\u53ea\u505areport\u7684\u5904\u7406\\n`\'Content-Security-Policy-Report-Only\': \'default-src  \\\\\'self\\\\\'   http\uff1a https:; report-uri /report\'`\\n\\n\u5728html\u4e2d\u4f7f\u7528\\n`<meta http-equiv=\\"Content-Security-Policy\\" content=\\"script-src \u2018self\';\\">`\u4e0d\u53ef\u4f7f\u7528report\u4e0a\u62a5\u7684\u65b9\u5f0f"},{"id":"/2019/http\u534f\u8bae\u57fa\u7840","metadata":{"permalink":"/blog/2019/http\u534f\u8bae\u57fa\u7840","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/http\u534f\u8bae\u57fa\u7840.md","source":"@site/blog/2019/http\u534f\u8bae\u57fa\u7840.md","title":"http\u534f\u8bae\u57fa\u7840","description":"1. \u7f51\u7edc\u6a21\u578b","date":"2019-08-05T22:38:34.000Z","formattedDate":"2019\u5e748\u67085\u65e5","tags":[{"label":"http","permalink":"/blog/tags/http"}],"readingTime":1.745,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"http\u534f\u8bae\u57fa\u7840","date":"2019-08-05T22:38:34.000Z","tags":["http"]},"prevItem":{"title":"http\u7279\u6027","permalink":"/blog/2019/http\u7279\u6027"},"nextItem":{"title":"\u5224\u65ad\u65e5\u671f\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u5728\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5","permalink":"/blog/2019/\u5224\u65ad\u65e5\u671f\u7684\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5"}},"content":"## 1. \u7f51\u7edc\u6a21\u578b\\n\u5305\u62ec\u5e94\u7528\u5c42\uff08http\uff0cftp\uff09 -> \u4f20\u8f93\u5c42\uff08TCP\uff0cUDP\uff09-> \u7f51\u7edc\u5c42 -> \u6570\u636e\u94fe\u8def\u5c42 -> \u7269\u7406\u5c42\\n\x3c!--truncate--\x3e\\n![image](../images/http/model.png)\\n\\n## 2. http\u7684\u4e09\u6b21\u63e1\u624b\\ntcp\u521b\u5efa\u7684\u65f6\u5019\u9700\u8981\u4e09\u6b21\u63e1\u624b\\n\\n\u7b2c\u4e00\u6b21 client \u53d1\u9001 SYN = 1, Seq = X\uff0cServer\u63a5\u6536\u5230\uff08Server\u7aef\uff1a \u77e5\u9053client\u53ef\u4ee5\u53d1\u9001\u6570\u636e\uff0cServer\u80fd\u63a5\u6536\u6570\u636e\uff09\\n\\n\u7b2c\u4e8c\u6b21 Server \u6536\u5230\u8fde\u63a5\uff0c\u5f00\u542f\u4e00\u4e2a\u7aef\u53e3\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u54cd\u5e94\\nSYN = 1 ACK = X + 1 Seq = Y\u3002client\u63a5\u6536\u5230\u6570\u636e\uff08client\u7aef\uff1a\u77e5\u9053Server\u53ef\u4ee5\u6536\u53d1\u6570\u636e\uff0cclient\u80fd\u6536\u53d1\u6570\u636e\uff09\\n\\n\u7b2c\u4e09\u6b21 client \u6536\u5230\u670d\u52a1\u7aef\u7684\u5e94\u7b54\uff0c\u77e5\u9053\u670d\u52a1\u7aef\u5141\u8bb8\u5ba2\u6237\u7aef\u6253\u5f00tcp\u8fde\u63a5\uff0c\u5728client\u53d1\u9001\u4e00\u4e2a\u5e94\u7b54 ACK = Y + 1 Seq = Z, tcp\u5efa\u7acb\uff08Server\u7aef\uff1a\u77e5\u9053Server\u53ef\u4ee5\u6536\u53d1\u6570\u636e, client\u4e5f\u80fd\u6536\u53d1\u6570\u636e\uff09\\n![image](../images/http/\u4e09\u6b21\u63e1\u624b.png)\\n\\n### \u4e3a\u4ec0\u4e48\u9700\u8981\u4e09\u6b21\u63e1\u624b\\n\u5982\u679c\u53ea\u6709\u4e24\u6b21\u63e1\u624b\uff0cclient\u56e0\u4e3a\u7f51\u7edc\u539f\u56e0\u800c\u4e22\u5931\u6570\u636e\uff0c\u4f46\u662fserver\u7aef\u4e00\u76f4\u4e0d\u77e5\u9053\uff0c\u90a3\u4e48tcp\u8fde\u63a5\u5c31\u4e00\u76f4\u5f00\u7740\u3002\u8fd9\u6837\u5c31\u4f1a\u4e00\u76f4\u5360\u7528server\u7aef\u7684\u5f00\u9500\u3002\u4e09\u6b21\u63e1\u624b\u5c31\u662f\u4e3a\u4e86\u89c4\u907f\u8fd9\u79cd\u95ee\u9898\uff0c\u6765\u51cf\u5c11\u670d\u52a1\u7aef\u7684\u5f00\u9500\\n[\u53c2\u8003\u94fe\u63a5](https://zhuanlan.zhihu.com/p/53374516)\\n\\n## 3. URI URL URN\\nURI: \u7edf\u4e00\u8d44\u6e90\u6807\u5fd7\u7b26\uff0c\u5305\u62ecURL\u548cURN\\n\\nURL: \u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u5668\uff0c\u7ec4\u6210\uff1a\u534f\u8bae + Host\uff08\u4e3b\u673a\uff09+ \u7aef\u53e3\uff0880\uff09+ \u8def\u7531 + \u53c2\u6570 + hash(\u951a\u70b9)\\n\\nURN: \u6c38\u4e45\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26"},{"id":"/2019/\u5224\u65ad\u65e5\u671f\u7684\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5","metadata":{"permalink":"/blog/2019/\u5224\u65ad\u65e5\u671f\u7684\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/\u5224\u65ad\u65e5\u671f\u7684\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5.md","source":"@site/blog/2019/\u5224\u65ad\u65e5\u671f\u7684\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5.md","title":"\u5224\u65ad\u65e5\u671f\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u5728\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5","description":"\u53ea\u6bd4\u8f83\u5230\u5929\uff0c\u5224\u65ad\u65e5\u671f\u662f\u5426\u662f\u4eca\u5929","date":"2019-07-18T23:13:26.000Z","formattedDate":"2019\u5e747\u670818\u65e5","tags":[],"readingTime":2.01,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5224\u65ad\u65e5\u671f\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u5728\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5","date":"2019-07-18T23:13:26.000Z"},"prevItem":{"title":"http\u534f\u8bae\u57fa\u7840","permalink":"/blog/2019/http\u534f\u8bae\u57fa\u7840"},"nextItem":{"title":"js\u9ad8\u7ea7 0.4 -> \u7406\u89e3\u5bf9\u8c61","permalink":"/blog/2019/js\u9ad8\u7ea7-0-4-\u7406\u89e3\u5bf9\u8c61"}},"content":"## \u53ea\u6bd4\u8f83\u5230\u5929\uff0c\u5224\u65ad\u65e5\u671f\u662f\u5426\u662f\u4eca\u5929\\n\u6309\u7167\u7f51\u4e0a\u5404\u79cd\u666e\u5929\u76d6\u5730\u7684\u7b54\u6848\uff0c\u4e5f\u770b\u4e86\u975e\u5e38\u591a\u3002\\n\\n\u4e00\u822c\u7684\u89e3\u51b3\u529e\u6cd5\u90fd\u662f\u62ff\u65e5\u671f\u7684getTime\u6216\u8005\u5b57\u7b26\u5bf9\u6bd4\uff0c\u6211\u4e4b\u524d\u4e5f\u662f\u83b7\u53d6\u5230\u4e24\u4e2a\u65e5\u671f\u7684\u5e74\u6708\u65e5\u5728\u4e00\u4e2aif\u5224\u65ad\uff0c\u5904\u7406\u65b9\u5f0f\u4e0d\u592a\u597d\\n\x3c!-- truncate --\x3e\\n```\\n function isToday (date1) {\\n   var newDate1 = new Date(date1).setHours(0, 0, 0, 0)\\n   var today = new Date().setHours(0, 0, 0, 0)\\n   // \u5224\u65ad\u662f\u4eca\u5929\\n   if (newDate1 === today) {\\n     return true\\n   }\\n   return false\\n }\\n\\n```\\n\u7b80\u77ed\u7684\u51e0\u884c\u4ee3\u7801\u5c31\u53ef\u4ee5\u4e86\uff0c\u5b8c\u5168\u4e0d\u9700\u8981\u62ff\u65e5\u671f\u7684\u5e74\u6708\u65e5\uff0c\u6216\u8005\u5b57\u7b26\u4e32\u5bf9\u6bd4\\n\\n\u6838\u5fc3\u601d\u60f3\u5c31\u662f\uff0c\u628a\u4e24\u4e2a\u65e5\u671f\u7684\u65f6\u5206\u79d2\u6beb\u79d2\u8bbe\u7f6e\u76f8\u540c\u503c\uff0c\u4e5f\u5c31\u662f\u56fa\u5b9a\u4e86\u4e00\u4e2a\u53c2\u8003\u503c\uff0c\u8fd9\u6837\u53ea\u9700\u8981\u76f4\u63a5\u6bd4\u8f83\u5927\u5c0f\u5c31\u53ef\u4ee5\\n\\n\\n## \u6bd4\u8f83\u5230\u65f6\u95f4\u70b9\\n```\\n// \u65e5\u671f\u662f\u5426\u5927\u4e8e\u73b0\u5728\u7684\u65f6\u95f4\u70b9\\nfunction isLargeToday (date1) {\\n\\n  var newDate1 = new Date(date1).setMinutes(0, 0, 0)\\n\\n  var today = new Date().setMinutes(0, 0, 0)\\n  // \u5224\u65ad\u65f6\u95f4\u5927\u5c0f\\n  if (newDate1 > today) {\\n    return true\\n  }\\n  return false\\n}\\n```\\n\\n## \u5224\u65ad\u4eca\u5929\u662f\u5426\u5728\u4e00\u4e2a\u65e5\u671f\u8303\u56f4\u91cc\\n\\n```\\nfunction todayIsInDates (start, end) {\\n  var newStart = new Date(start).setHours(0, 0, 0, 0)\\n  var newEnd = new Date(end).setHours(0, 0, 0, 0)\\n  var today = new Date().setHours(0, 0, 0, 0)\\n  if (newStart <= today && today<= newEnd) {\\n    return true\\n  }\\n  return false\\n}\\n```\\n\\n\\n## \u4f18\u7f3a\u70b9\\n ### \u4f18\\n  \u4ee3\u7801\u91cf\u5c11\uff0c\u6027\u80fd\u597d\uff0c\u4e0d\u9700\u8981\u6267\u884cjs\u7684\u5b57\u7b26\u4e32\u6216\u8005\u591a\u6b21\u83b7\u53d6\u65e5\u671f\u5e74\u6708\u65e5\u65f6\u7684\u65b9\u5f0f\\n\\n ### \u7f3a\\n  \u5e26\u65f6\u95f4\u70b9\u7684\u5bf9\u6bd4\u5c31\u7a0d\u5fae\u8981\u6539\u52a8\u4e0b\u4ee3\u7801\uff0c\u5982\u679c\u662f\u5bf9\u6bd4\u5230\u5c0f\u65f6\uff0c\u5219\u9700\u8981\u8bbe\u7f6e\u65e5\u671fsetMinutes\uff0c\u540e\u9762\u7684\u5355\u4f4d\u4ee5\u6b64\u7c7b\u63a8\uff08\u4e5f\u4e0d\u7b97\u4ec0\u4e48\u7f3a\u70b9\u5427\uff09"},{"id":"/2019/js\u9ad8\u7ea7-0-4-\u7406\u89e3\u5bf9\u8c61","metadata":{"permalink":"/blog/2019/js\u9ad8\u7ea7-0-4-\u7406\u89e3\u5bf9\u8c61","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/js\u9ad8\u7ea7-0-4-\u7406\u89e3\u5bf9\u8c61.md","source":"@site/blog/2019/js\u9ad8\u7ea7-0-4-\u7406\u89e3\u5bf9\u8c61.md","title":"js\u9ad8\u7ea7 0.4 -> \u7406\u89e3\u5bf9\u8c61","description":"\u5c5e\u6027\u7c7b\u578b","date":"2019-06-09T10:20:53.000Z","formattedDate":"2019\u5e746\u67089\u65e5","tags":[],"readingTime":2.17,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"js\u9ad8\u7ea7 0.4 -> \u7406\u89e3\u5bf9\u8c61","date":"2019-06-09T10:20:53.000Z","tags":[]},"prevItem":{"title":"\u5224\u65ad\u65e5\u671f\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u5728\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5","permalink":"/blog/2019/\u5224\u65ad\u65e5\u671f\u7684\u662f\u5426\u5728\u4eca\u5929\uff0c\u6216\u8005\u4e00\u4e2a\u8303\u56f4\u7684\u597d\u65b9\u6cd5"},"nextItem":{"title":"webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa","permalink":"/blog/2019/webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa"}},"content":"## \u5c5e\u6027\u7c7b\u578b\\n  ECMAScript\u4e2d\u6709\u4e24\u79cd\u5c5e\u6027\uff1a\u6570\u636e\u5c5e\u6027\u3001\u8bbf\u95ee\u5668\u5c5e\u6027\\n\\n### 1.\u6570\u636e\u5c5e\u6027\\n  \u6570\u636e\u5c5e\u6027\u67094\u4e2a\u63cf\u8ff0\u5176\u884c\u4e3a\u5230\u7279\u6027\\n\\n  [[configurable]] \u8868\u793a\u80fd\u5426\u901a\u8fc7delete \u5220\u9664\u5c5e\u6027\u4ece\u800c\u91cd\u65b0\u5b9a\u4e49\u5c5e\u6027\uff0c\u80fd\u5426\u4fee\u6539\u5c5e\u6027\u7684\u7279\u6027\uff0c\u6216\u8005\u80fd\u5426\u628a\u5c5e\u6027\u4fee\u6539\u4e3a\u8bbf\u95ee\u5668\u5c5e\u6027\\n\\n  [[Enumnberable]] \u8868\u793a\u80fd\u5426\u901a\u8fc7for-in\u5faa\u73af\u8fd4\u56de\u5c5e\u6027\u3002\\n\\n  [[Writable]] \u8868\u793a\u80fd\u5426\u4fee\u6539\u5c5e\u6027\u7684\u503c\\n\\n  [[Value]] \u5305\u542b\u8fd9\u4e2a\u5c5e\u6027\u7684\u6570\u636e\u503c\\n\x3c!--truncate--\x3e\\n\u8981\u4fee\u6539\u5c5e\u6027\u9ed8\u8ba4\u7684\u7279\u6027\uff0c\u5fc5\u987b\u4f7f\u7528Object.defineProperty,\\n\u5982\u679c\u4fee\u6539\u4e86configurable\u4e3afalse\uff0c\u90a3\u4e48\u518d\u8c03\u7528\u4e0a\u9762\u7684\u65b9\u6cd5\u53bb\u4fee\u6539writable\u4e4b\u5916\u7684\u7279\u6027\u90fd\u4f1a\u5bfc\u81f4\u9519\u8bef\\n\\n\\n### 2.\u8bbf\u95ee\u5668\u5c5e\u6027\\n\u6709\u5982\u4e0b4\u4e2a\u7279\u6027\\n\\n[[configurable]] \u8868\u793a\u80fd\u5426\u901a\u8fc7delete \u5220\u9664\u5c5e\u6027\u4ece\u800c\u91cd\u65b0\u5b9a\u4e49\u5c5e\u6027\uff0c\u80fd\u5426\u4fee\u6539\u5c5e\u6027\u7684\u7279\u6027\uff0c\u6216\u8005\u80fd\u5426\u628a\u5c5e\u6027\u4fee\u6539\u4e3a\u6570\u636e\u5c5e\u6027\\n\\n[[Enumnberable]] \u8868\u793a\u80fd\u5426\u901a\u8fc7for-in\u5faa\u73af\u8fd4\u56de\u5c5e\u6027\u3002\\n\\n\\n[[Get]] \u5728\u4f60\u8bfb\u53d6\u5c5e\u6027\u65f6\u8c03\u7528\u7684\u51fd\u6570\uff0c\u9ed8\u8ba4\u503c\u4e3aundefined\\n\\n[[Set]] \u5728\u5199\u5165\u5c5e\u6027\u65f6\u8c03\u7528\u7684\u51fd\u6570\\n\u8bbf\u95ee\u5668\u5c5e\u6027\u4e0d\u80fd\u76f4\u63a5\u5b9a\u4e49\uff0c\u5fc5\u987b\u4f7f\u7528Object.defineProperty()\u6765\u5b9a\u4e49\\n\\n### 3.\u5b9a\u4e49\u591a\u4e2a\u5c5e\u6027\\nECMAScript5\u5b9a\u4e49\u4e86Object.defineProperties()\u65b9\u6cd5\uff0c\u5229\u7528\u8fd9\u4e2a\u5c5e\u6027\u53ef\u4ee5\u4e00\u6b21\u5b9a\u4e49\u591a\u4e2a\u5c5e\u6027\\n\\n### 4.\u8bfb\u53d6\u5c5e\u6027\u7684\u7279\u6027\\n\u4f7f\u7528ECMAScript5\u7684Object.getOwnPropertyDescriptor()\u65b9\u6cd5\u53ef\u4ee5\u53d6\u5f97\u7ed9\u5b9a\u5c5e\u6027\u7684\u63cf\u8ff0\u7b26\uff0c\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u7684\u5c5e\u6027\u5206\u522b\u5bf9\u5e94\u6570\u636e\u5c5e\u6027\u6216\u8005\u8bbf\u95ee\u5668\u5c5e\u6027\u76844\u4e2a\u7279\u6027\\n\\n```\\n  var book = {}\\n  Object.defineProperties(book, {\\n    _year: {\\n      value: 2004\\n    },\\n    edition: {\\n      value: 1\\n    },\\n    year: {\\n      get: function () {\\n        return this._year\\n      },\\n      set: function (newValue) {\\n        if (newValue > 2004) {\\n          this._year = newValue\\n          this.edition += newValue - 2004\\n        }\\n      }\\n    }\\n  })\\n  var descriptor = Object.getOwnPropertyDescriptor(book, \'year\')\\n  console.log(descriptor.value) // 2004\\n```"},{"id":"/2019/webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa","metadata":{"permalink":"/blog/2019/webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa.md","source":"@site/blog/2019/webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa.md","title":"webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa","description":"nodejs \u5185\u5b58\u6ea2\u51fa\u5bfc\u81f4webpack\u65e0\u6cd5\u7f16\u8bd1","date":"2019-05-09T23:34:22.000Z","formattedDate":"2019\u5e745\u67089\u65e5","tags":[],"readingTime":0.87,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa","date":"2019-05-09T23:34:22.000Z"},"prevItem":{"title":"js\u9ad8\u7ea7 0.4 -> \u7406\u89e3\u5bf9\u8c61","permalink":"/blog/2019/js\u9ad8\u7ea7-0-4-\u7406\u89e3\u5bf9\u8c61"},"nextItem":{"title":"js\u9ad8\u7ea7 0.3-> switch\u8bed\u53e5","permalink":"/blog/2019/js\u9ad8\u7ea7-0-3-switch\u8bed\u53e5"}},"content":"## nodejs \u5185\u5b58\u6ea2\u51fa\u5bfc\u81f4webpack\u65e0\u6cd5\u7f16\u8bd1\\n\\n\u6700\u8fd1\u91cd\u6784\u4e00\u4e2a\u5927\u578b\u9879\u76ee\uff0c\u91cd\u6784\u5230\u540e\u671f\u65f6\u51fa\u73b0\\n\\n`FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory`\\n\\n\u5927\u6982\u610f\u601d\u5c31\u662fnodejs\u7684\u5185\u5b58\u6ea2\u51fa\u4e86\\n\x3c!--truncate--\x3e\\n\u7f51\u4e0a\u641c\u7d22\u4e86\u5927\u91cf\u7684\u95ee\u7b54\uff0c\u90fd\u662f\u7c7b\u4f3c\u5728package.json\u91cc\u9762\u52a0\u4e0a\u547d\u4ee4\\n`node --max_old_space_size=4096`\\n\\n\u4f46\u662f\u6211\u7684\u9879\u76ee\u662f\u5728\u5f00\u53d1\u73af\u5883\uff0c\u800c\u4e14\u4e0d\u662f`node build/server.js`\u8fd9\u79cd\\n\\n\u6700\u7ec8\u7f51\u4e0a\u641c\u7d22\u5230\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\\n[\u94fe\u63a5](https://www.cnblogs.com/jianxuanbing/p/9331042.html)\\n\\n\u7b2c\u4e00\u4e2a\u9996\u5148\u5b89\u88c5\\n`npm install -save-dev increase-memory-limit`\\n\\n\u7b2c\u4e8c\u4e2a\u5b89\u88c5\\n`npm install -save-dev cross-env`\\n\\n\u7b2c\u4e09\u5728package.json\u91cc\u9762\\n```\\n\\"scripts\\": {\\n    \\"fix-memory-limit\\": \\"cross-env LIMIT=2048 increase-memory-limit\\"\\n  }\\n```\\n\u7136\u540e\u8fd0\u884c\u547d\u4ee4`npm run fix-memory-limit`\u5373\u53ef\u89e3\u51b3\u5185\u5b58\u6ea2\u51fa\u7684\u95ee\u9898"},{"id":"/2019/js\u9ad8\u7ea7-0-3-switch\u8bed\u53e5","metadata":{"permalink":"/blog/2019/js\u9ad8\u7ea7-0-3-switch\u8bed\u53e5","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/js\u9ad8\u7ea7-0-3-switch\u8bed\u53e5.md","source":"@site/blog/2019/js\u9ad8\u7ea7-0-3-switch\u8bed\u53e5.md","title":"js\u9ad8\u7ea7 0.3-> switch\u8bed\u53e5","description":"switch \u8bed\u53e5\u6ce8\u610f\u70b9","date":"2019-04-10T22:42:59.000Z","formattedDate":"2019\u5e744\u670810\u65e5","tags":[],"readingTime":0.66,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"js\u9ad8\u7ea7 0.3-> switch\u8bed\u53e5","date":"2019-04-10T22:42:59.000Z","tags":[]},"prevItem":{"title":"webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa","permalink":"/blog/2019/webpack\u8fd0\u884c\u65f6\uff0cnodejs\u62a5\u5185\u5b58\u6ea2\u51fa"},"nextItem":{"title":"js\u9ad8\u7ea7 0.2 -> \u64cd\u4f5c\u8fd0\u7b97\u7b26","permalink":"/blog/2019/js\u9ad8\u7ea7-0-2-\u64cd\u4f5c\u8fd0\u7b97\u7b26"}},"content":"## switch \u8bed\u53e5\u6ce8\u610f\u70b9\\n\\n1. \u53ef\u4ee5\u5728switch\u8bed\u53e5\u4e2d\u4f7f\u7528\u4efb\u4f55\u6570\u636e\u7c7b\u578b\uff0c\u5b57\u7b26\u4e32\uff0c\u5bf9\u8c61\u90fd\u6ca1\u6709\u95ee\u9898\\n\\n2. case \u7684\u503c\u4e5f\u4e0d\u4e00\u5b9a\u662f\u5e38\u91cf\uff0c\u53ef\u4ee5\u662f\u53d8\u91cf\uff0c\u751a\u81f3\u8868\u8fbe\u5f0f\\n\x3c!--truncate--\x3e\\n```\\n  var a = \'hello world\'\\n  switch(a) {\\n    case \'hello world\':\\n      console.log(\'hello world\')\\n      break;\\n    case \'hello js\':\\n      console.log(\'hello js\')\\n      break;\\n  }\\n\\n```\\n\\n3. case \u53ef\u4ee5\u4e3a\u8868\u8fbe\u5f0f switch \u8bed\u53e5\u5728\u6bd4\u8f83\u65f6\u4f7f\u7528\u7684\u662f\u5168\u7b49\u64cd\u4f5c\u7b26`===`\\n\\n```\\n  var num = 30\\n  switch (true) {\\n    case num > 25:\\n      console.log(\'a > 25\')\\n      break;\\n    case num >= 0 && num < 10:\\n      console.log(\'num is 0 to 10\')\\n      break;\\n  }\\n\\n```"},{"id":"/2019/js\u9ad8\u7ea7-0-2-\u64cd\u4f5c\u8fd0\u7b97\u7b26","metadata":{"permalink":"/blog/2019/js\u9ad8\u7ea7-0-2-\u64cd\u4f5c\u8fd0\u7b97\u7b26","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/js\u9ad8\u7ea7-0-2-\u64cd\u4f5c\u8fd0\u7b97\u7b26.md","source":"@site/blog/2019/js\u9ad8\u7ea7-0-2-\u64cd\u4f5c\u8fd0\u7b97\u7b26.md","title":"js\u9ad8\u7ea7 0.2 -> \u64cd\u4f5c\u8fd0\u7b97\u7b26","description":"\u64cd\u4f5c\u8fd0\u7b97\u7b26\uff0c\u5bf9\u8c61\u7684\u7279\u6b8a\u6bd4\u8f83","date":"2019-04-09T22:55:26.000Z","formattedDate":"2019\u5e744\u67089\u65e5","tags":[],"readingTime":4.44,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"js\u9ad8\u7ea7 0.2 -> \u64cd\u4f5c\u8fd0\u7b97\u7b26","date":"2019-04-09T22:55:26.000Z","tags":[]},"prevItem":{"title":"js\u9ad8\u7ea7 0.3-> switch\u8bed\u53e5","permalink":"/blog/2019/js\u9ad8\u7ea7-0-3-switch\u8bed\u53e5"},"nextItem":{"title":"js\u9ad8\u7ea7 0.1 -> script\u6807\u7b7e\u7684defer\uff0casync","permalink":"/blog/2019/js\u9ad8\u7ea7-0-1-scrit\u6807\u7b7e\u7684defer\uff0casync"}},"content":"## \u64cd\u4f5c\u8fd0\u7b97\u7b26\uff0c\u5bf9\u8c61\u7684\u7279\u6b8a\u6bd4\u8f83\\n\\n ### \u524d\u8a00\\n  js\u9ad8\u7ea7\u7a0b\u5e8f\u8bbe\u8ba1\uff08\u4ee5\u4e0b\u7b80\u79f0\u9ad8\u7a0b\uff09\u8fd9\u672c\u4e66\u4e2d\u63d0\u5230\u7684\u64cd\u4f5c\u8fd0\u7b97\u7b26\uff0c\u6709\u4e9b\u6bd4\u8f83\u7279\u6b8a\u7684\u70b9\uff0c\u5728\u4ee5\u524d\u7684\u6ca1\u6709\u63a5\u89e6\u8fc7\uff0c\u5176\u4e2d\\n  \u5bf9\u8c61\u8fd9\u4e2a\u6bd4\u8f83\u6709\u610f\u601d\uff0c\u4e5f\u5728\u9762\u8bd5\u9898\u4e2d\u51fa\u73b0\u3002\\n\x3c!--truncate--\x3e\\n  #### toString() \u4e0evalueOf()\\n\\n  \u5bf9\u8c61toString\u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\u8868\u793a \u5373[object Object]\\n\\n  \u5bf9\u8c61valueOf \u8fd4\u56de\u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\uff0c\u6570\u503c\u6216\u5e03\u5c14\u503c,\u5373\u5bf9\u8c61\u672c\u8eab\\n\\n  \u4e24\u8005\u4e0d\u540c\u4e4b\u5904\uff1a\\n  \u4e8c\u8005\u5e76\u5b58\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u6570\u503c\u8fd0\u7b97\u4e2d\uff0c\u4f18\u5148\u8c03\u7528\u4e86valueOf\uff0c\u5b57\u7b26\u4e32\u8fd0\u7b97\u4e2d\uff0c\u4f18\u5148\u8c03\u7528\u4e86toString\u3002\\n\\n  ```\\n  var test = {a:1 , b: 2}\\n  console.log(test.toString(), test.valueOf()) // [object Object] {a: 1, b: 2}\\n  test.valueOf = function () {return 10}\\n  console.log(test.toString(), test.valueOf()) // [object Object] 10\\n\\n  ```\\n\\n\\n  ### \u52a0\u6027\u64cd\u4f5c\u7b26\\n  1. \u5982\u679c\u6709\u4e00\u4e2a\u64cd\u4f5c\u6570\u662f\u5bf9\u8c61\uff0c\u6570\u503c\u6216\u5e03\u5c14\u503c\uff0c\u8c03\u7528toString()\uff0c\u53d6\u5f97\u5b57\u7b26\u4e32\u5728\u76f8\u52a0\\n    ```\\n    var a = {}\\n    var b = a + 1\\n    // a \u662f\u4e00\u4e2a\u5bf9\u8c61 \uff0c\u5bf9\u8c61toString\u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\u8868\u793a \u5373[object Object]\\n    console.log(b) // [object Object]1 \u76f8\u52a0\u540e\uff0c\u6709\u5b57\u7b26\u4e32\uff0c\u53d8\u6210\u62fc\u63a5\\n\\n    ```\\n\\n    \u4e0a\u9762\u7b2c\u4e00\u70b9\u662f`\u9ad8\u7a0b`\u8bf4\u5230\u7684\u8c03\u7528toString() \u65b9\u6cd5\uff0c\u4f46\u662f\u4e0b\u9762\u6539\u5199\u4e86\u5bf9\u8c61\u7684valueOf,\u5728\u8fd0\u7b97\u65f6\u5374\u662f\u8c03\u7528\u5bf9\u8c61\u7684valueOf\u62ff\u5230\u7684\u503c\u518d\u53bb\u6267\u884c\u8fd0\u7b97\\n\\n    ```\\n     a.valueOf = function () {return 2}\\n     console.log(a.toString()) // [object Object]\\n     var b = a + 1\\n     console.log(b) // 3\\n\\n    ```\\n\\n    \u76f4\u63a5\u6539\u5199toString\u4e5f\u662f\u53ef\u4ee5\u7684\\n\\n    ```\\n      a.toString = function () {return 2}\\n      console.log(a.toString()) // 2\\n      var b = a + 1\\n      console.log(b) // 3\\n\\n    ```\\n\\n    \u540c\u65f6\u6539\u5199\u5462\\n    ```\\n      a.toString = function () {return 2}\\n      a.valueOf = function() {return 10}\\n      var b = a + 1\\n      console.log(b) // 11\\n\\n    ```\\n    \u8fd9\u4e2a\u7ed3\u679c\u8bf4\u660e\u4e86\uff0cvalueOf \u6bd4toString\u7684\u4f18\u5148\u7ea7\u9ad8\\n\\n  2. \u5bf9\u4e8eundefined \u548cnull\\n     ```\\n       var c = undefined, d = null\\n       var z\\n       b = c + 1\\n       z = d + 1\\n       console.log(b, z) // NaN  1\\n\\n      ```\\n\\n\\n### \u51cf\u6cd5\u64cd\u4f5c\u7b26\\n  1. \u5982\u679c\u6709\u4e00\u4e2a\u64cd\u4f5c\u6570\u662f\u5bf9\u8c61\uff0c\u5219\u8c03\u7528\u5bf9\u8c61\u7684valueOf \u5f97\u5230\u5bf9\u8c61\u7684\u6570\u503c\uff0c\u5982\u679c\u5bf9\u8c61\u6ca1\u6709valueOf\u65b9\u6cd5\uff0c\u5219\u8c03\u7528toString()\u65b9\u6cd5\\n  ```\\n    var sa = {}\\n    console.log(sa.valueOf()) // {}\\n    var sb = 3 - sa\\n    console.log(sb) // NaN\\n    sa.valueOf = function () {return 1}\\n    var testb = 3 - sa\\n    console.log(testb) // 2\\n\\n  ```\\n\\n### \u5173\u7cfb\u64cd\u4f5c\u7b26 \u5982 < > <=, >=\\n  1. \u6709\u4e00\u4e2a\u64cd\u4f5c\u6570\u662f\u5bf9\u8c61\u7684\uff0c\u8ddf\u4e0a\u540c\u7406\uff0c \u90fd\u662f\u8c03\u7528\u5bf9\u8c61\u7684valueOf \u5f97\u5230\u5bf9\u8c61\u7684\u6570\u503c\uff0c\u5982\u679c\u5bf9\u8c61\u6ca1\u6709valueOf\u65b9\u6cd5\uff0c\u5219\u8c03\u7528toString()\u65b9\u6cd5\\n\\n\\n### \u76f8\u7b49\u64cd\u4f5c\u7b26 ==\\n  1. \u6709\u70b9\u4e0d\u540c\uff0c\u53ea\u6709\u4e00\u4e2a\u64cd\u4f5c\u6570\u662f\u5bf9\u8c61\u65f6\uff0c\u8c03\u7528\u5bf9\u8c61\u7684valueOf \u5f97\u5230\u5bf9\u8c61\u7684\u6570\u503c\uff0c\u5982\u679c\u5bf9\u8c61\u6ca1\u6709valueOf\u65b9\u6cd5\uff0c\u5219\u8c03\u7528toString()\u65b9\u6cd5\u7136\u540e\u8fdb\u884c\u6bd4\u8f83\\n  ```\\n    var qa = {}\\n    console.log(qa == 1) // false\\n    qa.toString = function () {return 1}\\n    console.log(qa == 1); // true\\n    qa.valueOf = function () {return 2}\\n    console.log(qa == 1); // false\\n\\n  ```\\n\\n  \u4e24\u4e2a\u90fd\u662f\u5bf9\u8c61\u6bd4\u8f83\\n\\n  \u5982\u679c\u4e24\u4e2a\u64cd\u4f5c\u6570\u90fd\u662f\u5bf9\u8c61\uff0c\u5219\u5bf9\u6bd4\u4e24\u4e2a\u5bf9\u8c61\u662f\u4e0d\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5982\u679c\u4e24\u4e2a\u5bf9\u8c61\u90fd\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\u8fd4\u56detrue\\n  ```\\n    var a1 = {a: 2, b: 1}\\n    var b1 = a1 // \u6216\u8005b1 = new Object(a1)\\n    console.log(a1 == b1) // true\\n    var b2 = {a: 2}\\n    console.log(a1 == b2) // false\\n\\n  ```\\n\\n## \u9762\u8bd5\u9898\\n  \u4e4b\u524d\u9762\u8bd5\u9047\u5230\u7684\u4e00\u4e2a\u9898\u76ee\uff0c\u633a\u6709\u610f\u601d\u7684\\n  ```\\n    var a = ?;\\n    if (a == 1 && a == 2 && a == 3) {\\n        console.log(a)\\n    } else {\\n        console.log(\'\u4e0d\u6210\u7acb\')\\n    }\\n\\n  ```\\n  \u610f\u601d\u662f\u8981\u8ba9if\u6761\u4ef6\u6210\u7acb\uff0c\u90a3\u4e48a\u7684\u503c\u662f\u591a\u5c11,\u6709\u4e86\u4e0a\u9762\u7684\u77e5\u8bc6\uff0c\u5176\u5b9e\u8fd9\u9053\u5c31\u975e\u5e38\u7b80\u5355\u4e86\\n\\n  \u7b54\u6848\\n  ```\\n    var ta = {valueOf: function () { return ++this.b}, b: 0}\\n    if (ta == 1 && ta == 2 && ta == 3) {\\n       console.log(ta) // {valueOf: \u0192, b: 3}\\n    } else {\\n       console.log(\'\u4e0d\u6210\u7acb\')\\n    }\\n    // \u53ea\u8981\u6bcf\u6b21\u6bd4\u8f83\u90fd\u4e0d\u65ad\u53bb\u5237\u65b0\u5bf9\u8c61\u7684valueOf\u7684\u503c\u5373\u53ef\\n\\n  ```"},{"id":"/2019/js\u9ad8\u7ea7-0-1-scrit\u6807\u7b7e\u7684defer\uff0casync","metadata":{"permalink":"/blog/2019/js\u9ad8\u7ea7-0-1-scrit\u6807\u7b7e\u7684defer\uff0casync","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/js\u9ad8\u7ea7-0-1-scrit\u6807\u7b7e\u7684defer\uff0casync.md","source":"@site/blog/2019/js\u9ad8\u7ea7-0-1-scrit\u6807\u7b7e\u7684defer\uff0casync.md","title":"js\u9ad8\u7ea7 0.1 -> script\u6807\u7b7e\u7684defer\uff0casync","description":"script \u6807\u7b7e\u7684\u4e24\u4e2a\u5c5e\u6027 defer async","date":"2019-03-25T22:45:37.000Z","formattedDate":"2019\u5e743\u670825\u65e5","tags":[],"readingTime":1.63,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"js\u9ad8\u7ea7 0.1 -> script\u6807\u7b7e\u7684defer\uff0casync","date":"2019-03-25T22:45:37.000Z","tags":[]},"prevItem":{"title":"js\u9ad8\u7ea7 0.2 -> \u64cd\u4f5c\u8fd0\u7b97\u7b26","permalink":"/blog/2019/js\u9ad8\u7ea7-0-2-\u64cd\u4f5c\u8fd0\u7b97\u7b26"},"nextItem":{"title":"ios audio \u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898","permalink":"/blog/2019/ios-audio-\u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898"}},"content":"## script \u6807\u7b7e\u7684\u4e24\u4e2a\u5c5e\u6027 defer async\\n\\n  ### html\u4e2d\u7684script\u6807\u7b7e\u53ea\u8981\u4e0d\u5b58\u5728defer\u5c5e\u6027\u548casync\u5c5e\u6027\uff0c\u6d4f\u89c8\u5668\u90fd\u4f1a\u6309\u7167script\u6807\u7b7e\u5728\u9875\u9762\u4e2d\u7684\u5148\u540e\u987a\u5e8f\u4f9d\u6b21\u8fdb\u884c\u89e3\u6790\uff0c\u4e5f\u662f\u8bf4\u89e3\u6790\u5b8c\u7b2c\u4e00\u4e2ascript\u7684\u4ee3\u7801\uff0c\u7136\u540e\u518d\u53bb\u89e3\u6790\u7b2c\u4e8c\u4e2ascript\u6807\u7b7e\u7684\u4ee3\u7801\\n\x3c!--truncate--\x3e\\n## defer\u5c5e\u6027\\n  \u53ef\u4ee5\u4f7f\u811a\u672c\u5ef6\u8fdf\u5230\u6574\u4e2a\u9875\u9762\u89e3\u6790\u5b8c\u5b8c\u6bd5\u540e\u518d\u8fd0\u884c\uff0c\u8bbe\u7f6e\u4e86defer\u5c5e\u6027\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u5148\u53bb\u4e0b\u8f7djs\u6587\u4ef6\uff0c\u4f46\u662f\u5e76\u4e0d\u4f1a\u53bb\u6267\u884c\u3002\\n\\n  \u5728html5\u89c4\u8303\u4e2d\uff0c\u8981\u6c42\u5ef6\u8fdf\u811a\u672c\u6309\u7167\u987a\u5e8f\u6267\u884c\u3002\u5728\u771f\u5b9e\u573a\u666f\u591a\u4e2ascript\u4f7f\u7528\u4e86defer\u5c5e\u6027\uff0c\u8fd9\u4e9bscript\u6587\u4ef6\u5e76\u4e0d\u4f1a\u6309\u987a\u5e8f\u6267\u884c\u7684\uff0c\u6240\u4ee5\u6700\u597d\u53ea\u6709\u4e00\u4e2ascript\u7528\u4e86defer\u5c5e\u6027\uff0c\u800c\u4e14defer\u5c5e\u6027\u53ea\u9002\u7528\u4e8e\u5916\u90e8\u7684js\u6587\u4ef6\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u76f4\u63a5\u5728script\u6807\u7b7e\u91cc\u9762\u5199\u4ee3\u7801\uff0c\u7136\u540e\u6807\u7b7e\u5e26\u4e0a\u8fd9\u4e2a\u5c5e\u6027\u662f\u65e0\u6548\u7684\\n\\n## async\u5c5e\u6027\\n  \u4e0edefer\u5c5e\u6027\u7c7b\u4f3c\uff0c\u90fd\u662f\u6d4f\u89c8\u5668\u7acb\u5373\u4e0b\u8f7d\u6587\u4ef6\uff0c\u800c\u4e14\u53ea\u9002\u7528\u4e8e\u5916\u90e8\u7684\u811a\u672c\u6587\u4ef6\uff0c\u591a\u4e2ascript\u4f7f\u7528\u8be5\u5c5e\u6027\u65f6\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u8fd9\u4e9bscript\u4f1a\u6309\u987a\u5e8f\u6267\u884c\\n\\n  \u4e00\u5b9a\u4f1a\u5728\u9875\u9762\u7684load\u4e8b\u4ef6\u524d\u6267\u884c\u8fd9\u70b9\u4e0edefer\u4e0d\u540c\uff0c\u5f02\u6b65\u811a\u6b65\u4e0d\u8981\u5728\u52a0\u8f7d\u671f\u95f4`\u4fee\u6539DOM`"},{"id":"/2019/ios-audio-\u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898","metadata":{"permalink":"/blog/2019/ios-audio-\u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/ios-audio-\u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898.md","source":"@site/blog/2019/ios-audio-\u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898.md","title":"ios audio \u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898","description":"\u7f51\u4e0a\u641c\u7d22\u4e86\u5927\u91cf\u7684\u8d44\u6e90\uff0c\u5f97\u77e5\u662fios\u4e3a\u4e86\u9650\u5236\u6d41\u91cf\u6545\u610f\u8bbe\u7f6e\u4e86\u8fd9\u4e2a","date":"2019-01-25T23:14:14.000Z","formattedDate":"2019\u5e741\u670825\u65e5","tags":[{"label":"\u517c\u5bb9\u6027","permalink":"/blog/tags/\u517c\u5bb9\u6027"}],"readingTime":3.175,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"ios audio \u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898","date":"2019-01-25T23:14:14.000Z","tags":["\u517c\u5bb9\u6027"]},"prevItem":{"title":"js\u9ad8\u7ea7 0.1 -> script\u6807\u7b7e\u7684defer\uff0casync","permalink":"/blog/2019/js\u9ad8\u7ea7-0-1-scrit\u6807\u7b7e\u7684defer\uff0casync"},"nextItem":{"title":"vue\u3001react \u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f","permalink":"/blog/2019/vue\u3001react-\u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f"}},"content":"### \u7f51\u4e0a\u641c\u7d22\u4e86\u5927\u91cf\u7684\u8d44\u6e90\uff0c\u5f97\u77e5\u662fios\u4e3a\u4e86\u9650\u5236\u6d41\u91cf\u6545\u610f\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\\n\\n  \u89e3\u51b3\u529e\u6cd5\u662f \u53ea\u80fd\u901a\u8fc7\u7528\u6237\u81ea\u5df1\u53bb\u89e6\u6478\u4e0b\u624d\u80fd\u53bb\u64ad\u653e\\n\\n\\n### \u5fae\u4fe1\u5185\u8bbf\u95ee\u53ef\u4ee5\u901a\u8fc7\u5fae\u4fe1\u7684`WeixinJSBridgeReady`\u4e8b\u4ef6\u5904\u7406\\n\u4f46\u662f\u7528\u7684\u662fvue\u7684\u5355\u9875\u9762\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u53ea\u6709\u5728\u9875\u9762\u9996\u6b21\u52a0\u8f7d\u7684\u65f6\u5019\u4f1a\u89e6\u53d1\u3002\u4ec0\u4e48\u610f\u601d\uff1f\\n\u5c31\u662f\u5982\u679c\u5728\u5f53\u524d\u9875\u9762\u5237\u65b0\u7684\u65f6\u5019\u5c31\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u5982\u679c\u662f\u4ece\u522b\u9875\u9762\u8fdb\u6765\u8fd9\u4e2a\u9875\u9762\u7684\uff0c\u4e0d\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\u7684\u3002\u5f53\u7136\u7f51\u4e0a\u4e5f\u6709\u4e00\u4e9b\u89e3\u51b3\u65b9\u6848\uff0c\u6bd4\u5982\u628a`audio`\u6807\u7b7e\u653e\u5230App.vue\u91cc\u9762\u8fd9\u6837\u53ea\u8981\u70b9\u5f00\u9875\u9762\u5c31\u4f1a\u89e6\u53d1\u4e8b\u4ef6\u4e86\uff0c\u8fd9\u79cd\u53ef\u4ee5\u5728\u8fdb\u9875\u9762\u5c31\u64ad\u653e\u97f3\u9891\u7684\u4e1a\u52a1\u53ef\u4ee5\u5904\u7406\u6389\u3002\u5982\u679c\u662f\u5bf9\u97f3\u9891\u6709\u5feb\u8fdb\u5feb\u9000\u8fd9\u79cd\u64cd\u4f5c\u7684\uff0c\u5c31\u6ca1\u529e\u6cd5\u4e86\u3002\u56e0\u4e3a\u653e\u5728App.vue\u4e0a\uff0c\u6709\u5f88\u591a\u4e8b\u4ef6\u9700\u8981\u5904\u7406\uff0c\u53ef\u80fd\u8981\u5f15\u5165\u5927\u91cf\u7684vuex\u7684\u72b6\u6001\u53d8\u91cf\u624d\u80fd\u5904\u7406\u6389\uff0c\u7ef4\u62a4\u6027\u4e5f\u4e0d\u5f3a\u3002\\n\x3c!--truncate--\x3e\\n\u5728\u5f53\u524d\u9875\u9762\u76d1\u542c`WeixinJSBridgeReady`\u7136\u540e`var audio = ducument.getElementById(\'audio\'); audio.load(); // \u7136\u540e\u518d\u8bf7\u6c42\u6570\u636e\uff0c\u83b7\u53d6audio\u7684src\u8def\u5f84` \u6570\u636e\u8bf7\u6c42\u6210\u529f\u540e\uff0c\u7136\u540e\u9488\u5bf9ios\u7cfb\u7edf\u7684\u90fd\u64ad\u653e\uff0c\u70b9\u51fb\u64ad\u653e\u6309\u94ae\u65f6\u901a\u8fc7audio\u5143\u7d20`audio.play() audio.pause()`\u6765\u64cd\u4f5c\u64ad\u653e\u548c\u6682\u505c\uff0c\u8fd9\u6837\u662f\u53ef\u4ee5\u505a\u5230\u81ea\u52a8\u64ad\u653e\uff0c\u53ef\u662f\u5982\u679c\u662f\u4ece\u522b\u7684\u9875\u9762\u518d\u8fdb\u6765\u8fd9\u4e2a\u9875\u9762\u7684`WeixinJSBridgeReady`\u4e8b\u4ef6\u5e76\u4e0d\u4f1a\u89e6\u53d1\u3002\u6bd4\u5982\\n```\\n  audioPlay () {\\n    let audioEle = document.getElementById(\'audio\')\\n    audioEle.play()\\n  },\\n  audioPause () {\\n    let audioEle = document.getElementById(\'audio\')\\n    audioEle.pause()\\n  }\\n```\\n\\n### \u503c\u5f97\u6ce8\u610f\u7684\u95ee\u9898\\n  \u5b89\u5353\u7aef\uff0c\u4f7f\u7528$ref\u8fd9\u4e2a\u65b9\u5f0f\u63a7\u5236\u5b9e\u4f8b\u7684\u6765\u6267\u884c`play(),pause()`\u662f\u53ef\u4ee5\u64ad\u653e\u548c\u6682\u505c\u7684\uff0c\u4f46\u662fios\u7684\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u662f\u65e0\u6548\u7684\uff0c\u6ca1\u6709\u4efb\u4f55\u4f5c\u7528\u3002\u53ea\u6709\u83b7\u53d6\u4e86\u5143\u7d20\u6765\u64cd\u4f5caudio\u7684\u64ad\u653e\u6682\u505c\u624d\u6709\u4f5c\u7528\\n\\n  \u8fd8\u6709\u4e2a\u602a\u5f02\u7684\u95ee\u9898  \u70b9\u51fb\u64ad\u653e\u6309\u94ae\u8bbe\u7f6e\u64ad\u653e\u72b6\u6001\uff0c\\n  \u901a\u8fc7vue\u7684watch,\u72b6\u6001\u6539\u53d8\u65f6\u518d\u83b7\u53d6\u5143\u7d20\u8bbe\u7f6eplay\u6216\u8005pause\uff0c\u5e76\u6ca1\u6709\u4efb\u4f55\u4f5c\u7528\\n\\n  ```\\n  watch: {\\n      playing(newPlaying) {\\n        let audioEle = document.getElementById(\'audio\')\\n        this.$nextTick(() => {\\n          newPlaying ? audioEle.play() : audioEle.pause()\\n        })\\n      }\\n  }\\n```\\n\u4e0a\u9762\u7684\u4ee3\u7801\u70b9\u51fb\u64ad\u653e\u65f6\uff0c\u8bbe\u7f6eplaying\u4e3atrue\u65f6\uff0cios\u662f\u65e0\u6cd5\u64ad\u653e\u7684\\n\\n\\n\u8fd8\u6709\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u5c31\u662fajax\u540c\u6b65\u8bf7\u6c42\u6570\u636e\uff0c\u56de\u6765\u540e\u76f4\u63a5\u6267\u884c\u64ad\u653e\uff0c\u8fd9\u4e2a\u65b9\u6848\u6ca1\u6709\u5c1d\u8bd5\u8fc7\uff0c\u56e0\u4e3a\u7528\u7684axios\u8fd9\u4e2a\u63d2\u4ef6\uff0c\u672c\u8eab\u6ca1\u6709\u540c\u6b65\u8bf7\u6c42\uff0c\u5c1d\u8bd5\u8fc7\u4f7f\u7528async\u7b49\u5230\u6570\u636e\u56de\u6765\u540e\u518d\u6267\u884c\u64ad\u653e\u7684\uff0c\u6ca1\u6709\u6548\u679c"},{"id":"/2019/vue\u3001react-\u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f","metadata":{"permalink":"/blog/2019/vue\u3001react-\u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/vue\u3001react-\u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f.md","source":"@site/blog/2019/vue\u3001react-\u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f.md","title":"vue\u3001react \u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f","description":"vue","date":"2019-01-21T21:07:12.000Z","formattedDate":"2019\u5e741\u670821\u65e5","tags":[{"label":"\u901a\u8baf","permalink":"/blog/tags/\u901a\u8baf"}],"readingTime":5.415,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"vue\u3001react \u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f","date":"2019-01-21T21:07:12.000Z","tags":["\u901a\u8baf"]},"prevItem":{"title":"ios audio \u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898","permalink":"/blog/2019/ios-audio-\u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\u95ee\u9898"},"nextItem":{"title":"table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e","permalink":"/blog/2019/table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e"}},"content":"## vue\\n  ### 1.\u7236\u5b50\u7ec4\u4ef6\u901a\u8baf\\n  \u4e00\u822c\u90fd\u662f\u5b50\u7ec4\u4ef6\u5b9a\u4e49prop\u7136\u540e\u7236\u7ec4\u4ef6\u4f20\u9012prop\u53c2\u6570\\n\\n  \u5b50\u7ec4\u4ef6\u901a\u8fc7 `$emit` \u89e6\u53d1\u4e8b\u4ef6\uff0c\u901a\u77e5\u7236\u7ec4\u4ef6\u3002\u7236\u7ec4\u4ef6\u901a\u8fc7 `$on`\u6216\u8005html\u4e0a\u901a\u8fc7`@+\u4e8b\u4ef6\u540d`\u6765\u76d1\u542c\u7ec4\u4ef6\u7684\u4e8b\u4ef6\\n  ### 2.\u5144\u5f1f\u7ec4\u4ef6\u901a\u8baf (eventbus)\\n  \u7b80\u5355\u7248\u4f7f\u7528event Bus\u7684\u65b9\u5f0f\uff0c\u5373new \u4e00\u4e2aVue\uff0c\u901a\u8fc7\u8fd9\u4e2a\u5b9e\u4f8b\u89e6\u53d1`$emit`\u4ee5\u53ca\u76d1\u542c`$on`\u6765\u5b9e\u73b0\u3002\\n\x3c!--truncate--\x3e\\n  ### 3.\u591a\u5c42\u7ea7\u7684\u7ec4\u4ef6\u901a\u8baf \uff08this.$parent, this.$children\uff09\\n\\n  \u4e00\u822c\u60c5\u51b5\u4e0b\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u5f0f\u662f\u6ca1\u6709\u591a\u5927\u95ee\u9898\u7684\uff0c\u4f46\u662f\u5982\u679c\u4e1a\u52a1\u590d\u6742\u4e86\uff0c\u6709\u65f6\u4f1a\u51fa\u73b0\u591a\u5c42\u7ea7\u7684\u7ec4\u4ef6\u901a\u8baf\uff0c\u6bd4\u5982 A -> B -> C... \u8fd9\u79cd\u65b9\u5f0f\u5982\u679c\u8fd8\u662f\u7ee7\u7eed\u7528\u7236\u5b50\u7ec4\u4ef6\u901a\u8baf\u7684\u4e00\u822c\u65b9\u5f0f\uff0c\u5c06\u8981\u4e0d\u65ad\u5199prop\uff0c\u5e76\u4e14\u8981\u4e0d\u65ad\u7684\u4f20\u9012\u4e0b\u53bb\u3002\u5bf9\u9879\u76ee\u6765\u8bf4\uff0c\u8fd9\u662f\u975e\u5e38\u96be\u4ee5\u7ef4\u62a4\u7684\uff0c\u56e0\u4e3a\u5f88\u53ef\u80fd\u4f1a\u6539\u4e86\u4e00\u4e9b\u4e1a\u52a1\u4ee3\u7801\u5bfc\u81f4\u6ca1\u6709\u4f20\u9012prop\u51fa\u73b0\u62a5\u9519\u60c5\u51b5\u3002\u5f53\u7136\u76f4\u63a5\u4f7f\u7528vuex\u662f\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898\u3002\\n\\n  \u53ef\u662f\u4eca\u5929\u770b\u4e86\u4e0biview\u6846\u67b6\u7684\u7ec4\u4ef6\u6e90\u7801\uff0c\u6211\u53d1\u73b0\u4ed6\u4eec\u7ec4\u4ef6\u901a\u8baf\u7684\u53d8\u901a\u65b9\u5f0f\\n\\n  iview\u662f\u4e00\u4e2a\u57fa\u4e8evue\u7684ui\u6846\u67b6\uff0c\u6709\u5f88\u591a\u4e30\u5bcc\u7684\u7ec4\u4ef6\u3002\u7ec4\u4ef6\u4e4b\u95f4\u5b58\u5728\u5404\u79cd\u5d4c\u5957\u3002\u6240\u4ee5\u5c11\u4e0d\u4e86\u7ec4\u4ef6\u7684\u901a\u8baf\uff0c\u53ef\u662f\u7ec4\u4ef6\u7684\u4f7f\u7528\u662f\u770b\u4e1a\u52a1\u7684\uff0c\u4ed6\u4eec\u7684\u5173\u7cfb\u4e0d\u4e00\u5b9a\u4f1a\u662f\u7236\u5b50\u7684\u5173\u7cfb\\n\\n  ### \u6765\u770b\u770biview\u662f\u5982\u4f55\u5904\u7406\u7ec4\u4ef6\u7684\u901a\u8baf\\n  ```\\n  dispatch(componentName, eventName, params) {\\n      let parent = this.$parent || this.$root;\\n      let name = parent.$options.name;\\n\\n      while (parent && (!name || name !== componentName)) {\\n          parent = parent.$parent;\\n\\n          if (parent) {\\n              name = parent.$options.name;\\n          }\\n      }\\n      if (parent) {\\n          parent.$emit.apply(parent, [eventName].concat(params));\\n      }\\n  }\\n  ```\\n  \u8fd9\u4e2a\u662fiview\u7684\u7ec4\u4ef6\u7684mixins \u8fd9\u90e8\u5206\u7684\u4ee3\u7801\u610f\u601d\u5c31\u662f\u4f20\u5165\u4e00\u4e2a\u7ec4\u4ef6\u540d\u79f0\uff0c\u4e8b\u4ef6\u540d\uff0c\u4ee5\u53ca\u53c2\u6570\uff0c\u7136\u540e\u901a\u8fc7`$parent`\u4e0d\u65ad\u7684\u5f80\u4e0a\u627e\u5230\u8fd9\u4e2a\u540d\u79f0\u7684\u7ec4\u4ef6\uff0c\u76f4\u5230`$root`\u4e5f\u5c31\u662f\u6839\u8282\u70b9\u3002\u627e\u5230\u7236\u7ec4\u4ef6\u540e\uff0c\u7531\u7236\u7ec4\u4ef6\u6765\u89e6\u53d1`$emit`\u4e8b\u4ef6\uff0c\u539f\u6765\u7684\u4e8b\u4ef6\u4ee5\u53ca\u53c2\u6570\u4e5f\u539f\u6837\u63a8\u4e0a\u53bb\u3002\\n\\n  ### \u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f\\n  \u5982\u679c\u5b58\u5728\u5f88\u591a\u5c42\u7ea7\u7684\u7ec4\u4ef6\u5173\u7cfb\uff0c\u5f88\u8fdc\u5c42\u7ea7\u7684\u5b50\u7ec4\u4ef6\u89e6\u53d1\u4e86\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u8fd9\u4e2a\u65f6\u5019\u6700\u4e0a\u5c42\u7684\u7236\u7ec4\u4ef6\u9700\u8981\u77e5\u9053\u8fd9\u4e9b\u4e8b\u4ef6\u7684\u53d1\u751f\uff0c\u6765\u5904\u7406\u4e00\u4e9b\u4e1c\u897f\uff0c\u4f7f\u7528prop\u8fd9\u79cd\u65b9\u5f0f\u5c31\u53d8\u5f97\u5f88\u53ef\u6015\uff0c\u800c\u4e14\u8fd9\u79cd\u65b9\u5f0f\u7ed1\u4f4f\u4e86\u4ed6\u4eec\u7684\u5173\u7cfb\u3002\u56e0\u4e3a\u7c7b\u4f3c\u8fd9\u79cdui\u6846\u67b6\uff0c\u7ec4\u4ef6\u662f\u968f\u5904\u53ef\u7528\u7684\u3002\u4f7f\u7528\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u901a\u8fc7mixins\u65b9\u5f0f\u5f15\u5165\u5230\u7ec4\u4ef6\u91cc\u9762\uff0c\u5f53\u9047\u5230\u8fd9\u4e2a\u60c5\u51b5\u7684\u65f6\u5019\uff0c\u5c31\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u968f\u4fbf\u9009\u62e9\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u4e0a\u7ea7\u7236\u7ec4\u4ef6\uff0c\u89e6\u53d1\u4e8b\u4ef6\u3002\u975e\u5e38\u53cb\u597d\u7684\u89e3\u51b3\u4e86\u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u7684\u95ee\u9898\uff0c\u4e5f\u4e0d\u7528\u5f15\u5165event Bus\u6216\u8005vuex\u8fd9\u4e9b\u89e3\u51b3\u65b9\u6848\uff0c\u5f15\u5165\u8fd9\u4e9b\u53cd\u800c\u4f1a\u5bfc\u81f4\u7ec4\u4ef6\u4e0d\u597d\u4f7f\u7528\u4e86\u3002\\n\\n\\n  ### 4.vuex\u5168\u5c40\u72b6\u6001\u7ba1\u7406\\n\\n  ### 5. provide\u3001inject\\n\\n  ### 6. \u8def\u7531\u7ec4\u4ef6\u4f20\u53c2\uff0c\u5728\u8def\u7531\u4e0a\u5b9a\u4e49\u7684prop\u53c2\u6570\\n\\n  ### 7.localStorage\u524d\u7aef\u7f13\u5b58\uff0c\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u53ef\u4ee5\u83b7\u53d6\u6570\u636e\uff0c\u4e5f\u662f\u4e00\u4e2a\u901a\u4fe1\u65b9\u5f0f\\n\\n  ### 8.\u4f5c\u7528\u57df\u63d2\u69fd\\n\\n  ## React\\n  react \u7684\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f\uff0c\u4e0d\u50cfvue\u90a3\u6837\u8981\u5b9a\u4e49\u4e2aprop\u7136\u540e\u518d\u4f20\u9012\u5565\u4e1c\u897f\u3002\\n\\n  ### 1.\u7236\u5b50\u7ec4\u4ef6\u901a\u8baf\\n\\n  \u76f4\u63a5\u5728\u7236\u7ec4\u4ef6\u5199\u4f20\u9012\u7684\u5b57\u6bb5\uff0c\u5b50\u7ec4\u4ef6\u901a\u8fc7props\u6765\u76f4\u63a5\u4f7f\u7528\u7236\u7ec4\u4f20\u8fc7\u6765\u7684\u53c2\u6570\uff0c\u5f53\u7136\u8fd9\u4e2aprops\u4e5f\u662f\u53ef\u4ee5\u5728\u5b50\u7ec4\u4ef6\u5b9a\u4e49\u597d\u7c7b\u578b\u7684\uff0c\u8fd9\u4e9b\u4e0d\u518d\u8ba8\u8bba\u7684\u8303\u56f4\u5185\u3002\\n\\n  \u5b50\u7ec4\u4ef6\u60f3\u8981\u8ddf\u7236\u7ec4\u4ef6\u901a\u8baf\u4e5f\u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u901a\u8fc7`this.props`\u8c03\u7528\u7236\u7ec4\u4ef6\u7684\u51fd\u6570\u5c31\u53ef\u4ee5\u4e86\uff0c\u524d\u63d0\u662f\u7236\u7ec4\u4ef6\u9700\u8981\u4e0a\u5b9a\u4e49\u597d\u8fd9\u4e2a\u4e8b\u4ef6\u540d\u3002\\n\\n  ### 2.\u5144\u5f1f\u7ec4\u4ef6\u7684\u901a\u8baf\\n  \u4ece\u7f51\u4e0a\u641c\u7d22\u5230\u7ed3\u679c\u662f\u4e00\u4e2a\u7ec4\u4ef6\u76f4\u63a5\u4fee\u6539\u7236\u7ec4\u4ef6\u7684props\u7684\u503c\uff0c\u7136\u540e\u7236\u7ec4\u4ef6\u7684props\u4f20\u9012\u7ed9\u53e6\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u7684\u53c2\u6570\u5c31\u4f1a\u53d1\u751f\u6539\u53d8\uff0c\u5176\u5b9e\u5c31\u662f\u628a\u7236\u7ec4\u4ef6\u53d8\u6210\u4e86\u6865\u63a5\u3002\\n\\n  ### 3.\u591a\u5c42\u7ea7\u7684\u7ec4\u4ef6\u901a\u8baf\\n\\n  \u4e5f\u662f\u7f51\u4e0a\u641c\u5230\u7684\u89e3\u51b3\u65b9\u6848\u662f\uff0c\u9876\u5c42\u7236\u7ec4\u4ef6\u8bbe\u7f6econtext\uff0c\u5b50\u7ec4\u4ef6\u63a5\u53d7\u8fd9\u4e2acontext\u7684\u65b9\u5f0f\uff0c\uff08\u5b98\u7f51\u6587\u6863\u6709\u5199\u8fd9\u4e2a\u90e8\u5206\u7684\u5b9e\u73b0\uff09\u3002\u5c31\u7b97\u8fd9\u91cc\u9762\u6709\u5f88\u591a\u4e2a\u7ec4\u4ef6\u7684\u5c42\u7ea7\u90fd\u4e0d\u9700\u8981\u6bcf\u5c42\u90fd\u4f20\u9012\u4e86props\u4e86\\n\\n  \u5f53\u7136\u4e5f\u662f\u53ef\u4ee5\u901a\u8fc7redux\u8fd9\u4e9b\u65b9\u6848\u7684"},{"id":"/2019/table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e","metadata":{"permalink":"/blog/2019/table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e.md","source":"@site/blog/2019/table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e.md","title":"table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e","description":"table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e, \u5b8c\u7f8e\u89e3\u51b3\u8fb9\u6846\u7684\u95ee\u9898","date":"2019-01-08T22:28:08.000Z","formattedDate":"2019\u5e741\u67088\u65e5","tags":[{"label":"css","permalink":"/blog/tags/css"}],"readingTime":0.255,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e","date":"2019-01-08T22:28:08.000Z","tags":["css"]},"prevItem":{"title":"vue\u3001react \u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f","permalink":"/blog/2019/vue\u3001react-\u591a\u5c42\u7ea7\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f"},"nextItem":{"title":"vue \u7ec4\u4ef6\u76d1\u542c\u51fd\u6570\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570","permalink":"/blog/2019/vue-\u5143\u7d20\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570"}},"content":"## table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e, \u5b8c\u7f8e\u89e3\u51b3\u8fb9\u6846\u7684\u95ee\u9898\\n\\n```\\ntd {\\n    border:solid #ddd;\\n    border-width:0px 1px 1px 0px;\\n    padding: 0px;\\n    min-width: 75px;\\n    height: 50px;\\n}\\ntable {\\n    border:solid #ddd;\\n    border-width:1px 0px 0px 1px;\\n    font-size: 13px;\\n    text-align: center;\\n    cellspacing: 0;\\n    cellpadding: 0;\\n}\\n\\n```"},{"id":"/2019/vue-\u5143\u7d20\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570","metadata":{"permalink":"/blog/2019/vue-\u5143\u7d20\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/vue-\u5143\u7d20\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570.md","source":"@site/blog/2019/vue-\u5143\u7d20\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570.md","title":"vue \u7ec4\u4ef6\u76d1\u542c\u51fd\u6570\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570","description":"vue \u7236\u7ec4\u4ef6\u76d1\u542c\u5b50\u7ec4\u4ef6\u7684\u65b9\u6cd5\uff0c\u7236\u7ec4\u4ef6\u5b9a\u4e49\u7684\u65b9\u6cd5\u6dfb\u52a0\u989d\u5916\u53c2\u6570\u8f6c\u6362","date":"2019-01-08T22:27:50.000Z","formattedDate":"2019\u5e741\u67088\u65e5","tags":[{"label":"vue","permalink":"/blog/tags/vue"}],"readingTime":0.345,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"vue \u7ec4\u4ef6\u76d1\u542c\u51fd\u6570\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570","date":"2019-01-08T22:27:50.000Z","tags":["vue"]},"prevItem":{"title":"table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e","permalink":"/blog/2019/table\u7684\u8868\u683c\u8fb9\u6846\u8bbe\u7f6e"},"nextItem":{"title":"react HOC","permalink":"/blog/2019/react-HOC"}},"content":"## vue \u7236\u7ec4\u4ef6\u76d1\u542c\u5b50\u7ec4\u4ef6\u7684\u65b9\u6cd5\uff0c\u7236\u7ec4\u4ef6\u5b9a\u4e49\u7684\u65b9\u6cd5\u6dfb\u52a0\u989d\u5916\u53c2\u6570\u8f6c\u6362\\n\\n```\\n   <DatePicker :editable=\\"false\\" type=\\"datetime\\" @on-change=\\"(...args) => getTime(\'signTime\', ...args)\\" placeholder=\\"\u9009\u62e9\u65f6\u95f4\\" format=\\"yyyy-MM-dd HH:mm\\" v-model=\\"formData.signTime\\"></DatePicker>\\n```\\n\\n\u4f7f\u7528 `=> `\u51fd\u6570\uff0c\u91cd\u65b0\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u5e76\u4e14\u62fc\u63a5\u65b0\u7684\u5f62\u53c2\u5373\u53ef"},{"id":"/2019/react-HOC","metadata":{"permalink":"/blog/2019/react-HOC","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2019/react-HOC.md","source":"@site/blog/2019/react-HOC.md","title":"react HOC","description":"react HOC \u9ad8\u9636\u7ec4\u4ef6\u7684\u7406\u89e3","date":"2019-01-08T22:27:18.000Z","formattedDate":"2019\u5e741\u67088\u65e5","tags":[{"label":"react","permalink":"/blog/tags/react"}],"readingTime":0.485,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"react HOC","date":"2019-01-08T22:27:18.000Z","tags":["react"]},"prevItem":{"title":"vue \u7ec4\u4ef6\u76d1\u542c\u51fd\u6570\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570","permalink":"/blog/2019/vue-\u5143\u7d20\u4e0a\u6dfb\u52a0\u989d\u5916\u53c2\u6570"},"nextItem":{"title":"vue-ssr \u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6","permalink":"/blog/2018/vue-ssr-\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6"}},"content":"## react HOC \u9ad8\u9636\u7ec4\u4ef6\u7684\u7406\u89e3\\n\\n   \u5982react\u6587\u6863\u4e2d\u6240\u8bf4\u7684hoc\u53ea\u662f\u4e00\u79cd\u6a21\u5f0f\uff0c\u8fd9\u4e2a\u7ec4\u4ef6\u63a5\u6536\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\\n   \u8fd9\u6837\u7684\u8bdd\u53ef\u4ee5\u628a\u4e00\u4e9b\u516c\u5171\u7684\u65b9\u6cd5\u6216\u8005\u53d8\u91cf\u653e\u5728hoc\u4e2d\uff0c\u5728\u9700\u8981\u7684\u9875\u9762\uff0c\u5f15\u5165hoc\u7ec4\u4ef6\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u9875\u9762\u5185\u90e8\u4f7f\u7528\u8fd9\u4e9b\u516c\u5171\u7684\u4e1c\u897f\u4e86"},{"id":"/2018/vue-ssr-\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6","metadata":{"permalink":"/blog/2018/vue-ssr-\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2018/vue-ssr-\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6.md","source":"@site/blog/2018/vue-ssr-\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6.md","title":"vue-ssr \u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6","description":"2018-12-27","date":"2018-12-27T00:09:21.000Z","formattedDate":"2018\u5e7412\u670827\u65e5","tags":[{"label":"ssr","permalink":"/blog/tags/ssr"}],"readingTime":0.57,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"vue-ssr \u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6","date":"2018-12-27T00:09:21.000Z","tags":["ssr"]},"prevItem":{"title":"react HOC","permalink":"/blog/2019/react-HOC"},"nextItem":{"title":"\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe","permalink":"/blog/2018/\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe"}},"content":"## 2018-12-27\\n 1.window is not defined\\n\\n  \u7f51\u4e0a\u641c\u7d22\u540e\u5f97\u51fa\u7684\u7ed3\u8bba\u662f\u670d\u52a1\u7aef\u6e32\u67d3\u4e0d\u80fd\u64cd\u4f5cdom\u7684\uff0c\u6216\u8005\u4e0d\u80fd\u64cd\u4f5cwindow\u7684api\uff0c\u7136\u540e\u6392\u67e5\u4e86\u4e0b\uff0c\u53d1\u73b0\u9879\u76ee\u7528\u4e86flexible.js\uff0c\u8fd9\u4e2a\u5e93\u4f1a\u64cd\u4f5chtml\u6539\u53d8\u5c5e\u6027\u3002\\n\\n  \u89e3\u51b3\u65b9\u6cd5\\n  \u5728\u7528\u5230\u7684\u5730\u65b9\\n  ```\\n  if (typeof window !== \'undefined\') {\\n    require(\'lib-flexible\') /*\u4f7f\u7528require\u7684\u65b9\u5f0f\u52a0\u8f7d\u4f60\u7684\u6587\u4ef6*/\\n  }\\n  ```\\n  \u8fd9\u6837\u91cd\u65b0\u7f16\u8bd1\u540e\uff0c\u5c31\u4e0d\u4f1a\u62a5\u9519\u4e86\uff0c\u9875\u9762\u4e5f\u5c31\u80fd\u6b63\u5e38\u6253\u5f00\u4e86"},{"id":"/2018/\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe","metadata":{"permalink":"/blog/2018/\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2018/\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe.md","source":"@site/blog/2018/\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe.md","title":"\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe","description":"img \u6dfb\u52a0\u5e95\u56fe","date":"2018-12-26T20:53:08.000Z","formattedDate":"2018\u5e7412\u670826\u65e5","tags":[],"readingTime":0.1,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe","date":"2018-12-26T20:53:08.000Z","tags":[]},"prevItem":{"title":"vue-ssr \u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6","permalink":"/blog/2018/vue-ssr-\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898\u6536\u96c6"},"nextItem":{"title":"iconfont\u7528\u6cd5","permalink":"/blog/2018/iconfont\u7528\u6cd5"}},"content":"## img \u6dfb\u52a0\u5e95\u56fe\\n  ```\\n  .img {\\n    background: // \u5e95\u56febase64\u6570\u636e\\n    background-size: 60% auto\\n  }\\n  ```"},{"id":"/2018/iconfont\u7528\u6cd5","metadata":{"permalink":"/blog/2018/iconfont\u7528\u6cd5","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2018/iconfont\u7528\u6cd5.md","source":"@site/blog/2018/iconfont\u7528\u6cd5.md","title":"iconfont\u7528\u6cd5","description":"\u963f\u91cc\u5df4\u5df4\u5c3a\u91cf\u56fe iconfont\u7684\u53e6\u4e00\u79cd\u4f7f\u7528\u65b9\u6cd5","date":"2018-12-26T20:49:51.000Z","formattedDate":"2018\u5e7412\u670826\u65e5","tags":[],"readingTime":1.215,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"iconfont\u7528\u6cd5","date":"2018-12-26T20:49:51.000Z","tags":[]},"prevItem":{"title":"\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe","permalink":"/blog/2018/\u56fe\u7247\u6dfb\u52a0\u9ed8\u8ba4\u5e95\u56fe"},"nextItem":{"title":"vue-ssr \u90e8\u7f72\u5230\u670d\u52a1\u5668","permalink":"/blog/2018/vue-ssr-\u90e8\u7f72\u5230\u670d\u52a1\u5668"}},"content":"## \u963f\u91cc\u5df4\u5df4\u5c3a\u91cf\u56fe iconfont\u7684\u53e6\u4e00\u79cd\u4f7f\u7528\u65b9\u6cd5\\n  \u5b98\u65b9\u6587\u6863\u8bf4\u7684\u4e24\u4e2a\u65b9\u6cd5 \\n  1. unicode\u5f15\u7528 \\n  2. font-class\u5f15\u7528 \\n\x3c!--truncate--\x3e\\n\\n  \u73b0\u5728\u8bf4\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u8ddf\u7b2c\u4e00\u79cd\u65b9\u6cd5\u7c7b\u4f3c \\n  1.\u62f7\u8d1d\u9879\u76ee\u4e0b\u9762\u751f\u6210\u7684`font-face`\\n    ```\\n    @font-face {\\n      font-family: \'iconfont\';\\n      ...\\n    }\\n    ```\\n\\n  2.\u5b9a\u4e49\u4f7f\u7528iconfont\u7684\u6837\u5f0f\\n  ```\\n  .iconfont{\\n    font-family:\\"iconfont\\" !important;\\n    font-size:16px;font-style:normal;\\n    -webkit-font-smoothing: antialiased;\\n    -webkit-text-stroke-width: 0.2px;\\n    -moz-osx-font-smoothing: grayscale;\\n  }\\n  ```\\n\\n  3.\u5199\u5bf9\u5e94icon\u56fe\u7247\u7684class\\n  ```\\n  .icon-back:before {\\n    content: \\"\\\\e63e\\"; /* \u539f\u59cb\u7684\u56fe\u6807\u6587\u672c\u662f\u8fd9\u4e2a &#xe62f; \u628ae\u524d\u9762\u7684\u90fd\u53bb\u6389\u52a0\u4e0a\'\\\\\'\uff0c\u540c\u65f6\u53bb\u6389 \';\' \u5373\u53ef*/\\n  }\\n  ```\\n 4.\u5982\u4f55\u4f7f\u7528\\n ```\\n <i class=\\"iconfont icon-back\\"></i>\\n ```\\n\\n### \u4f18\u70b9\\n\u8fd9\u4e2a\u65b9\u5f0f\u53ea\u9700\u8981\u8981class\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u5728\u7528\u5230\u7684\u6807\u7b7e\u4e0a\u4e00\u76f4\u6dfb\u52a0\u56fe\u6807\u7684\u6587\u672c\uff0c\u800c\u5b98\u7f51\u7684\u6587\u6863\u6b63\u662f\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5982\u679c\u5f88\u591a\u5730\u65b9\u90fd\u7528\u4e86\u540c\u4e00\u4e2aicon\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\u7684\u56fe\u6807\u65f6\u5019\u5219\u9700\u8981\u4e00\u4e2a\u4e2a\u7684\u53bb\u4fee\u6539\uff0c\u800c\u8fd9\u4e2a\u65b9\u5f0f\u53ea\u9700\u8981\u6539class\u7684content\u5373\u53ef\uff0c\u53ef\u7ef4\u62a4\u6027\u5f88\u597d"},{"id":"/2018/vue-ssr-\u90e8\u7f72\u5230\u670d\u52a1\u5668","metadata":{"permalink":"/blog/2018/vue-ssr-\u90e8\u7f72\u5230\u670d\u52a1\u5668","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2018/vue-ssr-\u90e8\u7f72\u5230\u670d\u52a1\u5668.md","source":"@site/blog/2018/vue-ssr-\u90e8\u7f72\u5230\u670d\u52a1\u5668.md","title":"vue-ssr \u90e8\u7f72\u5230\u670d\u52a1\u5668","description":"vue-ssr \u90e8\u7f72\u4e0a\u7ebf","date":"2018-12-17T22:11:40.000Z","formattedDate":"2018\u5e7412\u670817\u65e5","tags":[{"label":"ssr","permalink":"/blog/tags/ssr"}],"readingTime":1.59,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"vue-ssr \u90e8\u7f72\u5230\u670d\u52a1\u5668","date":"2018-12-17T22:11:40.000Z","tags":["ssr"]},"prevItem":{"title":"iconfont\u7528\u6cd5","permalink":"/blog/2018/iconfont\u7528\u6cd5"},"nextItem":{"title":"\u5c0f\u7a0b\u5e8f\u8e29\u5751-\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898","permalink":"/blog/2018/\u5c0f\u7a0b\u5e8f\u8e29\u5751\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898"}},"content":"## vue-ssr \u90e8\u7f72\u4e0a\u7ebf\\n \u5b66\u4e60\u4e86\u8fd9\u4e48\u4e45\uff0c\u7ec8\u4e8e\u90e8\u7f72\u4e0a\u7ebf\uff0c\u5728\u5916\u7f51\u4e5f\u80fd\u8bbf\u95ee\u81ea\u5df1\u7684\u7f51\u7ad9\u4e86\uff0c\u8fd9\u4e00\u523b\u7684\u611f\u89c9\u5f88\u5174\u594b\u5f88\u5f00\u5fc3\uff0c\u8bf4\u8bf4\u9700\u8981\u7684\u73af\u5883\u6216\u8005\u9047\u5230\u7684\u5751\\n\\n## 1 \u57df\u540d\\n  \u914d\u597d\u57df\u540d\uff0c\u80fd\u6b63\u5e38\u89e3\u6790\u3002\u5176\u4ed6\u4ec0\u4e48\u5b9e\u540d\u5236\u5c31\u4e0d\u8bf4\u4e86\u3002\u7136\u540e\u89e3\u6790\u5bf9\u5e94\u7684\u670d\u52a1\u5668ip\u5730\u5740\\n\\n## 2 \u670d\u52a1\u5668\\n \u4e00\u822c\u6709\u5e26node\u7684\uff0c\u4f46\u662f\u7248\u672c\u592a\u4f4e\u4e86\u3002\u5fc5\u987b\u8981\u5347\u7ea7\\n \u8bf4\u8bf4\u7f51\u4e0a\u641c\u5230\u7684\u6709\u7528\u529e\u6cd5\uff0c\u4ec5\u9650\u6211\u81ea\u5df1\u6709\u7528\uff0c\u5176\u4ed6\u4eba\u6211\u4e0d\u77e5\u9053\u3002\\n  1. \u5b89\u88c5n\\n\\n    ```\\n    npm install -g n\\n    ```\\n\\n  2.\u5b89\u88c5\u6700\u65b0node\u7248\u672c\\n    ```\\n    n latest\\n    ```\\n  3. \u8fd9\u4e2a\u65f6\u5019`node -v`\u5e94\u8be5\u8fd8\u662f\u65e7\u7248\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u5fc5\u987b\u8981\u53bb\u91cd\u542f\u4e00\u4e0b\u670d\u52a1\u5668\uff0c\u91cd\u542f\u5b8c\uff0c\u67e5\u770b\u7248\u672c\u5c31\u662f\u6700\u65b0\u7684\u4e86\\n\\n  4. \u5728\u817e\u8baf\u4e91\u540e\u53f0\u7cfb\u7edf\u90a3\u8fb9\uff0c\u8981\u914d\u7f6e\u597d\u670d\u52a1\u5668\u7684\u5b89\u5168\u7ec4\uff0c\u6dfb\u52a0\u4f60\u7684\u5f00\u653e\u7aef\u53e3\\n## 3 \u4ee3\u7801\u5305\\n  \u4e0b\u8f7d\u9879\u76ee\u7684git\u5305\u5230\u670d\u52a1\u5668\uff0c\u7136\u540e\u4e0b\u8f7d\u597d\u9879\u76ee\u6240\u9700\u7684npm\u5305\uff0c\u7136\u540e\uff0c\u6253\u5305\u597d\u9879\u76ee\uff0c\u8fd0\u884c`pm2 start pm2.yml`\\n  \u670d\u52a1\u5c31\u8dd1\u8d77\u6765\u4e86\uff0c\u5efa\u8bae\u67e5\u770b`pm2 ls`\u770b\u770b\u9879\u76ee\u6709\u6ca1\u6709\u95ee\u9898\uff0c\u6211\u7684\u5c31\u662f\u67e5\u770b\u5230\u9879\u76ee\u6709error\u4e86\uff0c\u6240\u4ee5ip+\u7aef\u53e3\u8bbf\u95ee\u4e0d\u4e86\u9879\u76ee"},{"id":"/2018/\u5c0f\u7a0b\u5e8f\u8e29\u5751\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898","metadata":{"permalink":"/blog/2018/\u5c0f\u7a0b\u5e8f\u8e29\u5751\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2018/\u5c0f\u7a0b\u5e8f\u8e29\u5751\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898.md","source":"@site/blog/2018/\u5c0f\u7a0b\u5e8f\u8e29\u5751\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898.md","title":"\u5c0f\u7a0b\u5e8f\u8e29\u5751-\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898","description":"\u5c0f\u7a0b\u5e8f\u9879\u76ee\u6700\u8fd1\u8981\u6539\u7248\uff0c\u5e95\u90e8\u662ftab\u5bfc\u822a\u680f\uff0c\u5bf9\u5e94\u5207\u6362\u5404\u4e2a\u9875\u9762\u3002\u8fd9\u6837\u7684\u9700\u6c42\u770b\u8d77\u6765\u4e5f\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u5c31\u914d\u7f6e\u4e2atabbar\uff0c\u7136\u540e\u6539\u6539ui\u5c31\u53ef\u4ee5\u3002\u4f46\u662f\u6709\u4e2atab\u6bd4\u8f83\u7279\u6b8a\uff0c\u662f\u626b\u4e00\u626b\u529f\u80fd\u3002","date":"2018-04-09T20:53:08.000Z","formattedDate":"2018\u5e744\u67089\u65e5","tags":[{"label":"\u5c0f\u7a0b\u5e8f","permalink":"/blog/tags/\u5c0f\u7a0b\u5e8f"}],"readingTime":7.15,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5c0f\u7a0b\u5e8f\u8e29\u5751-\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898","date":"2018-04-09T20:53:08.000Z","tags":["\u5c0f\u7a0b\u5e8f"]},"prevItem":{"title":"vue-ssr \u90e8\u7f72\u5230\u670d\u52a1\u5668","permalink":"/blog/2018/vue-ssr-\u90e8\u7f72\u5230\u670d\u52a1\u5668"},"nextItem":{"title":"\u79fb\u52a8\u7aefIOS\u6eda\u52a8\u95ee\u9898","permalink":"/blog/2018/\u79fb\u52a8\u7aefIOS\u6eda\u52a8\u95ee\u9898"}},"content":"\u5c0f\u7a0b\u5e8f\u9879\u76ee\u6700\u8fd1\u8981\u6539\u7248\uff0c\u5e95\u90e8\u662ftab\u5bfc\u822a\u680f\uff0c\u5bf9\u5e94\u5207\u6362\u5404\u4e2a\u9875\u9762\u3002\u8fd9\u6837\u7684\u9700\u6c42\u770b\u8d77\u6765\u4e5f\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u5c31\u914d\u7f6e\u4e2atabbar\uff0c\u7136\u540e\u6539\u6539ui\u5c31\u53ef\u4ee5\u3002\u4f46\u662f\u6709\u4e2atab\u6bd4\u8f83\u7279\u6b8a\uff0c\u662f\u626b\u4e00\u626b\u529f\u80fd\u3002\\r\\nui\u6548\u679c\u56fe\\r\\n![image](../images/xiaochengxu.png)\\r\\n\u4e2d\u95f4\u6a59\u8272\u90e8\u5206\u4e3a\u626b\u4e00\u626b\\r\\n## \u65e0\u6cd5\u6309\u7167\u8bbe\u8ba1\u56fe\u7684tab\u4e2d\u95f4\u56fe\u7247\u9700\u8981\u7a81\u51fa\u7684\u6548\u679c\\r\\n \u56e0\u4e3a\u7528\u7684\u5c0f\u7a0b\u5e8f\u63d0\u4f9b\u7684tabbar\u5bfc\u822a\u680f\uff0c\u53ea\u80fd\u5728app.json\u6587\u4ef6\u914d\u7f6e\u4e00\u4e9btab\u7684\u56fe\u6807\u548c\u6587\u5b57\uff0c\u6240\u4ee5\u6ca1\u6709\u529e\u6cd5\u5728tabbar\u91cc\u9762\u505a\u5230\u79fb\u52a8\u56fe\u7247\u7684\u4f4d\u7f6e\u3002\u867d\u7136\u4e5f\u6709\u5728\u7f51\u4e0a\u627e\u5230\u81ea\u5b9a\u4e49tabbar\uff0c\u4f46\u662f\u5f15\u5165\u8fdb\u6765\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u5de5\u5177\u76f4\u63a5\u62a5\u9519\u4e86\uff0c\u770b\u5230\u7684github issue\u4e5f\u6709\u4eba\u63d0\u51fa\u95ee\u9898\uff0c\u4e0d\u8fc7\u4f5c\u8005\u8fd8\u6ca1\u89e3\u51b3\u3002\u6240\u4ee5\u8fd9\u4e2aui\u6548\u679c\u53ea\u80fd\u653e\u5f03\u3002\\r\\n\x3c!--truncate--\x3e\\r\\n\\r\\n## \u70b9\u51fb\u4e2d\u95f4tab\u9700\u8981\u76f4\u63a5\u8c03\u8d77\u626b\u4e00\u626b\\r\\n\u6211\u7684\u505a\u6cd5\u662f\u70b9\u51fb\u4e2d\u95f4tab\uff0c\u8df3\u5230\u4e00\u4e2a\u7a7a\u767d\u9875\uff0c\u9875\u9762\u76d1\u542c`onTabItemTap`\u4e8b\u4ef6\uff0c\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u91cc\u9762\uff0c\u76f4\u63a5\u8c03\u8d77\u626b\u4e00\u626b\u3002\\r\\n\\r\\n## \u5728\u626b\u4e00\u626b\u754c\u9762\u70b9\u51fb\u5de6\u4e0a\u89d2\u8fd4\u56de\uff0c\u9700\u8981\u8fd4\u56de\u524d\u4e00\u4e2a\u9875\u9762\\r\\n\u610f\u601d\u5c31\u662f\u5f53\u524d\u5728\u7b2c\u4e00\u4e2atab\uff0c\u7136\u540e\u70b9\u51fb\u4e86\u4e2d\u95f4\u7684\u626b\u4e00\u626b\uff0c\u8fd9\u4e2a\u65f6\u5019\u70b9\u4e86\u8fd4\u56de\uff0c\u9875\u9762\u9700\u8981\u8fd4\u56de\u7b2c\u4e00\u4e2atab\u3002\u660e\u767d\u4e86\u9700\u6c42\u80af\u5b9a\u5c31\u662f\u67e5\u600e\u4e48\u53bb\u76d1\u542c\u8fd9\u4e2a\u8fd4\u56de\u64cd\u4f5c\uff0c\u76f4\u63a5\u7f51\u4e0a\u641c\uff0c\u6709\u8bf4\u5230\u901a\u8fc7\u9875\u9762\u7684\u751f\u547d\u5468\u671f\u51fd\u6570`onShow`\u3002\u5728\u4e2d\u7ea7tab\u9875\u7684\u5199\u4e86`onShow`,\u626b\u4e00\u626b\u8fd4\u56de\u7684\u65f6\u5019\u7684\u786e\u89e6\u53d1\u4e86`onShow`\uff0c\u6240\u4ee5\u4ee5\u4e3a\u7b80\u5355\u4e86\u3002\u5c31\u5728\u8c03\u8d77\u626b\u4e00\u626b\uff0c\u4e4b\u524d\u8bbe\u7f6e\u4e86\u4e00\u4e2astorage\u7684key\u503c\uff0c\u4f5c\u7528\u7c7b\u4f3capp\u7684\u5168\u5c40\u53d8\u91cf\u610f\u601d\u3002\u53ea\u8981\u5728`onShow`\u91cc\u9762\u5224\u65ad\u8fd9\u4e2a\u6807\u5fd7\u4f4d\uff0c\u5c31\u53bb\u8df3\u8f6c\u9875\u9762\u3002\u5f53\u524d\u5207\u6362tab\u7684\u65f6\u5019\uff0c\u4e5f\u662f\u9700\u8981\u901a\u8fc7storage\u6765\u4fdd\u5b58\u9875\u9762\u7684url\u7684\uff0c\u8fd9\u6837\u5230\u65f6\u5c31\u80fd\u76f4\u63a5\u4f7f\u7528`wx.switch`\u6765\u8df3\u4e86\uff08`\u7279\u522b\u8bf4\u660e\u4e0b\uff0c\u8df3\u8f6ctab\u7684\u9875\u9762\u53ea\u80fd\u4f7f\u7528wx.switch\u6765\u8df3\u8f6c\uff0c\u8fd9\u4e2a\u5728\u5c0f\u7a0b\u5e8f\u7684\u6587\u6863\u4e5f\u6709\u8bf4\u660e`\uff09\u3002\u524d\u9762\u5df2\u7ecf\u80fd\u5b9e\u73b0\u5728\u626b\u4e00\u626b\u754c\u9762\u6309\u8fd4\u56de\u53ef\u4ee5\u8df3\u56de\u4e0a\u4e00\u4e2a\u524d\u9762\u4e86\u3002\u90a3\u4e48\u63a5\u4e0b\u6765\u5c31\u662f\u626b\u7801\u540e\u7684\u5904\u7406\u4e86\u3002\u9879\u76ee\u626b\u7801\u6210\u529f\u540e\uff0c\u4f1a\u8c03\u7528\u63a5\u53e3\uff0c\u7136\u540e\u5224\u65ad\u4e00\u4e0b\u7801\u662f\u4e0d\u662f\u6b63\u786e\u4e4b\u7c7b\u7684\u5904\u7406\u3002\u662f\u6b63\u786e\u7684\u4e8c\u7ef4\u7801\u65f6\uff0c\u5c31\u8df3\u8f6c\u5230\u652f\u4ed8\u9875\u3002\u5165\u5751\u5f00\u59cb\u3002\u3002\u3002\u3002\\r\\n\\r\\n\u6211\u53d1\u73b0\u5728\u626b\u7801\u6210\u529f\u65f6\u4f1a\u5148\u8df3\u5230\u524d\u4e00\u4e2a\u9875\u9762\uff0c\u7136\u540e\u6570\u636e\u8bf7\u6c42\u5b8c\u6210\u65f6\uff0c\u518d\u8df3\u5230\u652f\u4ed8\u9875\u3002\u8fd9\u6837\u7684\u60c5\u51b5\u6211\u89c9\u5f97\u662f\u4e2a\u95ee\u9898\uff0c\u867d\u7136\u6ca1\u6709\u95ee\u8fc7\u4ea7\u54c1\u8fd9\u6837\u505a\u662f\u5426\u4e5f\u53ef\u4ee5\u3002\u6bd5\u7adf\u6bcf\u6b21\u90fd\u8df3\u56de\u524d\u4e00\u4e2a\u9875\u9762\uff0c\u4ea4\u4e92\u4f53\u9a8c\u611f\u975e\u5e38\u4e0d\u597d\u3002 \u7136\u540e\u5c31\u5f00\u59cb\u627e\u539f\u56e0\u3002\u7136\u540e\u53d1\u73b0\uff0c\u626b\u4e8c\u7ef4\u7801\u7684\u65f6\u5019\uff0c\u4e2d\u95f4\u9875\u9762\u7684`onShow`\u7adf\u7136\u4e5f\u89e6\u53d1\u4e86\uff0c\u5bfc\u81f4\u8ddf\u5728\u626b\u4e00\u626b\u754c\u9762\u6309\u8fd4\u56de\u7684\u60c5\u51b5\u4e00\u6837\u4e86\u3002\u8fd9\u6837\u903b\u8f91\u5c31\u91cd\u53e0\u4e86\u3002\u6309\u6b63\u5e38\u903b\u8f91\u80af\u5b9a\u662f\u60f3\u626b\u4e8c\u7ef4\u7801\u7684\u65f6\u5019\u4e5f\u8bbe\u7f6e\u4e00\u4e2a\u72b6\u6001\uff0c\u7136\u540e\u5728onshow\u8fd9\u8fb9\u5224\u65ad\u4e00\u4e0b\u5c31\u53ef\u4ee5\u3002\u7136\u800c\u5e76\u6ca1\u6709\u8fd9\u4e48\u7b80\u5355\uff0c\u6211\u5c1d\u8bd5\u4e86\u53d1\u73b0\u6839\u672c\u5c31\u6ca1\u6709\u5730\u65b9\u8bbe\u7f6e\u8fd9\u4e2a\u503c\u3002\\r\\n```\\r\\nwx.scanCode({\\r\\n  success: (res) => {\\r\\n    console.log(res)\\r\\n  }\\r\\n})\\r\\n```\\r\\n\u4e0a\u9762\u662f\u6587\u6863\u7ed9\u51fa\u7684demo\uff0c\u6211\u5728success\u7684\u65f6\u5019\u8bbe\u7f6e\u72b6\u6001\u662f\u6ca1\u6709\u4efb\u4f55\u4f5c\u7528\u7684\uff0c\u611f\u89c9success\u6ca1\u6709\u5f00\u59cb\uff0c`onShow`\u5df2\u7ecf\u89e6\u53d1\u4e86\u3002\u7136\u540e\u8fd9\u91cc\u611f\u89c9\u6211\u88ab\u903b\u8f91\u7ed5\u6655\u4e86\uff0c\u7136\u540e\u91cd\u65b0\u5728\u7eb8\u4e0a\u753b\u903b\u8f91\u56fe\u3002\u53d1\u73b0\u626b\u4e00\u626b\u754c\u9762\u6309\u8fd4\u56de\u4ee5\u53ca\u626b\u7801\u6210\u529f\u65f6\u72b6\u6001\u503c\u662f\u4e00\u6837\u7684\uff0c\u56e0\u4e3a\u626b\u7801\u6210\u529f\u6ca1\u6709\u5730\u65b9\u8bbe\u7f6e\u72b6\u6001\u3002\u8fd9\u6837\u96be\u9053\u610f\u5473\u7740\u8fd9\u4e2a\u95ee\u9898\u65e0\u6cd5\u89e3\u51b3\u4e86\uff1f\u8fd9\u6837\u95ee\u9898\u5728\u7f51\u4e0a\u641c\u7d22\u4e5f\u6ca1\u6709\u4efb\u4f55\u76f8\u5173\u7684\u3002\u90a3\u53ea\u80fd\u81ea\u5df1\u7ee7\u7eed\u770b\u770b\u5c0f\u7a0b\u5e8f\u7684\u6587\u6863\u4e86\uff0c\u7136\u540e\u5c31\u662f\u5404\u79cd\u5c1d\u8bd5\u5427\u3002\u5728\u6587\u6863\u4e2d\u770b\u7740\u9875\u9762\u7684\u8df3\u8f6c\u4f1a\u89e6\u53d1\u9875\u9762\u5bf9\u5e94\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\uff0c\u4e5f\u4e0d\u65ad\u7684\u5c1d\u8bd5\uff0c\u6700\u7ec8\u90fd\u6ca1\u6709\u89e3\u51b3\u3002\u6700\u540e\u5728`wx.scanCode`api\u4e2d\u770b\u4e86\u770b\uff0c\u8bd5\u4e86\u8bd5\u5bf9\u5e94\u7684\u51fd\u6570\uff0c\u6bd4\u5982complete\uff0c\u7a81\u7136\u53d1\u73b0\u597d\u50cf\u6309\u8fd4\u56de\u7684\u65f6\u5019\uff0ccomplete\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u89e6\u53d1\u4e86\uff0c\u7136\u540e\u6211\u5c31\u7528fail\u56de\u8c03\u51fd\u6570\uff0c\u795e\u5947\u7684\u7ed3\u679c\uff0c\u5728\u9875\u9762\u626b\u4e00\u626b\u7684\u65f6\u5019\u70b9\u51fb\u8fd4\u56de\u4f1a\u89e6\u53d1\u8fd9\u4e2afail\u51fd\u6570\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u53ea\u9700\u8981\u5728fail\u7684\u65f6\u5019\u53bb\u8df3\u8f6c\u5230\u524d\u4e00\u4e2a\u9875\u9762\u5c31\u53ef\u4ee5\u4e86\uff0c`onShow`\u91cc\u9762\u5c31\u4e0d\u5904\u7406\u4efb\u4f55\u4e1c\u897f\u4e86\u3002\u8fd9\u6837\u80fd\u907f\u514d\u5728\u626b\u7801\u6210\u529f\u65f6\u4f1a\u5148\u8df3\u5230\u524d\u4e00\u4e2a\u9875\u9762\uff0c\u7136\u540e\u518d\u8df3\u5230\u652f\u4ed8\u9875\u9762\u3002\u8c03\u8bd5\u4e86\u4ee3\u7801\uff0c\u95ee\u9898\u5b8c\u5168\u89e3\u51b3\uff01\u8fd9\u4e2a\u5751\u8db3\u8db3\u56f0\u4e86\u51e0\u5929\uff0c\u5c0f\u7a0b\u5e8f\u6587\u6863\u5e76\u6ca1\u6709\u8bf4\u660e\u5728\u626b\u4e00\u626b\u7684\u65f6\u5019\u6309\u5de6\u4e0a\u89d2\u8fd4\u56de\u65f6\uff0c\u4f1a\u89e6\u53d1`fail`\u56de\u8c03\u51fd\u6570\uff0c\u56e0\u4e3a\u5728\u6587\u6863\u91cc\u9762\u7684\u8def\u7531\u90e8\u5206\u53ea\u662f\u8bf4\u5230\u6309\u5de6\u4e0a\u89d2\u7684\u8fd4\u56de\u4f1a\u89e6\u53d1\u8def\u7531\u540e\u7684\u9875\u9762\u7684`onShow`\u51fd\u6570\u3002\u6240\u4ee5\u5c31\u4e00\u76f4\u89c9\u5f97\u53ea\u80fd\u662f`onShow`\u8fd9\u91cc\u6765\u5904\u7406\u4e86\u3002\\r\\n\\r\\n### \u4e00\u4e9b\u65e0\u6cd5\u77e5\u9053\u7684\u539f\u56e0\\r\\n\u4e3b\u8981\u6293\u4e86\u4e3b\u8981\u7684\u8fc7\u7a0b\u5199\uff0c\u5176\u5b9e\u5176\u4e2d\u5c1d\u8bd5\u8fc7\u5f88\u591a\u65b9\u6cd5\uff0c\u8017\u6bd4\u8f83\u591a\u65f6\u95f4\u3002`onShow`\u89e6\u53d1\u7684\u95ee\u9898\uff0c\u9875\u9762\u8fdb\u6765\u76f4\u63a5\u8c03\u8d77\u626b\u4e00\u626b\uff0c\u6309\u8fd4\u56de\u7684\u65f6\u5019\uff0c\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u9875\u9762\u4f1a\u4e24\u6b21\u89e6\u53d1`onShow`\uff0c\u4e00\u6b21\u662f\u8fd4\u56de\u5230\u8be5\u9875\u9762\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u77e5\u9053\uff0c\u7136\u800c\u8fd8\u4f1a\u7ee7\u7eed\u89e6\u53d1\u7b2c\u4e8c\u6b21\u662f\u5728\u4e0d\u77e5\u9053\u4ec0\u4e48\u539f\u56e0\uff0c\u53ef\u80fd\u662f\u8c03\u7528\u626b\u4e00\u626b\u8fd9\u4e2a\u518d\u89e6\u53d1\u4e00\u6b21\u5427\uff0c\u8fd9\u4e2a\u539f\u56e0\u4e5f\u4e0d\u77e5\u9053\u662f\u4ec0\u4e48\uff0c\u5bf9\u7167\u4e86\u5f88\u4e45\u6587\u6863\u4e2d\u7684\u8def\u7531\u90e8\u5206\uff0c\u5b9e\u5728\u662f\u6ca1\u770b\u51fa\u4e3a\u4ec0\u4e48\u4f1a\u89e6\u53d1\u7b2c\u4e8c\u6b21\u3002"},{"id":"/2018/\u79fb\u52a8\u7aefIOS\u6eda\u52a8\u95ee\u9898","metadata":{"permalink":"/blog/2018/\u79fb\u52a8\u7aefIOS\u6eda\u52a8\u95ee\u9898","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2018/\u79fb\u52a8\u7aefIOS\u6eda\u52a8\u95ee\u9898.md","source":"@site/blog/2018/\u79fb\u52a8\u7aefIOS\u6eda\u52a8\u95ee\u9898.md","title":"\u79fb\u52a8\u7aefIOS\u6eda\u52a8\u95ee\u9898","description":"\u524d\u51e0\u5929\u5728\u9879\u76ee\u4e0a\u9047\u5230\u4e86IOS\u6eda\u52a8\u65e0\u6548\u7684\u95ee\u9898\u3002\u5176\u5b9e\u4e0d\u80fd\u8bf4\u5b8c\u5168\u65e0\u6548\uff0c\u6d4b\u8bd5\u53d1\u73b0\u5728IOS9\u7684\u7248\u672c\u6eda\u52a8\u6ca1\u6709\u660e\u663e\u51fa\u73b0\u65e0\u6548\u7684\u95ee\u9898\uff0c\u4f46\u662f\u5728IOS10\u7684\u7248\u672c\u5374\u5f88\u660e\u663e\uff0c\u52a0\u8f7d\u5b8c\u9875\u9762\uff0c\u4e0a\u4e0b\u6eda\u52a8\u9875\u9762\u5c31\u662f\u6eda\u4e0d\u4e86\u3002\u5206\u51e0\u4e2a\u70b9\u6765\u6392\u67e5\u4ee5\u53ca\u89e3\u51b3\u95ee\u9898","date":"2018-03-16T22:45:08.000Z","formattedDate":"2018\u5e743\u670816\u65e5","tags":[],"readingTime":4.155,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u79fb\u52a8\u7aefIOS\u6eda\u52a8\u95ee\u9898","date":"2018-03-16T22:45:08.000Z","tags":[]},"prevItem":{"title":"\u5c0f\u7a0b\u5e8f\u8e29\u5751-\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898","permalink":"/blog/2018/\u5c0f\u7a0b\u5e8f\u8e29\u5751\u626b\u4e00\u626b\u8fd4\u56de\u95ee\u9898"}},"content":"\u524d\u51e0\u5929\u5728\u9879\u76ee\u4e0a\u9047\u5230\u4e86IOS\u6eda\u52a8\u65e0\u6548\u7684\u95ee\u9898\u3002\u5176\u5b9e\u4e0d\u80fd\u8bf4\u5b8c\u5168\u65e0\u6548\uff0c\u6d4b\u8bd5\u53d1\u73b0\u5728IOS9\u7684\u7248\u672c\u6eda\u52a8\u6ca1\u6709\u660e\u663e\u51fa\u73b0\u65e0\u6548\u7684\u95ee\u9898\uff0c\u4f46\u662f\u5728IOS10\u7684\u7248\u672c\u5374\u5f88\u660e\u663e\uff0c\u52a0\u8f7d\u5b8c\u9875\u9762\uff0c\u4e0a\u4e0b\u6eda\u52a8\u9875\u9762\u5c31\u662f\u6eda\u4e0d\u4e86\u3002\u5206\u51e0\u4e2a\u70b9\u6765\u6392\u67e5\u4ee5\u53ca\u89e3\u51b3\u95ee\u9898\\n\\n 1. IOS10\u7248\u672c\u65e0\u6cd5\u4e0a\u4e0b\u6eda\u52a8\u9875\u9762\\n\x3c!--truncate--\x3e\\n \u7f51\u4e0a\u591a\u756a\u641c\u7d22\u90fd\u662f\u901a\u8fc7\u6dfb\u52a0`-webkit-overflow-scrolling: touch`\u8be5\u5c5e\u6027\uff0c\u6211\u52a0\u4e0a\u8be5\u5c5e\u6027\u540e\uff0c\u6d4b\u8bd5\u53d1\u73b0\u6ca1\u6709\u4efb\u4f55\u6548\u679c\u3002\u7136\u540e\u7ee7\u7eed\u7f51\u4e0a\u5404\u79cd\u5fc5\u5e94\u548c\u8c37\u6b4c\u3002\u627e\u5230\u7684\u65b9\u6cd5\u90fd\u6ca1\u6709\u89e3\u51b3\u8be5\u95ee\u3002\\n\\n 2. \u4e3a\u4f55\u6dfb\u52a0`-webkit-overflow-scrolling`\u4f1a\u65e0\u6548\\n\\n \u4e3a\u4e86\u8fdb\u4e00\u6b65\u9a8c\u8bc1\u95ee\u9898\uff0c\u628a\u9875\u9762\u7684\u9876\u90e8banner\u53bb\u6389\uff0c\u53d1\u73b0IOS10\u795e\u5947\u7684\u53ef\u4ee5\u6eda\u52a8\u4e86\u3002\u4e3a\u4ec0\u4e48\u5462\uff0c\u6700\u7ec8\u628a\u95ee\u9898\u5b9a\u4f4d\u5230banner\u6dfb\u52a0\u7684\u4e00\u4e2acss\u5c5e\u6027`will-change:transform`\u3002\u540e\u6765\u5c4f\u853d\u8be5\u5c5e\u6027\u53d1\u73b0IOS\u8fd9\u8fb9\u786e\u5b9e\u53ef\u4ee5\u6eda\u52a8\u4e86\uff0c\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4f1a\u8fd9\u6837\u8fd8\u6ca1\u67e5\u51fa\u539f\u56e0\u3002\u65e2\u7136\u77e5\u9053\u4e86\u95ee\u9898\u6240\u5728\uff0c\u90a3\u80af\u5b9a\u5c31\u5bb9\u6613\u591a\u4e86\u3002\u7ed3\u679c\u6211\u53d1\u73b0\u95ee\u9898\u5e76\u8fd9\u4e48\u7b80\u5355\u3002\\n\\n 3. \u4f7f\u7528\u7684\u8f6e\u64ad\u63d2\u4ef6\u4e0a\u4e0b\u6eda\u52a8\u65f6\u4f1a\u51fa\u73b0\u56fe\u7247\u91cd\u7ed8\u73b0\u8c61\uff0c\u5373\u6709\u767d\u8272\u7684\u533a\u57df\u4e00\u76f4\u95ea\u70c1\u51fa\u73b0\u3002\\n\\n \u4f7f\u7528\u7684\u8f6e\u64ad\u63d2\u4ef6\u662fjquery\u7684slidesjs,\u63d2\u4ef6\u6bd4\u8f83\u5c0f\u80fd\u5b9e\u73b0\u4e00\u822c\u7684\u8f6e\u64ad\u529f\u80fd\u3002\u4f46\u662f\u6ca1\u60f3\u5230\u5728\u79fb\u52a8\u7aef\u8fd9\u8fb9\u4e0a\u4e0b\u6eda\u52a8\u65f6\u4f1a\u56fe\u7247\u533a\u57df\u4e00\u76f4\u5728\u91cd\u7ed8\u3002\u76ee\u524d\u770b\u662f\u53ea\u6709\u5b89\u5353\u6709\u8fd9\u4e2a\u73b0\u8c61\uff08\u4e0d\u6562\u4fdd\u8bc1\u6240\u6709\u5b89\u5353\u673a\u90fd\u6709\u8fd9\u4e2a\u73b0\u8c61\uff0c\u6bd5\u7adf\u6211\u662f\u7528\u81ea\u5df1\u7684\u5b89\u5353\u624b\u673a\u8c03\u9875\u9762\u7684\u3002\u3002\u3002\uff09\uff0c\u6240\u4ee5\u60f3\u8d77\u4e86`will-change:transform`\u8fd9\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u907f\u514d\u91cd\u7ed8\uff0c\u5f53\u7136\u6709\u517c\u5bb9\u6027\uff0c\u9879\u76ee\u662f\u53ea\u5728\u5fae\u4fe1\u7528\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u517c\u5bb9\u3002\\n\\n 4. \u65e2\u7136\u5b89\u5353\u9700\u8981\u4f7f\u7528\u5230`will-change:transform`\u8fd9\u4e2a\u5c5e\u6027\uff0c\u90a3\u4e48\u5c31\u8be5\u6743\u8861\u4e86\uff0c\u662f\u6362\u8f6e\u64ad\u63d2\u4ef6\u8fd8\u662f\u7ee7\u7eed\u5bfb\u6c42\u5176\u4ed6\u7684\u89e3\u51b3\u529e\u6cd5\\n\\n \u9996\u5148\u8fd8\u662f\u6362\u6362swiper\u63d2\u4ef6\u770b\u770b\u6709\u6ca1\u6709\u91cd\u7ed8\u73b0\u8c61\uff0c\u7ed3\u679c\u53d1\u73b0swiper\u7684\u6ca1\u6709\uff0c\u8fd9\u6837\u5c31\u6709\u4e86\u4e00\u4e2a\u5907\u9009\u65b9\u6848\u3002\\n\u7ee7\u7eed\u4f7f\u7528slidesjs\u65f6\u628abanner\u4ee5\u53ca\u4e0b\u9762\u7684\u9875\u9762\u5185\u5bb9\u90fd\u653e\u5230iScroll\u91cc\u9762\uff0ciScroll\u662f\u9879\u76ee\u4f7f\u7528\u7684\u4e00\u4e2a\u6eda\u52a8\u63d2\u4ef6\uff0c\u5728\u5b89\u5353\u548cIOS\u90fd\u6709\u6bd4\u8f83\u597d\u7684\u6eda\u52a8\u6548\u679c\u3002\u4f46\u662f\u9879\u76ee\u4ee5\u524d\u5c31\u9047\u5230\u4e00\u4e2a\u5751\uff0c\u5c31\u662fslidesjs\u548ciScroll\u653e\u5728\u4e00\u8d77\u662f\u4f1a\u6709\u95ee\u9898\u7684\uff0cslides\u7684\u8f6e\u64ad\u5728iScroll\u7684\u5143\u7d20\u91cc\u9762\u4f1a\u65e0\u6cd5\u70b9\u51fb\u8f6e\u64ad\u56fe\u5b9e\u73b0\u8df3\u8f6c\u9875\u9762\u3002\\n\u90a3\u4e48\u53ea\u6709\u5907\u9009\u65b9\u6848\uff0c\u4f7f\u7528swiper\u505a\u8f6e\u64ad\uff0c\u628a\u5168\u90e8\u5185\u5bb9\u653e\u5728iScroll\u7684\u5143\u7d20\u91cc\u9762\u6eda\u52a8\uff0c\u5b9e\u8df5\u540e\u786e\u4fe1\u4e86\u662f\u53ef\u4ee5\u3002\\n\\n 5. \u91cd\u65b0\u641c\u7d22`-webkit-overflow-scrolling`\u8be5\u5c5e\u6027\uff0c\u5c1d\u8bd5\u6539\u6539\\n \u628a\u9879\u76ee\u8fd8\u539f\u5230\u521d\u59cbIOS\u51fa\u73b0\u95ee\u9898\u7684\u65f6\u5019\uff0c\u53d1\u73b0`-webkit-overflow-scrolling`\u8fd8\u6709\u4e00\u4e2aauto\u5c5e\u6027\uff0c\u5c31\u662f\u4e0d\u8ba9IOS\u6709\u6eda\u52a8\u53cd\u5f39\u6548\u679c\uff0c\u52a0\u4e0a\u53bb\u4ee5\u540e\uff0c\u53d1\u73b0\u5b8c\u7f8e\u89e3\u51b3\u95ee\u9898\uff0c\u4e5f\u4e0d\u9700\u8981\u4fee\u6539`will-change`\u5c5e\u6027\uff0c\u8fd9\u65f6\u90a3\u4e2a\u6fc0\u52a8\u554a\u3002\u8bbe\u7f6e\u4e3atouch\u7684\u65f6\u5019\u5c31\u662f\u589e\u52a0\u53cd\u5f39\u6548\u679c\uff0c\u52a0\u4e86\u53cd\u5f39\u6548\u679c\u53cd\u800c\u65e0\u6cd5\u6eda\u52a8\u3002\\n\\n\u6700\u540e\u5c31\u4e00\u53e5css\u4ee3\u7801\u641e\u5b9a\u4e86\u95ee\u9898\uff0c\u5c31\u662f\u8fd9\u4e48\u6ca1\u60f3\u5230\u3002css\u52a0\u4e0a` -webkit-overflow-scrolling: auto`\u8fd9\u53e5\\n\\n\u8d34\u4e0a\u4ee3\u7801\\n\\n    #slider { //\u8f6e\u64ad\\n        will-change:transform;\\n    }\\n    #shopScr { //\u8f6e\u64ad\u4e0b\u9762\u7684\u6eda\u52a8\u5185\u5bb9\\n        overflow-y:scroll;\\n        -webkit-overflow-scrolling: auto;\\n    }"}]}')}}]);